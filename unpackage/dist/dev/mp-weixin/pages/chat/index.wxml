<app-layout wx:if="{{U}}" class="data-v-5a559478" u-s="{{['d']}}" u-i="5a559478-0" bind:__l="__l" u-p="{{U}}"><view class="{{['chat-page', 'data-v-5a559478', Q]}}" style="{{R}}"><block wx:if="{{a}}"><chat-sidebar wx:if="{{g}}" class="data-v-5a559478" bindcreateChat="{{b}}" bindselectConversation="{{c}}" bindeditConversation="{{d}}" binddeleteConversation="{{e}}" bindtoggleCollapse="{{f}}" u-i="5a559478-1,5a559478-0" bind:__l="__l" u-p="{{g}}"/><view class="chat-main data-v-5a559478"><chat-header wx:if="{{i}}" class="data-v-5a559478" bindtoggleSidebar="{{h}}" u-i="5a559478-2,5a559478-0" bind:__l="__l" u-p="{{i}}"/><view class="message-list-container data-v-5a559478" ref="h5MessageListRef"><chat-message wx:for="{{j}}" wx:for-item="msg" wx:key="a" class="data-v-5a559478" bindfeedback="{{msg.b}}" bindedit="{{msg.c}}" bindrequestEdit="{{msg.d}}" u-i="{{msg.e}}" bind:__l="__l" u-p="{{msg.f}}"/><view class="data-v-5a559478" id="{{k}}" style="height:1px;width:100%"></view></view><chat-input wx:if="{{q}}" class="r data-v-5a559478" u-r="chatInputRef" bindsendMessage="{{m}}" bindstopGenerating="{{n}}" bindclearConversation="{{o}}" bindaddAttachment="{{p}}" u-i="5a559478-4,5a559478-0" bind:__l="__l" u-p="{{q}}"/></view></block><block wx:else><chat-header wx:if="{{s}}" class="data-v-5a559478" bindtoggleSidebar="{{r}}" u-i="5a559478-5,5a559478-0" bind:__l="__l" u-p="{{s}}"/><view class="mobile-chat-container data-v-5a559478"><uni-popup wx:if="{{D}}" class="r data-v-5a559478" u-s="{{['d']}}" u-r="sidebarPopup" bindchange="{{C}}" u-i="5a559478-6,5a559478-0" bind:__l="__l" u-p="{{D}}"><view class="popup-drawer data-v-5a559478" style="{{A}}"><chat-sidebar wx:if="{{z}}" class="data-v-5a559478" bindcreateChat="{{t}}" bindselectConversation="{{v}}" bindeditConversation="{{w}}" binddeleteConversation="{{x}}" bindtoggleCollapse="{{y}}" u-i="5a559478-7,5a559478-6" bind:__l="__l" u-p="{{z}}"/></view></uni-popup><view class="mobile-chat-main data-v-5a559478"><scroll-view class="message-list-container data-v-5a559478" scroll-y enable-flex scroll-into-view="{{G}}" scroll-top="{{H}}" lower-threshold="{{80}}" bindscroll="{{I}}" bindscrolltolower="{{J}}"><chat-message wx:for="{{E}}" wx:for-item="msg" wx:key="a" class="data-v-5a559478" bindfeedback="{{msg.b}}" bindedit="{{msg.c}}" bindrequestEdit="{{msg.d}}" u-i="{{msg.e}}" bind:__l="__l" u-p="{{msg.f}}"/><view class="data-v-5a559478" id="{{F}}" style="height:1px;width:100%"></view></scroll-view><chat-input wx:if="{{P}}" class="r data-v-5a559478" u-r="chatInputRef" bindsendMessage="{{L}}" bindstopGenerating="{{M}}" bindclearConversation="{{N}}" bindaddAttachment="{{O}}" u-i="5a559478-9,5a559478-0" bind:__l="__l" u-p="{{P}}"/></view></view></block></view><view wx:if="{{false}}" class="debug-info data-v-5a559478" style="position:fixed;top:10px;left:10px;background:rgba(0,0,0,0.8);color:white;padding:10px;z-index:9999"><text class="data-v-5a559478">当前消息数: {{S}}</text><text wx:for="{{T}}" wx:for-item="msg" wx:key="d" class="data-v-5a559478">{{msg.a}}: {{msg.b}} - {{msg.c}}</text></view></app-layout>