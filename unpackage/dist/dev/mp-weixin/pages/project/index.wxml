<app-layout wx:if="{{aG}}" class="data-v-47879d53" u-s="{{['d']}}" u-i="47879d53-0" bind:__l="__l" u-p="{{aG}}"><view class="projects data-v-47879d53"><view class="projects__header data-v-47879d53"><view class="projects__title-section data-v-47879d53"><text class="projects__title data-v-47879d53">项目管理</text><text class="projects__subtitle data-v-47879d53">统筹环保项目执行，确保按时高质量完成</text></view><view class="projects__header-actions data-v-47879d53"></view></view><view class="projects__content data-v-47879d53"><view class="projects__list-panel data-v-47879d53"><view class="projects__panel-header data-v-47879d53"><text class="projects__panel-title data-v-47879d53">项目列表</text><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{b}}"><uni-icons wx:if="{{a}}" class="data-v-47879d53" u-i="47879d53-1,47879d53-0" bind:__l="__l" u-p="{{a}}"/><text class="data-v-47879d53">新建项目</text></button></view><scroll-view scroll-y class="projects__scroll data-v-47879d53"><view wx:for="{{c}}" wx:for-item="project" wx:key="r" class="{{['projects__item', 'data-v-47879d53', project.s && 'projects__item--active', project.t && 'projects__item--delayed']}}" bindtap="{{project.v}}"><view class="projects__item-icon data-v-47879d53"><uni-icons wx:if="{{project.b}}" class="data-v-47879d53" u-i="{{project.a}}" bind:__l="__l" u-p="{{project.b}}"/></view><view class="projects__item-content data-v-47879d53"><view class="projects__item-header data-v-47879d53"><text class="projects__item-name data-v-47879d53">{{project.c}}</text><view class="{{['projects__item-badge', 'data-v-47879d53', project.e]}}">{{project.d}}</view></view><text class="projects__item-desc data-v-47879d53">{{project.f}}</text><view class="projects__progress data-v-47879d53"><view class="projects__progress-info data-v-47879d53"><text class="projects__progress-text data-v-47879d53">项目进度</text><text class="projects__progress-percent data-v-47879d53">{{project.g}}%</text></view><view class="projects__progress-bar data-v-47879d53"><view class="{{['projects__progress-fill', 'data-v-47879d53', project.h]}}" style="{{'width:' + project.i}}"></view></view></view><view class="projects__item-meta data-v-47879d53"><view class="projects__item-meta-item data-v-47879d53"><uni-icons wx:if="{{d}}" class="data-v-47879d53" u-i="{{project.j}}" bind:__l="__l" u-p="{{d}}"/><text class="projects__item-meta-text data-v-47879d53">{{project.k}}</text></view><view class="projects__item-meta-item data-v-47879d53"><uni-icons wx:if="{{e}}" class="data-v-47879d53" u-i="{{project.l}}" bind:__l="__l" u-p="{{e}}"/><text class="projects__item-meta-text data-v-47879d53">{{project.m}}</text></view></view></view><view class="projects__item-actions data-v-47879d53"><view class="projects__item-action data-v-47879d53" catchtap="{{project.o}}"><uni-icons wx:if="{{f}}" class="data-v-47879d53" u-i="{{project.n}}" bind:__l="__l" u-p="{{f}}"/></view><view class="projects__item-action data-v-47879d53" catchtap="{{project.q}}"><uni-icons wx:if="{{g}}" class="data-v-47879d53" u-i="{{project.p}}" bind:__l="__l" u-p="{{g}}"/></view></view></view><view wx:if="{{h}}" class="projects__empty data-v-47879d53"><uni-icons wx:if="{{i}}" class="data-v-47879d53" u-i="47879d53-7,47879d53-0" bind:__l="__l" u-p="{{i}}"/><text class="projects__empty-text data-v-47879d53">暂无项目</text><text class="projects__empty-subtext data-v-47879d53">点击上方按钮创建第一个项目</text></view></scroll-view></view><view class="projects__detail-panel data-v-47879d53"><view class="projects__panel-header data-v-47879d53"><view class="projects__detail-header data-v-47879d53"><text class="projects__panel-title data-v-47879d53">项目详情</text><view wx:if="{{j}}" class="projects__detail-status data-v-47879d53">{{k}}</view></view><view class="projects__detail-actions data-v-47879d53"><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{m}}" disabled="{{n}}"><uni-icons wx:if="{{l}}" class="data-v-47879d53" u-i="47879d53-8,47879d53-0" bind:__l="__l" u-p="{{l}}"/><text class="data-v-47879d53">上传项目文件</text></button></view></view><scroll-view scroll-y class="projects__detail-scroll data-v-47879d53"><view wx:if="{{o}}" class="projects__detail-content data-v-47879d53"><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{p}}" class="data-v-47879d53" u-i="47879d53-9,47879d53-0" bind:__l="__l" u-p="{{p}}"/><text class="projects__section-title data-v-47879d53">项目概览</text></view><view class="projects__overview-grid data-v-47879d53"><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">项目编号</text><text class="projects__overview-value data-v-47879d53">{{q}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">负责人</text><text class="projects__overview-value data-v-47879d53">{{r}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">开始日期</text><text class="projects__overview-value data-v-47879d53">{{s}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">截止日期</text><text class="projects__overview-value data-v-47879d53">{{t}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">项目预算</text><text class="projects__overview-value data-v-47879d53">{{v}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">项目类型</text><text class="projects__overview-value data-v-47879d53">{{w}}</text></view></view><text class="projects__overview-desc data-v-47879d53">{{x}}</text></view><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{y}}" class="data-v-47879d53" u-i="47879d53-10,47879d53-0" bind:__l="__l" u-p="{{y}}"/><text class="projects__section-title data-v-47879d53">项目进度</text><text class="projects__section-count data-v-47879d53">{{z}}/{{A}} 个任务</text></view><view class="projects__progress-detail data-v-47879d53"><view class="projects__progress-visual data-v-47879d53"><view class="projects__progress-circle data-v-47879d53" style="{{'--progress:' + C}}"><text class="projects__progress-circle-text data-v-47879d53">{{B}}%</text></view></view><view class="projects__progress-stats data-v-47879d53"><view class="projects__progress-stat data-v-47879d53"><text class="projects__progress-stat-label data-v-47879d53">已完成</text><text class="projects__progress-stat-value data-v-47879d53">{{D}}</text></view><view class="projects__progress-stat data-v-47879d53"><text class="projects__progress-stat-label data-v-47879d53">进行中</text><text class="projects__progress-stat-value data-v-47879d53">{{E}}</text></view><view class="projects__progress-stat data-v-47879d53"><text class="projects__progress-stat-label data-v-47879d53">待处理</text><text class="projects__progress-stat-value data-v-47879d53">{{F}}</text></view><view class="projects__progress-stat data-v-47879d53"><text class="projects__progress-stat-label data-v-47879d53">总任务</text><text class="projects__progress-stat-value data-v-47879d53">{{G}}</text></view></view></view></view><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{H}}" class="data-v-47879d53" u-i="47879d53-11,47879d53-0" bind:__l="__l" u-p="{{H}}"/><text class="projects__section-title data-v-47879d53">项目任务</text><text class="projects__section-count data-v-47879d53">{{I}} 个任务</text></view><view wx:if="{{J}}" class="projects__tasks-list data-v-47879d53"><view wx:for="{{K}}" wx:for-item="task" wx:key="n" class="{{['projects__task-item', 'data-v-47879d53', task.o && 'projects__task-item--completed']}}"><view class="projects__task-checkbox data-v-47879d53" catchtap="{{task.c}}"><uni-icons wx:if="{{task.b}}" class="data-v-47879d53" u-i="{{task.a}}" bind:__l="__l" u-p="{{task.b}}"/></view><view class="projects__task-content data-v-47879d53"><view class="projects__task-header data-v-47879d53"><text class="projects__task-title data-v-47879d53">{{task.d}}</text><view class="{{['projects__task-badge', 'data-v-47879d53', task.f]}}">{{task.e}}优先级 </view></view><text class="projects__task-desc data-v-47879d53">{{task.g}}</text><view class="projects__task-meta data-v-47879d53"><view class="projects__task-meta-item data-v-47879d53"><uni-icons wx:if="{{L}}" class="data-v-47879d53" u-i="{{task.h}}" bind:__l="__l" u-p="{{L}}"/><text class="projects__task-meta-text data-v-47879d53">{{task.i}}</text></view><view class="projects__task-meta-item data-v-47879d53"><uni-icons wx:if="{{M}}" class="data-v-47879d53" u-i="{{task.j}}" bind:__l="__l" u-p="{{M}}"/><text class="projects__task-meta-text data-v-47879d53">{{task.k}}</text></view></view></view><view class="projects__task-actions data-v-47879d53"><view class="projects__task-action data-v-47879d53" catchtap="{{task.m}}"><uni-icons wx:if="{{N}}" class="data-v-47879d53" u-i="{{task.l}}" bind:__l="__l" u-p="{{N}}"/></view></view></view></view><view wx:else class="projects__empty-section data-v-47879d53"><uni-icons wx:if="{{O}}" class="data-v-47879d53" u-i="47879d53-16,47879d53-0" bind:__l="__l" u-p="{{O}}"/><text class="projects__empty-section-text data-v-47879d53">暂无任务</text></view></view><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{P}}" class="data-v-47879d53" u-i="47879d53-17,47879d53-0" bind:__l="__l" u-p="{{P}}"/><text class="projects__section-title data-v-47879d53">项目文档</text><text class="projects__section-count data-v-47879d53">{{Q}} 个文档</text></view><view wx:if="{{R}}" class="projects__documents-list data-v-47879d53"><view wx:for="{{S}}" wx:for-item="document" wx:key="j" class="projects__document-item data-v-47879d53"><view class="projects__document-icon data-v-47879d53"><uni-icons wx:if="{{document.b}}" class="data-v-47879d53" u-i="{{document.a}}" bind:__l="__l" u-p="{{document.b}}"/></view><view class="projects__document-content data-v-47879d53"><text class="projects__document-name data-v-47879d53">{{document.c}}</text><text class="projects__document-meta data-v-47879d53">{{document.d}} • {{document.e}}</text></view><view class="projects__document-actions data-v-47879d53"><view class="projects__document-action data-v-47879d53" catchtap="{{document.g}}"><uni-icons wx:if="{{T}}" class="data-v-47879d53" u-i="{{document.f}}" bind:__l="__l" u-p="{{T}}"/></view><view class="projects__document-action data-v-47879d53" catchtap="{{document.i}}"><uni-icons wx:if="{{U}}" class="data-v-47879d53" u-i="{{document.h}}" bind:__l="__l" u-p="{{U}}"/></view></view></view></view><view wx:else class="projects__empty-section data-v-47879d53"><uni-icons wx:if="{{V}}" class="data-v-47879d53" u-i="47879d53-21,47879d53-0" bind:__l="__l" u-p="{{V}}"/><text class="projects__empty-section-text data-v-47879d53">暂无文档</text></view></view></view><view wx:else class="projects__empty-detail data-v-47879d53"><uni-icons wx:if="{{W}}" class="data-v-47879d53" u-i="47879d53-22,47879d53-0" bind:__l="__l" u-p="{{W}}"/><text class="projects__empty-text data-v-47879d53">请选择项目</text><text class="projects__empty-subtext data-v-47879d53">点击左侧项目查看详情</text></view></scroll-view></view></view></view><view wx:if="{{X}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">新建项目</text><uni-icons wx:if="{{Z}}" class="data-v-47879d53" bindtap="{{Y}}" u-i="47879d53-23,47879d53-0" bind:__l="__l" u-p="{{Z}}"/></view><view class="modal-content data-v-47879d53"><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目名称</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{aa}}" bindinput="{{ab}}"/></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目备注" maxlength="200" value="{{ac}}" bindinput="{{ad}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目背景</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目背景信息" maxlength="500" value="{{ae}}" bindinput="{{af}}"/></block></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{ag}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{ah}}">确认</button></view></view></view><view wx:if="{{ai}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">编辑项目</text><uni-icons wx:if="{{ak}}" class="data-v-47879d53" bindtap="{{aj}}" u-i="47879d53-24,47879d53-0" bind:__l="__l" u-p="{{ak}}"/></view><view class="modal-content data-v-47879d53"><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目名称</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{al}}" bindinput="{{am}}"/></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目备注" maxlength="200" value="{{an}}" bindinput="{{ao}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目背景</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目背景信息" maxlength="500" value="{{ap}}" bindinput="{{aq}}"/></block></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{ar}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{as}}">确认</button></view></view></view><view wx:if="{{at}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">上传文件</text><uni-icons wx:if="{{aw}}" class="data-v-47879d53" bindtap="{{av}}" u-i="47879d53-25,47879d53-0" bind:__l="__l" u-p="{{aw}}"/></view><view class="modal-content data-v-47879d53"><view class="upload-area data-v-47879d53" bindtap="{{ay}}"><uni-icons wx:if="{{ax}}" class="data-v-47879d53" u-i="47879d53-26,47879d53-0" bind:__l="__l" u-p="{{ax}}"/><text class="upload-text data-v-47879d53">点击选择文件</text><text class="upload-subtext data-v-47879d53">支持图片、文档、压缩包等格式</text></view><view wx:if="{{az}}" class="selected-file data-v-47879d53"><uni-icons wx:if="{{aA}}" class="data-v-47879d53" u-i="47879d53-27,47879d53-0" bind:__l="__l" u-p="{{aA}}"/><text class="file-name data-v-47879d53">{{aB}}</text><text class="file-size data-v-47879d53">{{aC}}</text></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{aD}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{aE}}" disabled="{{aF}}"> 上传 </button></view></view></view></app-layout>