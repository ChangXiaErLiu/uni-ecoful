<app-layout wx:if="{{ai}}" class="data-v-47879d53" u-s="{{['d']}}" u-i="47879d53-0" bind:__l="__l" u-p="{{ai}}"><view class="projects data-v-47879d53"><view class="projects__header data-v-47879d53"><view class="projects__title-section data-v-47879d53"><text class="projects__title data-v-47879d53">项目管理</text><text class="projects__subtitle data-v-47879d53">统筹环保项目执行，确保按时高质量完成</text></view><view class="projects__header-actions data-v-47879d53"></view></view><view class="projects__content data-v-47879d53"><view class="projects__list-panel data-v-47879d53"><view class="projects__panel-header data-v-47879d53"><text class="projects__panel-title data-v-47879d53">项目列表</text><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{b}}"><uni-icons wx:if="{{a}}" class="data-v-47879d53" u-i="47879d53-1,47879d53-0" bind:__l="__l" u-p="{{a}}"/><text class="data-v-47879d53">新建项目</text></button></view><scroll-view scroll-y class="projects__scroll data-v-47879d53"><view wx:for="{{c}}" wx:for-item="project" wx:key="m" class="{{['projects__item', 'data-v-47879d53', project.n && 'projects__item--active', project.o && 'projects__item--delayed']}}" bindtap="{{project.p}}"><view class="projects__item-icon data-v-47879d53"><uni-icons wx:if="{{project.b}}" class="data-v-47879d53" u-i="{{project.a}}" bind:__l="__l" u-p="{{project.b}}"/></view><view class="projects__item-content data-v-47879d53"><view class="projects__item-header data-v-47879d53"><text class="projects__item-name data-v-47879d53">{{project.c}}</text></view><text class="projects__item-desc data-v-47879d53">{{project.d}}</text><view class="projects__item-meta data-v-47879d53"><view class="projects__item-meta-item data-v-47879d53"><uni-icons wx:if="{{d}}" class="data-v-47879d53" u-i="{{project.e}}" bind:__l="__l" u-p="{{d}}"/><text class="projects__item-meta-text data-v-47879d53">{{project.f}}</text></view><view class="projects__item-meta-item data-v-47879d53"><uni-icons wx:if="{{e}}" class="data-v-47879d53" u-i="{{project.g}}" bind:__l="__l" u-p="{{e}}"/><text class="projects__item-meta-text data-v-47879d53">{{project.h}}</text></view></view></view><view class="projects__item-actions data-v-47879d53"><view class="projects__item-action data-v-47879d53" catchtap="{{project.j}}"><uni-icons wx:if="{{f}}" class="data-v-47879d53" u-i="{{project.i}}" bind:__l="__l" u-p="{{f}}"/></view><view class="projects__item-action data-v-47879d53" catchtap="{{project.l}}"><uni-icons wx:if="{{g}}" class="data-v-47879d53" u-i="{{project.k}}" bind:__l="__l" u-p="{{g}}"/></view></view></view><view wx:if="{{h}}" class="projects__empty data-v-47879d53"><uni-icons wx:if="{{i}}" class="data-v-47879d53" u-i="47879d53-7,47879d53-0" bind:__l="__l" u-p="{{i}}"/><text class="projects__empty-text data-v-47879d53">暂无项目</text><text class="projects__empty-subtext data-v-47879d53">点击上方按钮创建第一个项目</text></view></scroll-view></view><view class="projects__detail-panel data-v-47879d53"><view class="projects__panel-header data-v-47879d53"><view class="projects__detail-header data-v-47879d53"><text class="projects__panel-title data-v-47879d53">项目详情</text></view><view class="projects__detail-actions data-v-47879d53"><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{k}}" disabled="{{l}}"><uni-icons wx:if="{{j}}" class="data-v-47879d53" u-i="47879d53-8,47879d53-0" bind:__l="__l" u-p="{{j}}"/><text class="data-v-47879d53">上传项目文件</text></button></view></view><scroll-view scroll-y class="projects__detail-scroll data-v-47879d53"><view wx:if="{{m}}" class="projects__detail-content data-v-47879d53"><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{n}}" class="data-v-47879d53" u-i="47879d53-9,47879d53-0" bind:__l="__l" u-p="{{n}}"/><text class="projects__section-title data-v-47879d53">项目概览</text></view><view class="projects__overview-grid data-v-47879d53"><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">负责人</text><text class="projects__overview-value data-v-47879d53">{{o}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">项目预算</text><text class="projects__overview-value data-v-47879d53">{{p}}</text></view><view class="projects__overview-item data-v-47879d53"><text class="projects__overview-label data-v-47879d53">项目类型</text><text class="projects__overview-value data-v-47879d53">{{q}}</text></view></view></view><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{r}}" class="data-v-47879d53" u-i="47879d53-10,47879d53-0" bind:__l="__l" u-p="{{r}}"/><text class="projects__section-title data-v-47879d53">项目文档</text><text class="projects__section-count data-v-47879d53">{{s}} 个文档</text></view><view wx:if="{{t}}" class="projects__documents-list data-v-47879d53"><view wx:for="{{v}}" wx:for-item="document" wx:key="j" class="projects__document-item data-v-47879d53"><view class="projects__document-icon data-v-47879d53"><uni-icons wx:if="{{document.b}}" class="data-v-47879d53" u-i="{{document.a}}" bind:__l="__l" u-p="{{document.b}}"/></view><view class="projects__document-content data-v-47879d53"><text class="projects__document-name data-v-47879d53">{{document.c}}</text><text class="projects__document-meta data-v-47879d53">{{document.d}} • {{document.e}}</text></view><view class="projects__document-actions data-v-47879d53"><view class="projects__document-action data-v-47879d53" catchtap="{{document.g}}"><uni-icons wx:if="{{w}}" class="data-v-47879d53" u-i="{{document.f}}" bind:__l="__l" u-p="{{w}}"/></view><view class="projects__document-action data-v-47879d53" catchtap="{{document.i}}"><uni-icons wx:if="{{x}}" class="data-v-47879d53" u-i="{{document.h}}" bind:__l="__l" u-p="{{x}}"/></view></view></view></view><view wx:else class="projects__empty-section data-v-47879d53"><uni-icons wx:if="{{y}}" class="data-v-47879d53" u-i="47879d53-14,47879d53-0" bind:__l="__l" u-p="{{y}}"/><text class="projects__empty-section-text data-v-47879d53">暂无文档</text></view></view></view><view wx:else class="projects__empty-detail data-v-47879d53"><uni-icons wx:if="{{z}}" class="data-v-47879d53" u-i="47879d53-15,47879d53-0" bind:__l="__l" u-p="{{z}}"/><text class="projects__empty-text data-v-47879d53">请选择项目</text><text class="projects__empty-subtext data-v-47879d53">点击左侧项目查看详情</text></view></scroll-view></view></view></view><view wx:if="{{A}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">新建项目</text><uni-icons wx:if="{{C}}" class="data-v-47879d53" bindtap="{{B}}" u-i="47879d53-16,47879d53-0" bind:__l="__l" u-p="{{C}}"/></view><view class="modal-content data-v-47879d53"><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目名称</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{D}}" bindinput="{{E}}"/></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目备注" maxlength="200" value="{{F}}" bindinput="{{G}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目背景</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目背景信息" maxlength="500" value="{{H}}" bindinput="{{I}}"/></block></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{J}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{K}}">确认</button></view></view></view><view wx:if="{{L}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">编辑项目</text><uni-icons wx:if="{{N}}" class="data-v-47879d53" bindtap="{{M}}" u-i="47879d53-17,47879d53-0" bind:__l="__l" u-p="{{N}}"/></view><view class="modal-content data-v-47879d53"><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目名称</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{O}}" bindinput="{{P}}"/></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目备注" maxlength="200" value="{{Q}}" bindinput="{{R}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目背景</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目背景信息" maxlength="500" value="{{S}}" bindinput="{{T}}"/></block></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{U}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{V}}">确认</button></view></view></view><view wx:if="{{W}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">上传文件</text><uni-icons wx:if="{{Y}}" class="data-v-47879d53" bindtap="{{X}}" u-i="47879d53-18,47879d53-0" bind:__l="__l" u-p="{{Y}}"/></view><view class="modal-content data-v-47879d53"><view class="upload-area data-v-47879d53" bindtap="{{aa}}"><uni-icons wx:if="{{Z}}" class="data-v-47879d53" u-i="47879d53-19,47879d53-0" bind:__l="__l" u-p="{{Z}}"/><text class="upload-text data-v-47879d53">点击选择文件</text><text class="upload-subtext data-v-47879d53">支持图片、文档、压缩包等格式</text></view><view wx:if="{{ab}}" class="selected-file data-v-47879d53"><uni-icons wx:if="{{ac}}" class="data-v-47879d53" u-i="47879d53-20,47879d53-0" bind:__l="__l" u-p="{{ac}}"/><text class="file-name data-v-47879d53">{{ad}}</text><text class="file-size data-v-47879d53">{{ae}}</text></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{af}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{ag}}" disabled="{{ah}}"> 上传 </button></view></view></view></app-layout>