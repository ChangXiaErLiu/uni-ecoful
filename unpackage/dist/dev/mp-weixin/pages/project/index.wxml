<app-layout wx:if="{{az}}" class="data-v-47879d53" u-s="{{['d']}}" u-i="47879d53-0" bind:__l="__l" u-p="{{az}}"><view class="projects data-v-47879d53"><view class="projects__header data-v-47879d53"><view class="projects__title-section data-v-47879d53"><text class="projects__title data-v-47879d53">项目管理</text><text class="projects__subtitle data-v-47879d53">统筹环保项目执行，确保按时高质量完成</text></view></view><view class="projects__content data-v-47879d53"><view class="projects__list-panel data-v-47879d53"><view class="projects__panel-header data-v-47879d53"><view class="projects__detail-header data-v-47879d53"><text class="projects__panel-title data-v-47879d53">项目列表</text></view><view class="projects__detail-actions data-v-47879d53"><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{b}}"><uni-icons wx:if="{{a}}" class="data-v-47879d53" u-i="47879d53-1,47879d53-0" bind:__l="__l" u-p="{{a}}"/><text class="data-v-47879d53">新建项目</text></button></view></view><scroll-view class="projects__scroll data-v-47879d53"><view wx:for="{{c}}" wx:for-item="project" wx:key="m" class="{{['projects__item', 'data-v-47879d53', project.n && 'projects__item--active']}}" bindtap="{{project.o}}"><view class="projects__item-icon data-v-47879d53"><uni-icons wx:if="{{d}}" class="data-v-47879d53" u-i="{{project.a}}" bind:__l="__l" u-p="{{d}}"/></view><view class="projects__item-content data-v-47879d53"><view class="projects__item-header data-v-47879d53"><text class="projects__item-name data-v-47879d53">{{project.b}}</text></view><text class="projects__item-desc data-v-47879d53">{{project.c}}</text><text class="projects__item-desc data-v-47879d53">{{project.d}}</text><view class="projects__item-meta data-v-47879d53"><view class="projects__item-meta-item data-v-47879d53"><uni-icons wx:if="{{e}}" class="data-v-47879d53" u-i="{{project.e}}" bind:__l="__l" u-p="{{e}}"/><text class="projects__item-meta-text data-v-47879d53">{{project.f}}</text></view><view class="projects__item-meta-item data-v-47879d53"><uni-icons wx:if="{{f}}" class="data-v-47879d53" u-i="{{project.g}}" bind:__l="__l" u-p="{{f}}"/><text class="projects__item-meta-text data-v-47879d53">{{project.h}}</text></view></view></view><view class="projects__item-actions data-v-47879d53"><view class="projects__item-action data-v-47879d53" catchtap="{{project.j}}"><uni-icons wx:if="{{g}}" class="data-v-47879d53" u-i="{{project.i}}" bind:__l="__l" u-p="{{g}}"/></view><view class="projects__item-action data-v-47879d53" catchtap="{{project.l}}"><uni-icons wx:if="{{h}}" class="data-v-47879d53" u-i="{{project.k}}" bind:__l="__l" u-p="{{h}}"/></view></view></view><view wx:if="{{i}}" class="projects__empty data-v-47879d53"><uni-icons wx:if="{{j}}" class="data-v-47879d53" u-i="47879d53-7,47879d53-0" bind:__l="__l" u-p="{{j}}"/><text class="projects__empty-text data-v-47879d53">暂无项目</text><text class="projects__empty-subtext data-v-47879d53">点击上方按钮创建第一个项目</text></view></scroll-view></view><view class="projects__detail-panel data-v-47879d53"><view class="projects__panel-header data-v-47879d53"><view class="projects__detail-header data-v-47879d53"><text class="projects__panel-title data-v-47879d53">文档列表</text></view><view class="projects__detail-actions data-v-47879d53"><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{l}}" disabled="{{m}}"><uni-icons wx:if="{{k}}" class="data-v-47879d53" u-i="47879d53-8,47879d53-0" bind:__l="__l" u-p="{{k}}"/><text class="data-v-47879d53">上传项目文件</text></button><button class="projects__button projects__button--primary data-v-47879d53" bindtap="{{o}}" disabled="{{p}}"><uni-icons wx:if="{{n}}" class="data-v-47879d53" u-i="47879d53-9,47879d53-0" bind:__l="__l" u-p="{{n}}"/><text class="data-v-47879d53">竣工验收</text></button></view></view><scroll-view scroll-y class="projects__detail-scroll data-v-47879d53"><view wx:if="{{q}}" class="projects__detail-content data-v-47879d53"><view class="projects__section data-v-47879d53"><view class="projects__section-header data-v-47879d53"><uni-icons wx:if="{{r}}" class="data-v-47879d53" u-i="47879d53-10,47879d53-0" bind:__l="__l" u-p="{{r}}"/><text class="projects__section-title data-v-47879d53">项目文档</text><text class="projects__section-count data-v-47879d53">{{s}} 个文档</text></view><view wx:if="{{t}}" class="projects__documents-list data-v-47879d53"><view wx:for="{{v}}" wx:for-item="document" wx:key="i" class="projects__document-item data-v-47879d53"><view class="projects__document-icon data-v-47879d53"><image class="data-v-47879d53" src="{{document.a}}" style="width:20px;height:20px"/></view><view class="projects__document-content data-v-47879d53"><text class="projects__document-name data-v-47879d53">{{document.b}}</text><text class="projects__document-meta data-v-47879d53">{{document.c}} · 上传时间: {{document.d}}</text></view><view class="projects__document-actions data-v-47879d53"><view class="projects__document-action data-v-47879d53" catchtap="{{document.f}}"><uni-icons wx:if="{{w}}" class="data-v-47879d53" u-i="{{document.e}}" bind:__l="__l" u-p="{{w}}"/></view><view class="projects__document-action data-v-47879d53" catchtap="{{document.h}}"><uni-icons wx:if="{{x}}" class="data-v-47879d53" u-i="{{document.g}}" bind:__l="__l" u-p="{{x}}"/></view></view></view></view><view wx:else class="projects__empty-section data-v-47879d53"><uni-icons wx:if="{{y}}" class="data-v-47879d53" u-i="47879d53-13,47879d53-0" bind:__l="__l" u-p="{{y}}"/><text class="projects__empty-section-text data-v-47879d53">暂无文档</text></view></view></view><view wx:else class="projects__empty-detail data-v-47879d53"><uni-icons wx:if="{{z}}" class="data-v-47879d53" u-i="47879d53-14,47879d53-0" bind:__l="__l" u-p="{{z}}"/><text class="projects__empty-text data-v-47879d53">请选择项目</text><text class="projects__empty-subtext data-v-47879d53">点击对应项目查看详情</text></view></scroll-view></view></view></view><view wx:if="{{A}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">新建项目</text><uni-icons wx:if="{{C}}" class="data-v-47879d53" bindtap="{{B}}" u-i="47879d53-15,47879d53-0" bind:__l="__l" u-p="{{C}}"/></view><view class="modal-content data-v-47879d53"><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目名称</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{D}}" bindinput="{{E}}"/></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目背景</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目背景" maxlength="1000" value="{{F}}" bindinput="{{G}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目项目备注" maxlength="1000" value="{{H}}" bindinput="{{I}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目成员</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{J}}" bindinput="{{K}}"/></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{L}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{M}}">确认</button></view></view></view><view wx:if="{{N}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">编辑项目</text><uni-icons wx:if="{{P}}" class="data-v-47879d53" bindtap="{{O}}" u-i="47879d53-16,47879d53-0" bind:__l="__l" u-p="{{P}}"/></view><view class="modal-content data-v-47879d53"><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目名称</text><input class="form-input data-v-47879d53" placeholder="请输入项目名称" type="text" value="{{Q}}" bindinput="{{R}}"/></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目背景</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目项目背景" maxlength="200" value="{{S}}" bindinput="{{T}}"/></block></view><view class="form-group data-v-47879d53"><text class="form-label data-v-47879d53">项目备注</text><block wx:if="{{r0}}"><textarea class="form-textarea data-v-47879d53" placeholder="请输入项目项目备注" maxlength="500" value="{{U}}" bindinput="{{V}}"/></block></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{W}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{X}}">确认</button></view></view></view><view wx:if="{{Y}}" class="modal-overlay data-v-47879d53"><view class="modal-container data-v-47879d53"><view class="modal-header data-v-47879d53"><text class="modal-title data-v-47879d53">上传文件</text><uni-icons wx:if="{{aa}}" class="data-v-47879d53" bindtap="{{Z}}" u-i="47879d53-17,47879d53-0" bind:__l="__l" u-p="{{aa}}"/></view><view class="modal-content data-v-47879d53"><view class="upload-area data-v-47879d53" bindtap="{{ac}}"><uni-icons wx:if="{{ab}}" class="data-v-47879d53" u-i="47879d53-18,47879d53-0" bind:__l="__l" u-p="{{ab}}"/><text class="upload-text data-v-47879d53">点击选择文件</text><text class="upload-subtext data-v-47879d53">最多选择9个文件</text></view><text class="upload-hint data-v-47879d53">支持 PDF、Word、Excel、图片等格式，单个文件最大 100 MB</text><view wx:if="{{ad}}" class="selected-files-list data-v-47879d53"><view class="selected-files-header data-v-47879d53"><view class="selected-files-info data-v-47879d53"><text class="selected-files-title data-v-47879d53">已选择 {{ae}} 个文件</text><text class="selected-files-size data-v-47879d53">总大小: {{af}}</text></view><button class="clear-all-btn data-v-47879d53" bindtap="{{ah}}"><uni-icons wx:if="{{ag}}" class="data-v-47879d53" u-i="47879d53-19,47879d53-0" bind:__l="__l" u-p="{{ag}}"/><text class="data-v-47879d53">清空</text></button></view><scroll-view class="selected-files-scroll data-v-47879d53" scroll-y><view wx:for="{{ai}}" wx:for-item="file" wx:key="f" class="selected-file-item data-v-47879d53"><uni-icons wx:if="{{aj}}" class="data-v-47879d53" u-i="{{file.a}}" bind:__l="__l" u-p="{{aj}}"/><text class="file-item-name data-v-47879d53">{{file.b}}</text><text class="file-item-size data-v-47879d53">{{file.c}}</text><view class="file-item-remove data-v-47879d53" catchtap="{{file.e}}"><uni-icons wx:if="{{ak}}" class="data-v-47879d53" u-i="{{file.d}}" bind:__l="__l" u-p="{{ak}}"/></view></view></scroll-view></view></view><view class="modal-actions data-v-47879d53"><button class="modal-button modal-button--cancel data-v-47879d53" bindtap="{{al}}">取消</button><button class="modal-button modal-button--confirm data-v-47879d53" bindtap="{{an}}" disabled="{{ao}}"> 上传{{am}}</button></view></view></view><view wx:if="{{ap}}" class="upload-progress-float data-v-47879d53"><view class="progress-float-container data-v-47879d53"><view class="progress-float-header data-v-47879d53"><text class="progress-float-title data-v-47879d53">文件上传中</text><uni-icons wx:if="{{aq}}" class="data-v-47879d53" bindtap="{{ar}}" u-i="47879d53-22,47879d53-0" bind:__l="__l" u-p="{{as}}"/></view><view class="progress-float-content data-v-47879d53"><view class="progress-info data-v-47879d53"><text class="progress-message data-v-47879d53">{{at}}</text><text class="progress-count data-v-47879d53">{{av}} / {{aw}}</text></view><view class="progress-bar-container data-v-47879d53"><view class="progress-bar-fill data-v-47879d53" style="{{'width:' + ax}}"></view></view><text class="progress-percent data-v-47879d53">{{ay}}%</text></view></view></view></app-layout>