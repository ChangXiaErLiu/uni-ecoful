<app-layout wx:if="{{Z}}" class="data-v-10464b8b" u-s="{{['d']}}" u-i="10464b8b-0" bind:__l="__l" u-p="{{Z}}"><view class="reconnoitre-page data-v-10464b8b"><view class="reconnoitre-tabs data-v-10464b8b"><view class="tabs-container data-v-10464b8b"><view wx:for="{{a}}" wx:for-item="tab" wx:key="b" class="{{['tab-item', 'data-v-10464b8b', tab.c && 'tab-item--active']}}" bindtap="{{tab.d}}"><text class="tab-label data-v-10464b8b">{{tab.a}}</text></view></view></view><view class="reconnoitre-content data-v-10464b8b"><scroll-view class="content-scroll data-v-10464b8b" scroll-y><view hidden="{{!q}}" class="content-section data-v-10464b8b"><view class="section-card data-v-10464b8b"><view class="section-header data-v-10464b8b"><uni-icons wx:if="{{b}}" class="data-v-10464b8b" u-i="10464b8b-1,10464b8b-0" bind:__l="__l" u-p="{{b}}"/><text class="section-title data-v-10464b8b">主要建设内容</text></view><view class="section-body data-v-10464b8b"><view class="section-actions data-v-10464b8b"><button class="btn btn--ghost data-v-10464b8b" bindtap="{{d}}"><uni-icons wx:if="{{c}}" class="data-v-10464b8b" u-i="10464b8b-2,10464b8b-0" bind:__l="__l" u-p="{{c}}"/><text class="data-v-10464b8b">新增</text></button><button wx:if="{{e}}" class="btn btn--danger data-v-10464b8b" disabled="{{h}}" bindtap="{{i}}"><uni-icons wx:if="{{f}}" class="data-v-10464b8b" u-i="10464b8b-3,10464b8b-0" bind:__l="__l" u-p="{{f}}"/><text class="data-v-10464b8b">删除选中（{{g}}）</text></button><button class="btn btn--secondary data-v-10464b8b" bindtap="{{l}}"><uni-icons wx:if="{{j}}" class="data-v-10464b8b" u-i="10464b8b-4,10464b8b-0" bind:__l="__l" u-p="{{j}}"/><text class="data-v-10464b8b">{{k}}</text></button></view><view wx:if="{{m}}" class="form-grid form-grid--base data-v-10464b8b"><view wx:for="{{n}}" wx:for-item="item" wx:key="k" class="form-item data-v-10464b8b"><view class="baseinfo__row data-v-10464b8b"><text class="form-item__label data-v-10464b8b">{{item.a}}</text><view wx:if="{{item.b}}" class="form-item__image-upload data-v-10464b8b"><uni-file-picker wx:if="{{item.e}}" class="data-v-10464b8b" u-i="{{item.c}}" bind:__l="__l" bindupdateModelValue="{{item.d}}" u-p="{{item.e}}"/></view><uni-easyinput wx:else class="form-item__input data-v-10464b8b" u-i="{{item.f}}" bind:__l="__l" bindupdateModelValue="{{item.g}}" u-p="{{item.h||''}}"/><view wx:if="{{o}}" class="form-item__select data-v-10464b8b"><checkbox class="data-v-10464b8b" checked="{{item.i}}" bindtap="{{item.j}}"/></view></view></view></view><view wx:else class="empty-state data-v-10464b8b"><uni-icons wx:if="{{p}}" class="data-v-10464b8b" u-i="10464b8b-7,10464b8b-0" bind:__l="__l" u-p="{{p}}"/><text class="empty-text data-v-10464b8b">暂无建设内容</text><text class="empty-tip data-v-10464b8b">点击新增按钮添加建设内容</text></view></view></view></view><view hidden="{{!J}}" class="content-section data-v-10464b8b"><view class="section-card data-v-10464b8b"><view class="section-header data-v-10464b8b"><uni-icons wx:if="{{r}}" class="data-v-10464b8b" u-i="10464b8b-8,10464b8b-0" bind:__l="__l" u-p="{{r}}"/><text class="section-title data-v-10464b8b">设备列表情况</text></view><view class="section-body data-v-10464b8b"><view class="section-actions data-v-10464b8b"><button class="btn btn--ghost data-v-10464b8b" bindtap="{{t}}"><uni-icons wx:if="{{s}}" class="data-v-10464b8b" u-i="10464b8b-9,10464b8b-0" bind:__l="__l" u-p="{{s}}"/><text class="data-v-10464b8b">新增设备</text></button><button class="btn btn--primary data-v-10464b8b" bindtap="{{x}}" disabled="{{y}}"><uni-icons wx:if="{{v}}" class="data-v-10464b8b" u-i="10464b8b-10,10464b8b-0" bind:__l="__l" u-p="{{v}}"/><text class="data-v-10464b8b">{{w}}</text></button></view><view wx:if="{{z}}" class="loading-state data-v-10464b8b"><uni-icons wx:if="{{A}}" class="loading-icon data-v-10464b8b" u-i="10464b8b-11,10464b8b-0" bind:__l="__l" u-p="{{A}}"/><text class="loading-text data-v-10464b8b">正在加载设备数据...</text></view><view wx:elif="{{B}}" class="error-state data-v-10464b8b"><uni-icons wx:if="{{C}}" class="data-v-10464b8b" u-i="10464b8b-12,10464b8b-0" bind:__l="__l" u-p="{{C}}"/><text class="error-text data-v-10464b8b">加载失败: {{D}}</text><button class="btn btn--secondary data-v-10464b8b" bindtap="{{E}}"><text class="data-v-10464b8b">重新加载</text></button></view><view wx:elif="{{F}}" class="data-table-container data-v-10464b8b"><scroll-view class="data-table-scroll data-v-10464b8b" scroll-x><view class="data-table data-v-10464b8b"><view class="table-header data-v-10464b8b"><text class="table-th device-name data-v-10464b8b">设备名称</text><text class="table-th device-quantity data-v-10464b8b">数量</text><text class="table-th device-remark data-v-10464b8b">备注</text><text class="table-th device-images data-v-10464b8b">图片</text><text class="table-th device-actions data-v-10464b8b">操作</text></view><view class="table-body data-v-10464b8b"><view wx:for="{{G}}" wx:for-item="item" wx:key="o" class="table-row data-v-10464b8b"><view class="table-td device-name data-v-10464b8b"><uni-easyinput wx:if="{{item.c}}" class="table-input data-v-10464b8b" u-i="{{item.a}}" bind:__l="__l" bindupdateModelValue="{{item.b}}" u-p="{{item.c}}"/></view><view class="table-td device-quantity data-v-10464b8b"><uni-easyinput wx:if="{{item.f}}" class="table-input data-v-10464b8b" u-i="{{item.d}}" bind:__l="__l" bindupdateModelValue="{{item.e}}" u-p="{{item.f}}"/></view><view class="table-td device-remark data-v-10464b8b"><uni-easyinput wx:if="{{item.i}}" class="table-input data-v-10464b8b" u-i="{{item.g}}" bind:__l="__l" bindupdateModelValue="{{item.h}}" u-p="{{item.i}}"/></view><view class="table-td device-images data-v-10464b8b"><uni-file-picker wx:if="{{item.l}}" class="file-picker data-v-10464b8b" u-i="{{item.j}}" bind:__l="__l" bindupdateModelValue="{{item.k}}" u-p="{{item.l}}"/></view><view class="table-td device-actions data-v-10464b8b"><button class="icon-btn icon-btn--danger data-v-10464b8b" bindtap="{{item.n}}"><uni-icons wx:if="{{H}}" class="data-v-10464b8b" u-i="{{item.m}}" bind:__l="__l" u-p="{{H}}"/></button></view></view></view></view></scroll-view></view><view wx:else class="empty-state data-v-10464b8b"><uni-icons wx:if="{{I}}" class="data-v-10464b8b" u-i="10464b8b-18,10464b8b-0" bind:__l="__l" u-p="{{I}}"/><text class="empty-text data-v-10464b8b">暂无设备信息</text><text class="empty-tip data-v-10464b8b">点击新增按钮添加设备，或刷新数据从接口获取</text></view></view></view></view><view hidden="{{!R}}" class="content-section data-v-10464b8b"><view class="section-card data-v-10464b8b"><view class="section-header data-v-10464b8b"><uni-icons wx:if="{{K}}" class="data-v-10464b8b" u-i="10464b8b-19,10464b8b-0" bind:__l="__l" u-p="{{K}}"/><text class="section-title data-v-10464b8b">污染物设施情况</text></view><view class="section-body data-v-10464b8b"><view class="section-actions data-v-10464b8b"><button class="btn btn--ghost data-v-10464b8b" bindtap="{{M}}"><uni-icons wx:if="{{L}}" class="data-v-10464b8b" u-i="10464b8b-20,10464b8b-0" bind:__l="__l" u-p="{{L}}"/><text class="data-v-10464b8b">新增设施</text></button></view><view wx:if="{{N}}" class="data-table-container data-v-10464b8b"><scroll-view class="data-table-scroll data-v-10464b8b" scroll-x><view class="data-table data-v-10464b8b"><view class="table-header data-v-10464b8b"><text class="table-th device-name data-v-10464b8b">设施名称</text><text class="table-th device-quantity data-v-10464b8b">数量</text><text class="table-th device-remark data-v-10464b8b">备注</text><text class="table-th device-images data-v-10464b8b">图片</text><text class="table-th device-actions data-v-10464b8b">操作</text></view><view class="table-body data-v-10464b8b"><view wx:for="{{O}}" wx:for-item="item" wx:key="o" class="table-row data-v-10464b8b"><view class="table-td device-name data-v-10464b8b"><uni-easyinput wx:if="{{item.c}}" class="table-input data-v-10464b8b" u-i="{{item.a}}" bind:__l="__l" bindupdateModelValue="{{item.b}}" u-p="{{item.c}}"/></view><view class="table-td device-quantity data-v-10464b8b"><uni-easyinput wx:if="{{item.f}}" class="table-input data-v-10464b8b" u-i="{{item.d}}" bind:__l="__l" bindupdateModelValue="{{item.e}}" u-p="{{item.f}}"/></view><view class="table-td device-remark data-v-10464b8b"><uni-easyinput wx:if="{{item.i}}" class="table-input data-v-10464b8b" u-i="{{item.g}}" bind:__l="__l" bindupdateModelValue="{{item.h}}" u-p="{{item.i}}"/></view><view class="table-td device-images data-v-10464b8b"><uni-file-picker wx:if="{{item.l}}" class="file-picker data-v-10464b8b" u-i="{{item.j}}" bind:__l="__l" bindupdateModelValue="{{item.k}}" u-p="{{item.l}}"/></view><view class="table-td device-actions data-v-10464b8b"><button class="icon-btn icon-btn--danger data-v-10464b8b" bindtap="{{item.n}}"><uni-icons wx:if="{{P}}" class="data-v-10464b8b" u-i="{{item.m}}" bind:__l="__l" u-p="{{P}}"/></button></view></view></view></view></scroll-view></view><view wx:else class="empty-state data-v-10464b8b"><uni-icons wx:if="{{Q}}" class="data-v-10464b8b" u-i="10464b8b-26,10464b8b-0" bind:__l="__l" u-p="{{Q}}"/><text class="empty-text data-v-10464b8b">暂无污染物设施信息</text><text class="empty-tip data-v-10464b8b">点击新增按钮添加设施</text></view></view></view></view><view hidden="{{!Y}}" class="content-section data-v-10464b8b"><view class="section-card data-v-10464b8b"><view class="section-header data-v-10464b8b"><uni-icons wx:if="{{S}}" class="data-v-10464b8b" u-i="10464b8b-27,10464b8b-0" bind:__l="__l" u-p="{{S}}"/><text class="section-title data-v-10464b8b">排污口情况</text></view><view class="section-body data-v-10464b8b"><view class="section-actions data-v-10464b8b"><button class="btn btn--primary data-v-10464b8b" bindtap="{{U}}"><uni-icons wx:if="{{T}}" class="data-v-10464b8b" u-i="10464b8b-28,10464b8b-0" bind:__l="__l" u-p="{{T}}"/><text class="data-v-10464b8b">生成排污口信息</text></button></view><view wx:if="{{V}}" class="data-table data-v-10464b8b"><view class="table-body data-v-10464b8b"><block wx:for="{{W}}" wx:for-item="sec" wx:key="h"><view class="table-row table-row--simple data-v-10464b8b"><text class="table-td table-td--section data-v-10464b8b">{{sec.a}}</text><button wx:if="{{sec.b}}" class="pw-ico icon-btn data-v-10464b8b" bindtap="{{sec.e}}"><uni-icons wx:if="{{sec.d}}" class="data-v-10464b8b" u-i="{{sec.c}}" bind:__l="__l" u-p="{{sec.d}}"/><text class="data-v-10464b8b">新增</text></button></view><view class="form-grid form-grid--base data-v-10464b8b"><block wx:for="{{sec.f}}" wx:for-item="group" wx:key="e"><view wx:for="{{group.a}}" wx:for-item="it" wx:key="g" class="form-item data-v-10464b8b"><view class="form-item__row data-v-10464b8b"><uni-easyinput wx:if="{{it.c}}" class="data-v-10464b8b" u-i="{{it.a}}" bind:__l="__l" bindupdateModelValue="{{it.b}}" u-p="{{it.c}}"/><uni-easyinput wx:if="{{it.f}}" class="data-v-10464b8b" u-i="{{it.d}}" bind:__l="__l" bindupdateModelValue="{{it.e}}" u-p="{{it.f}}"/></view></view><view wx:if="{{sec.g}}" class="form-item data-v-10464b8b" style="margin-bottom:12px"><view class="form-item__row data-v-10464b8b" style="justify-content:flex-end"><button class="icon-btn icon-btn--danger data-v-10464b8b" bindtap="{{group.d}}"><uni-icons wx:if="{{group.c}}" class="data-v-10464b8b" u-i="{{group.b}}" bind:__l="__l" u-p="{{group.c}}"/></button></view></view></block></view></block></view></view><view wx:else class="empty-state data-v-10464b8b"><uni-icons wx:if="{{X}}" class="data-v-10464b8b" u-i="10464b8b-33,10464b8b-0" bind:__l="__l" u-p="{{X}}"/><text class="empty-text data-v-10464b8b">暂无排污口信息</text><text class="empty-tip data-v-10464b8b">点击生成按钮获取排污口信息</text></view></view></view></view></scroll-view></view></view></app-layout><uni-popup wx:if="{{af}}" class="r data-v-10464b8b" u-s="{{['d']}}" u-r="newMainContentPopup" u-i="10464b8b-34" bind:__l="__l" u-p="{{af}}"><view class="modal data-v-10464b8b"><view class="modal-header data-v-10464b8b"><text class="modal-title data-v-10464b8b">新增建设内容</text></view><view class="modal-body data-v-10464b8b"><text class="modal-description data-v-10464b8b">请输入内容名称</text><uni-easyinput wx:if="{{ab}}" class="data-v-10464b8b" u-i="10464b8b-35,10464b8b-34" bind:__l="__l" bindupdateModelValue="{{aa}}" u-p="{{ab}}"/></view><view class="modal-actions data-v-10464b8b"><button class="btn btn--ghost data-v-10464b8b" bindtap="{{ac}}">取消</button><button class="btn btn--primary data-v-10464b8b" bindtap="{{ad}}">确定</button></view></view></uni-popup>