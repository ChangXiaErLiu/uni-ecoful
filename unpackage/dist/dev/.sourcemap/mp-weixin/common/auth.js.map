{"version":3,"file":"auth.js","sources":["common/auth.js"],"sourcesContent":["// 白名单：未登录也能访问的页面\nexport const WHITE_LIST = [\n  '/pages/auth/login',\n  '/pages/auth/register',\n  '/pages/auth/forgot-password'\n]\n\n// // 获取登录状态\n// export function isLoggedIn() {\r\n//   return !!uni.getStorageSync('token')\n// }\r\n\r\n// 获取登录状态 + 打印完整用户信息\nexport function isLoggedIn() {\n  const token = uni.getStorageSync('token')\n  const userInfoStr = uni.getStorageSync('userInfo')\n\n  let userInfo = null\n  try {\n    userInfo = userInfoStr ? JSON.parse(userInfoStr) : null\n  } catch (e) {\n    console.warn('【auth】解析 userInfo 失败', e)\n  }\n\n  // console.log('【auth】token:', token)\n  // console.log('【auth】当前用户信息:', userInfo)\n\n  return !!token\n}"],"names":["uni"],"mappings":";;AACY,MAAC,aAAa;AAAA,EACxB;AAAA,EACA;AAAA,EACA;AACF;AAQO,SAAS,aAAa;AAC3B,QAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,QAAM,cAAcA,cAAAA,MAAI,eAAe,UAAU;AAEjD,MAAI,WAAW;AACf,MAAI;AACF,eAAW,cAAc,KAAK,MAAM,WAAW,IAAI;AAAA,EACpD,SAAQ,GAAG;AACVA,kBAAAA,MAAA,MAAA,QAAA,wBAAa,wBAAwB,CAAC;AAAA,EACvC;AAKD,SAAO,CAAC,CAAC;AACX;;;"}