{"version":3,"file":"SignboardTab.js","sources":["components/acceptance-report/project-info-tabs/SignboardTab.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvOTcyNDcvRGVza3RvcC91bmktZWNvZnVsL2NvbXBvbmVudHMvYWNjZXB0YW5jZS1yZXBvcnQvcHJvamVjdC1pbmZvLXRhYnMvU2lnbmJvYXJkVGFiLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"signboard-tab\">\r\n\t\t<!-- 标识牌信息生成 -->\r\n\t\t<view class=\"subsection\">\r\n\t\t\t<view class=\"subsection-head\">\r\n\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#fb923c\" />\r\n\t\t\t\t<text class=\"subsection-title\">排污标识牌（下载与业主确认排污口信息）</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"section-actions\">\r\n\t\t\t\t<button class=\"btn btn--primary\" @tap=\"handleGenerate\">\r\n\t\t\t\t\t<uni-icons type=\"eye-filled\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t<text>生成标识牌信息</text>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button v-if=\"showSignboard\" class=\"btn btn--primary\" @tap=\"handleDownload\">\r\n\t\t\t\t\t<uni-icons type=\"download-filled\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t<text>下载</text>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button v-if=\"showSignboard\" class=\"btn btn--success\" @tap=\"handleComplete\">\r\n\t\t\t\t\t<uni-icons type=\"redo-filled\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t<text>生成监测方案</text>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 标识牌信息列表 -->\r\n\t\t\t<view v-if=\"showSignboard\" class=\"data-table\">\r\n\t\t\t\t<view class=\"table-body\">\r\n\t\t\t\t\t<template v-for=\"(sec, si) in signboard.sections\" :key=\"'s'+si\">\r\n\t\t\t\t\t\t<view class=\"table-row table-row--simple\">\r\n\t\t\t\t\t\t\t<text class=\"table-td table-td--section\">{{ sec.block }}</text>\r\n\t\t\t\t\t\t\t<!-- 只有噪声才可以新增 -->\r\n\t\t\t\t\t\t\t<button v-if=\"sec.block == '噪声'\" class=\"pw-ico icon-btn\" @tap=\"() => addSignItem(si)\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\r\n\t\t\t\t\t\t\t\t<text>新增</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\r\n\t\t\t\t\t\t\t<!-- 按组渲染 -->\r\n\t\t\t\t\t\t\t<template v-for=\"(group, gi) in groupItems(sec.items, sec.block)\" :key=\"'g'+si+'-'+gi\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(it, ii) in group\" :key=\"'r'+si+'-'+gi+'-'+ii\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"it.title\" placeholder=\"内容标题\" />\r\n\t\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"it.content\" placeholder=\"请输入具体的值\" />\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- 删除按钮 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"sec.block !== '危险废物'\" class=\"form-item\" style=\"margin-bottom:12px;\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\" style=\"justify-content:flex-end;\">\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn icon-btn--danger\" @tap=\"() => removeGroup(sec, gi)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"20\" color=\"#d92d20\" />\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport { useProjectInfo } from '@/composables/useProjectInfo.js'\r\n\r\n// 从 composable 获取状态和方法\r\nconst {\r\n\tsignboard,\r\n\tshowSignboard,\r\n\t\r\n\t// 方法\r\n\tgenerateSignboard,\r\n\taddSignItem,\r\n\tremoveGroup,\r\n\tgroupItems,\r\n\tdownloadSignboard\r\n} = useProjectInfo()\r\n\r\n// 定义事件\r\nconst emit = defineEmits(['complete'])\r\n\r\n// 处理生成\r\nfunction handleGenerate() {\r\n\tgenerateSignboard()\r\n\tshowSignboard.value = true\r\n}\r\n\r\n// 处理下载\r\nfunction handleDownload() {\r\n\tdownloadSignboard()\r\n}\r\n\r\n// 处理完成（通知父组件可以进入下一步）\r\nfunction handleComplete() {\r\n\temit('complete')\r\n}\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n.signboard-tab {\r\n\t// width: 100%;\r\n\tpadding: 24rpx;\r\n}\r\n\r\n.subsection {\r\n\tmargin-bottom: 32rpx;\r\n}\r\n\r\n.subsection-head {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 12rpx;\r\n\tpadding: 16rpx 0;\r\n\tmargin-bottom: 16rpx;\r\n\tborder-bottom: 2rpx solid #e2e8f0;\r\n}\r\n\r\n.subsection-title {\r\n\tfont-size: 28rpx;\r\n\tfont-weight: 600;\r\n\tcolor: #fb923c;\r\n}\r\n\r\n// 操作按钮样式\r\n.section-actions {\r\n\tdisplay: flex;\r\n\tgap: 16rpx;\r\n\tmargin-bottom: 24rpx;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.btn {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 8rpx;\r\n\t// padding: 20rpx 24rpx;\r\n\tfont-size: 26rpx;\r\n\tfont-weight: 500;\r\n\tborder-radius: 12rpx;\r\n\tborder: none;\r\n\tcursor: pointer;\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.btn--primary {\r\n\tbackground: #166534;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.btn--primary:active {\r\n\tbackground: #14532d;\r\n}\r\n\r\n.btn--success {\r\n\tbackground: #059669;\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.btn--success:active {\r\n\tbackground: #047857;\r\n}\r\n\r\n// 数据表格样式\r\n.data-table {\r\n\twidth: 100%;\r\n}\r\n\r\n.table-body {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 24rpx;\r\n}\r\n\r\n.table-row {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tpadding: 20rpx 24rpx;\r\n\tbackground: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);\r\n\tborder-radius: 12rpx;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.table-row--simple {\r\n\tbackground: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);\r\n}\r\n\r\n.table-td {\r\n\tfont-size: 28rpx;\r\n\tfont-weight: 600;\r\n\tcolor: #1e293b;\r\n}\r\n\r\n.table-td--section {\r\n\tcolor: #166534;\r\n}\r\n\r\n.pw-ico {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 8rpx;\r\n}\r\n\r\n.icon-btn {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 8rpx;\r\n\t// padding: 16rpx 20rpx;\r\n\tfont-size: 24rpx;\r\n\tfont-weight: 500;\r\n\tbackground: #ffffff;\r\n\tcolor: #166534;\r\n\tborder: 2rpx solid #166534;\r\n\tborder-radius: 8rpx;\r\n\tcursor: pointer;\r\n\ttransition: all 0.3s ease;\r\n}\r\n\r\n.icon-btn:active {\r\n\tbackground: #f0fdf4;\r\n}\r\n\r\n.icon-btn--danger {\r\n\tcolor: #d92d20;\r\n\tborder-color: #d92d20;\r\n}\r\n\r\n.icon-btn--danger:active {\r\n\tbackground: #fef2f2;\r\n}\r\n\r\n// 表单网格样式\r\n.form-grid {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 16rpx;\r\n}\r\n\r\n.form-grid--base {\r\n\tpadding: 24rpx;\r\n\tbackground: #ffffff;\r\n\tborder-radius: 12rpx;\r\n\tborder: 1rpx solid #e2e8f0;\r\n}\r\n\r\n.form-item {\r\n\twidth: 100%;\r\n}\r\n\r\n.form-item__row {\r\n\tdisplay: flex;\r\n\tgap: 16rpx;\r\n\talign-items: center;\r\n}\r\n\r\n.form-item__row > * {\r\n\tflex: 1;\r\n}\r\n\r\n// 响应式设计\r\n@media (max-width: 768px) {\r\n\t.section-actions {\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.btn {\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.form-item__row {\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.form-item__row > * {\r\n\t\twidth: 100%;\r\n\t}\r\n}\r\n</style>\r\n","import Component from 'C:/Users/97247/Desktop/uni-ecoful/components/acceptance-report/project-info-tabs/SignboardTab.vue'\nwx.createComponent(Component)"],"names":["useProjectInfo"],"mappings":";;;;;;;;;;;;;;;;;AAoEA,UAAM;AAAA,MACL;AAAA,MACA;AAAA;AAAA,MAGA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD,IAAIA,0CAAgB;AAGpB,UAAM,OAAO;AAGb,aAAS,iBAAiB;AACzB,wBAAmB;AACnB,oBAAc,QAAQ;AAAA,IACvB;AAGA,aAAS,iBAAiB;AACzB,wBAAmB;AAAA,IACpB;AAGA,aAAS,iBAAiB;AACzB,WAAK,UAAU;AAAA,IAChB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChGA,GAAG,gBAAgB,SAAS;"}