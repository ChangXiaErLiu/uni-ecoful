{"version":3,"file":"ChatSidebar.js","sources":["components/chat/ChatMessage/ChatSidebar/ChatSidebar.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/Y29tcG9uZW50cy9jaGF0L0NoYXRNZXNzYWdlL0NoYXRTaWRlYmFyL0NoYXRTaWRlYmFyLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"chat-sidebar\" :class=\"{'sidebar-collapsed': collapsed}\">\n    <!-- 头部 -->\n    <view class=\"sidebar-header\">\n      <view class=\"header-main\">\n        <text class=\"sidebar-title\">对话历史</text>\n        <view class=\"header-actions\">\n          <view class=\"action-btn\" @tap=\"toggleCollapse\">\n            <uni-icons \n              :type=\"collapsed ? 'right' : 'left'\" \n              size=\"20\" \n              color=\"#64748b\" \n            />\n          </view>\n        </view>\n      </view>\n      \n      <view class=\"new-chat-btn\" @tap=\"createNewChat\">\n        <uni-icons type=\"plus\" size=\"20\" color=\"#ffffff\" />\n        <text>新建对话</text>\n      </view>\n    </view>\n\n    <!-- 对话列表 -->\n    <scroll-view class=\"conversation-list\" scroll-y>\n      <view \n        v-for=\"conv in conversations\" \n        :key=\"conv.id\"\n        class=\"conversation-item\"\n        :class=\"{'active': conv.id === currentConversationId}\"\n        @tap=\"selectConversation(conv.id)\"\n      >\n        <view class=\"conv-content\">\n          <uni-icons type=\"chat\" size=\"18\" color=\"#64748b\" />\n          <text class=\"conv-title\">{{ conv.title || '新对话' }}</text>\n        </view>\n        \n        <view class=\"conv-actions\" v-if=\"!collapsed\">\n          <view class=\"conv-action-btn\" @tap.stop=\"editConversationTitle(conv.id)\">\n            <uni-icons type=\"compose\" size=\"14\" color=\"#94a3b8\" />\n          </view>\n          <view class=\"conv-action-btn\" @tap.stop=\"deleteConversation(conv.id)\">\n            <uni-icons type=\"trash\" size=\"14\" color=\"#94a3b8\" />\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nconst props = defineProps({\n  conversations: {\n    type: Array,\n    default: () => []\n  },\n  currentConversationId: {\n    type: String,\n    default: ''\n  },\n  collapsed: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits([\n  'create-chat',\n  'select-conversation', \n  'edit-conversation',\n  'delete-conversation',\n  'toggle-collapse'\n])\n\nconst createNewChat = () => {\n  emit('create-chat')\n}\n\nconst selectConversation = (id) => {\n  emit('select-conversation', id)\n}\n\nconst editConversationTitle = (id) => {\n  uni.showModal({\n    title: '编辑对话标题',\n    content: '请输入新的对话标题',\n    editable: true,\n    placeholderText: '对话标题',\n    success: (res) => {\n      if (res.confirm && res.content) {\n        emit('edit-conversation', id, res.content)\n      }\n    }\n  })\n}\n\nconst deleteConversation = (id) => {\n  uni.showModal({\n    title: '确认删除',\n    content: '确定要删除这个对话吗？',\n    success: (res) => {\n      if (res.confirm) {\n        emit('delete-conversation', id)\n      }\n    }\n  })\n}\n\nconst toggleCollapse = () => {\n  emit('toggle-collapse')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.chat-sidebar {\n  width: 320rpx;\n  height: 100%;\n  background: #ffffff;\n  border-right: 1px solid #e2e8f0;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.3s ease;\n  \n  &.sidebar-collapsed {\n    width: 80rpx;\n    \n    .sidebar-title,\n    .new-chat-btn text,\n    .conv-title,\n    .conv-actions {\n      opacity: 0;\n      width: 0;\n      margin: 0;\n      padding: 0;\n    }\n  }\n}\n\n.sidebar-header {\n  padding: 32rpx 24rpx 24rpx;\n  border-bottom: 1px solid #f1f5f9;\n}\n\n.header-main {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 24rpx;\n}\n\n.sidebar-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #1f2937;\n}\n\n.header-actions {\n  .action-btn {\n    width: 48rpx;\n    height: 48rpx;\n    border-radius: 12rpx;\n    background: #f8fafc;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n    &:active {\n      background: #e2e8f0;\n    }\n  }\n}\n\n.new-chat-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12rpx;\n  padding: 20rpx;\n  background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n  border-radius: 16rpx;\n  transition: all 0.2s ease;\n  \n  text {\n    color: white;\n    font-size: 28rpx;\n    font-weight: 500;\n  }\n  \n  &:active {\n    transform: scale(0.98);\n    opacity: 0.9;\n  }\n}\n\n.conversation-list {\n  flex: 1;\n  padding: 16rpx 0;\n}\n\n.conversation-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20rpx 24rpx;\n  margin: 0 16rpx 8rpx;\n  border-radius: 12rpx;\n  transition: all 0.2s ease;\n  \n  &.active {\n    background: #f0f9ff;\n    border: 1px solid #e0f2fe;\n    \n    .conv-title {\n      color: #0369a1;\n    }\n  }\n  \n  &:active {\n    background: #f8fafc;\n  }\n}\n\n.conv-content {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  flex: 1;\n  min-width: 0;\n}\n\n.conv-title {\n  font-size: 26rpx;\n  color: #374151;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 1;\n}\n\n.conv-actions {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  \n  .conversation-item:hover &,\n  .conversation-item.active & {\n    opacity: 1;\n  }\n}\n\n.conv-action-btn {\n  width: 36rpx;\n  height: 36rpx;\n  border-radius: 8rpx;\n  background: #f8fafc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:active {\n    background: #e2e8f0;\n  }\n}\n\n/* 移动端适配 */\n@media (max-width: 768px) {\n  .chat-sidebar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 1000;\n    transform: translateX(-100%);\n    \n    &.sidebar-collapsed {\n      transform: translateX(0);\n      width: 100%;\n    }\n  }\n  \n  .sidebar-collapsed .chat-sidebar:not(.sidebar-collapsed) {\n    transform: translateX(0);\n  }\n}\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/components/chat/ChatMessage/ChatSidebar/ChatSidebar.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,UAAM,OAAO;AAQb,UAAM,gBAAgB,MAAM;AAC1B,WAAK,aAAa;AAAA,IACpB;AAEA,UAAM,qBAAqB,CAAC,OAAO;AACjC,WAAK,uBAAuB,EAAE;AAAA,IAChC;AAEA,UAAM,wBAAwB,CAAC,OAAO;AACpCA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,UAAU;AAAA,QACV,iBAAiB;AAAA,QACjB,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,WAAW,IAAI,SAAS;AAC9B,iBAAK,qBAAqB,IAAI,IAAI,OAAO;AAAA,UAC1C;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAEA,UAAM,qBAAqB,CAAC,OAAO;AACjCA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,iBAAK,uBAAuB,EAAE;AAAA,UAC/B;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAEA,UAAM,iBAAiB,MAAM;AAC3B,WAAK,iBAAiB;AAAA,IACxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GA,GAAG,WAAW,eAAe;"}