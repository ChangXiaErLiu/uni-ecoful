{"version":3,"file":"OutletTab.js","sources":["components/field-survey/tabs/OutletTab.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvOTcyNDcvRGVza3RvcC91bmktZWNvZnVsL2NvbXBvbmVudHMvZmllbGQtc3VydmV5L3RhYnMvT3V0bGV0VGFiLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"outlet-tab\">\n\t\t<view class=\"section-card\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<view class=\"header-left\">\n\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t<text class=\"section-title\">排污口情况</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"record-count\">共 {{ totalOutletCount }} 个排污口</text>\n\t\t\t</view>\n\n\t\t\t<view class=\"section-body\">\n\t\t\t\t<!-- 搜索和操作栏 -->\n\t\t\t\t<view class=\"search-action-bar\">\n\t\t\t\t\t<view class=\"search-container\">\n\t\t\t\t\t\t<uni-easyinput v-model=\"searchKeyword\" placeholder=\"搜索排污口编号或名称...\" prefixIcon=\"search\"\n\t\t\t\t\t\t\t:clearable=\"true\" @input=\"onSearchInput\" class=\"search-input\" />\n\t\t\t\t\t\t<text v-if=\"searchKeyword\" class=\"search-result\">\n\t\t\t\t\t\t\t找到 {{ filteredTotalCount }} 个结果\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"action-buttons\">\n\t\t\t\t\t\t<button class=\"btn btn-refresh\" @tap=\"handleExtractOutlets\">\n\t\t\t\t\t\t\t<uni-icons type=\"refresh\" size=\"18\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t<text>刷新</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 废水排污口 -->\n\t\t\t\t<view class=\"outlet-section\">\n\t\t\t\t\t<view class=\"section-title-bar\">\n\t\t\t\t\t\t<view class=\"title-left\">\n\t\t\t\t\t\t\t<!-- <uni-icons type=\"water\" size=\"18\" color=\"#0ea5e9\" /> -->\n\t\t\t\t\t\t\t<text class=\"title-text\">废水排污口</text>\n\t\t\t\t\t\t\t<text class=\"title-count\">{{ filteredWastewaterOutlets.length }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<button class=\"btn-add-small\" @tap=\"handleAddOutlet('wastewater')\">\n\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t<text>新增</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 废水排污口表格 -->\n\t\t\t\t\t<view v-if=\"filteredWastewaterOutlets.length\" class=\"outlet-table\">\n\t\t\t\t\t\t<view class=\"table-header\">\n\t\t\t\t\t\t\t<view class=\"header-cell header-index\">序号</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-code\">排污口编号</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-name\">排污口名称</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-remark\">备注</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-photo\">照片(远近各一张)</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-action\">操作</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t<view v-for=\"(outlet, index) in filteredWastewaterOutlets\" :key=\"outlet.id\" class=\"table-row\">\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-index\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">序号</view>\n\t\t\t\t\t\t\t\t\t<text class=\"index-number\">{{ index + 1 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-code\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">排污口编号</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.code\" placeholder=\"如：DW001\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-name\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">排污口名称</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.name\" placeholder=\"请输入名称\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-remark\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">备注</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.remark\" placeholder=\"备注信息\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-photo\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">照片(远近各一张)</view>\n\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"outlet.images\" fileMediatype=\"image\" mode=\"grid\" :limit=\"2\"\n\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\" class=\"photo-picker\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-action\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">操作</view>\n\t\t\t\t\t\t\t\t\t<button class=\"btn-delete\" @tap=\"handleRemoveOutlet('wastewater', index)\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#ef4444\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view v-else class=\"empty-section\">\n\t\t\t\t\t\t<uni-icons type=\"clear\" size=\"48\" color=\"#e2e8f0\" />\n\t\t\t\t\t\t<text class=\"empty-text\">暂未提取到废水排污口</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 废气排污口 -->\n\t\t\t\t<view class=\"outlet-section\">\n\t\t\t\t\t<view class=\"section-title-bar\">\n\t\t\t\t\t\t<view class=\"title-left\">\n\t\t\t\t\t\t\t<!-- <uni-icons type=\"cloud\" size=\"18\" color=\"#8b5cf6\" /> -->\n\t\t\t\t\t\t\t<text class=\"title-text\">废气排污口</text>\n\t\t\t\t\t\t\t<text class=\"title-count\">{{ filteredExhaustOutlets.length }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<button class=\"btn-add-small\" @tap=\"handleAddOutlet('exhaust')\">\n\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t<text>新增</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 废气排污口表格 -->\n\t\t\t\t\t<view v-if=\"filteredExhaustOutlets.length\" class=\"outlet-table\">\n\t\t\t\t\t\t<view class=\"table-header\">\n\t\t\t\t\t\t\t<view class=\"header-cell header-index\">序号</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-code\">排污口编号</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-name\">排污口名称</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-remark\">备注</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-photo\">照片(远近各一张)</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-action\">操作</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t<view v-for=\"(outlet, index) in filteredExhaustOutlets\" :key=\"outlet.id\" class=\"table-row\">\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-index\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">序号</view>\n\t\t\t\t\t\t\t\t\t<text class=\"index-number\">{{ index + 1 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-code\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">排污口编号</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.code\" placeholder=\"如：DA001\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-name\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">排污口名称</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.name\" placeholder=\"请输入名称\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-remark\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">备注</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.remark\" placeholder=\"备注信息\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-photo\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">照片</view>\n\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"outlet.images\" fileMediatype=\"image\" mode=\"grid\" :limit=\"2\"\n\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\" class=\"photo-picker\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-action\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">操作</view>\n\t\t\t\t\t\t\t\t\t<button class=\"btn-delete\" @tap=\"handleRemoveOutlet('exhaust', index)\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#ef4444\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view v-else class=\"empty-section\">\n\t\t\t\t\t\t<uni-icons type=\"clear\" size=\"48\" color=\"#e2e8f0\" />\n\t\t\t\t\t\t<text class=\"empty-text\">暂未提取到废气排污口</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 噪声排污口 -->\n\t\t\t\t<view class=\"outlet-section\">\n\t\t\t\t\t<view class=\"section-title-bar\">\n\t\t\t\t\t\t<view class=\"title-left\">\n\t\t\t\t\t\t\t<!-- <uni-icons type=\"sound\" size=\"18\" color=\"#f59e0b\" /> -->\n\t\t\t\t\t\t\t<text class=\"title-text\">噪声排污口</text>\n\t\t\t\t\t\t\t<text class=\"title-count\">{{ filteredNoiseOutlets.length }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<button class=\"btn-add-small\" @tap=\"handleAddOutlet('noise')\">\n\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t<text>新增</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 噪声排污口表格 -->\n\t\t\t\t\t<view v-if=\"filteredNoiseOutlets.length\" class=\"outlet-table\">\n\t\t\t\t\t\t<view class=\"table-header\">\n\t\t\t\t\t\t\t<view class=\"header-cell header-index\">序号</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-code\">排污口编号</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-name\">排污口名称</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-remark\">备注</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-photo\">照片</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-action\">操作</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t<view v-for=\"(outlet, index) in filteredNoiseOutlets\" :key=\"outlet.id\" class=\"table-row\">\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-index\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">序号</view>\n\t\t\t\t\t\t\t\t\t<text class=\"index-number\">{{ index + 1 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-code\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">排污口编号</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.code\" placeholder=\"如：ZS-01\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-name\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">排污口名称</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.name\" placeholder=\"请输入名称\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-remark\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">备注</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"outlet.remark\" placeholder=\"备注信息\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-photo\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">照片(远近各一张)</view>\n\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"outlet.images\" fileMediatype=\"image\" mode=\"grid\" :limit=\"2\"\n\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\" class=\"photo-picker\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-action\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">操作</view>\n\t\t\t\t\t\t\t\t\t<button class=\"btn-delete\" @tap=\"handleRemoveOutlet('noise', index)\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#ef4444\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view v-else class=\"empty-section\">\n\t\t\t\t\t\t<uni-icons type=\"clear\" size=\"48\" color=\"#e2e8f0\" />\n\t\t\t\t\t\t<text class=\"empty-text\">未提取到噪声排污口</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 全局空状态 -->\n\t\t\t\t<view v-if=\"totalOutletCount === 0 && !searchKeyword\" class=\"empty-container\">\n\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" size=\"64\" color=\"#e2e8f0\" />\n\t\t\t\t\t<text class=\"empty-title\">暂无排污口信息</text>\n\t\t\t\t\t<text class=\"empty-tip\">点击\"刷新\"按钮自动提取排污口</text>\n\t\t\t\t\t<button class=\"btn btn-add-primary\" @tap=\"handleExtractOutlets\">\n\t\t\t\t\t\t<uni-icons type=\"refresh\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t<text>刷新</text>\n\t\t\t\t\t</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\tcomputed,\n\t\tonMounted,\n\t\twatch\n\t} from 'vue'\n\timport {\n\t\tuseFieldSurveyData\n\t} from '@/composables/useFieldSurveyData.js'\n\n\t// 组件props\n\tconst props = defineProps({\n\t\tprojectId: {\n\t\t\ttype: [String, Number, null],\n\t\t\tdefault: null\n\t\t},\n\t\tbaseTable: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t}\n\t})\n\n\tconst {\n\t\twastewaterOutlets,\n\t\texhaustOutlets,\n\t\tnoiseOutlets,\n\t\tloadOutletList,\n\t\textractOutletsFromBaseTable,\n\t\taddOutlet,\n\t\tremoveOutlet,\n\t\tupdateOutletData\n\t} = useFieldSurveyData()\n\n\t// 搜索关键词\n\tconst searchKeyword = ref('')\n\n\t// 搜索输入处理\n\tfunction onSearchInput() {\n\t\tconsole.log('搜索排污口关键词:', searchKeyword.value)\n\t}\n\n\t// 过滤排污口的通用函数\n\tfunction filterOutlets(outlets) {\n\t\tif (!searchKeyword.value) {\n\t\t\treturn outlets\n\t\t}\n\t\tconst keyword = searchKeyword.value.toLowerCase().trim()\n\t\treturn outlets.filter(outlet => {\n\t\t\tconst code = (outlet.code || '').toLowerCase()\n\t\t\tconst name = (outlet.name || '').toLowerCase()\n\t\t\tconst remark = (outlet.remark || '').toLowerCase()\n\t\t\treturn code.includes(keyword) || name.includes(keyword) || remark.includes(keyword)\n\t\t})\n\t}\n\n\t// 过滤后的排污口列表\n\tconst filteredWastewaterOutlets = computed(() => filterOutlets(wastewaterOutlets.value))\n\tconst filteredExhaustOutlets = computed(() => filterOutlets(exhaustOutlets.value))\n\tconst filteredNoiseOutlets = computed(() => filterOutlets(noiseOutlets.value))\n\n\t// 计算总排污口数量\n\tconst totalOutletCount = computed(() => {\n\t\treturn wastewaterOutlets.value.length + exhaustOutlets.value.length + noiseOutlets.value.length\n\t})\n\n\t// 计算过滤后的总数量\n\tconst filteredTotalCount = computed(() => {\n\t\treturn filteredWastewaterOutlets.value.length + filteredExhaustOutlets.value.length + filteredNoiseOutlets.value.length\n\t})\n\n\t// 处理新增排污口\n\tfunction handleAddOutlet(type) {\n\t\taddOutlet(type, props.projectId)\n\t}\n\n\t// 处理删除排污口\n\tfunction handleRemoveOutlet(type, index) {\n\t\tremoveOutlet(type, index, props.projectId)\n\t}\n\n\t// 处理从项目信息提取排污口\n\tfunction handleExtractOutlets() {\n\t\tif (!props.baseTable || props.baseTable.length === 0) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请先提取项目基本信息',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\textractOutletsFromBaseTable(props.projectId, props.baseTable)\n\t}\n\n\t// 组件挂载时加载数据\n\tonMounted(() => {\n\t\tloadOutletList(props.projectId)\n\t})\n\n\t// 监听 baseTable 变化，自动提取排污口\n\twatch(\n\t\t() => props.baseTable,\n\t\t(newBaseTable) => {\n\t\t\tif (newBaseTable && newBaseTable.length > 0 && props.projectId) {\n\t\t\t\t// 检查是否有污染物数据且当前没有排污口数据\n\t\t\t\tconst hasEmissionData = newBaseTable.some(item => item.id === 'pollutants_emission')\n\t\t\t\tif (hasEmissionData && totalOutletCount.value === 0) {\n\t\t\t\t\tconsole.log('检测到项目信息更新，自动提取排污口')\n\t\t\t\t\textractOutletsFromBaseTable(props.projectId, newBaseTable)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{ deep: true, immediate: false }\n\t)\n\n\t// 监听排污口数据变化，自动保存\n\twatch(\n\t\t[wastewaterOutlets, exhaustOutlets, noiseOutlets],\n\t\t() => {\n\t\t\tif (props.projectId) {\n\t\t\t\tupdateOutletData(props.projectId)\n\t\t\t}\n\t\t},\n\t\t{ deep: true }\n\t)\n</script>\n\n<style scoped>\n\t/* 基础样式 */\n\t.outlet-tab {\n\t\twidth: 100%;\n\t\tmin-height: 100vh;\n\t\tbackground: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n\t\tpadding: 10rpx 0 0 0;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.section-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 20rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\n\t\toverflow: hidden;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t/* 头部样式 */\n\t.section-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 28rpx 32rpx;\n\t\tbackground: linear-gradient(to right, #f0fdf4, #dcfce7);\n\t\tborder-bottom: 1rpx solid #bbf7d0;\n\t}\n\n\t.header-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #166534;\n\t\tletter-spacing: 0.5rpx;\n\t}\n\n\t.record-count {\n\t\tfont-size: 26rpx;\n\t\tcolor: #4ade80;\n\t\tbackground: rgba(34, 197, 94, 0.1);\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 20rpx;\n\t}\n\n\t/* 主体内容 */\n\t.section-body {\n\t\tpadding: 32rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 32rpx;\n\t}\n\n\t/* 搜索和操作栏 */\n\t.search-action-bar {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t\tpadding-bottom: 24rpx;\n\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t}\n\n\t.search-container {\n\t\tposition: relative;\n\t}\n\n\t.search-input {\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 12rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.search-result {\n\t\tposition: absolute;\n\t\tright: 16rpx;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: 24rpx;\n\t\tcolor: #64748b;\n\t\tbackground: rgba(100, 116, 139, 0.1);\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t}\n\n\t.action-buttons {\n\t\tdisplay: flex;\n\t\tgap: 16rpx;\n\t}\n\n\t.btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 8rpx;\n\t\tpadding: 20rpx 32rpx;\n\t\tborder-radius: 12rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.btn:active {\n\t\ttransform: translateY(2rpx);\n\t}\n\n\t.btn-refresh {\n\t\tbackground: #3b82f6;\n\t\tcolor: white;\n\t\tflex: 1;\n\t}\n\n\t.btn-add-primary {\n\t\tbackground: #10b981;\n\t\tcolor: white;\n\t\tpadding: 20rpx 40rpx;\n\t\tmargin-top: 24rpx;\n\t}\n\n\t/* 排污口分类区域 */\n\t.outlet-section {\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 24rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.section-title-bar {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\twidth: 100%;\n\t}\n\n\t.title-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tflex: 1;\n\t}\n\n\t.title-text {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #334155;\n\t}\n\n\t.title-count {\n\t\tfont-size: 24rpx;\n\t\tcolor: #64748b;\n\t\tbackground: rgba(100, 116, 139, 0.1);\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.btn-add-small {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 6rpx;\n\t\tpadding: 12rpx 24rpx;\n\t\tbackground: #10b981;\n\t\tborder: none;\n\t\tborder-radius: 12rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\ttransition: all 0.3s ease;\n\t\tcolor: #ffffff;\n\t\tflex-shrink: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t.btn-add-small:active {\n\t\ttransform: scale(0.95);\n\t}\n\n\t/* 表格样式 */\n\t.outlet-table {\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t}\n\n\t.table-header {\n\t\tdisplay: none;\n\t\t/* 默认隐藏，PC端显示 */\n\t\tbackground: #f8fafc;\n\t\tborder-bottom: 2rpx solid #e2e8f0;\n\t\tpadding: 24rpx 32rpx;\n\t}\n\n\t.header-cell {\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #475569;\n\t\ttext-align: left;\n\t}\n\n\t.table-body {\n\t\tmin-width: 600rpx;\n\t}\n\n\t.table-row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 32rpx;\n\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 12rpx;\n\t\tmargin-bottom: 8rpx;\n\t}\n\n\t.body-cell {\n\t\tpadding: 16rpx 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t.mobile-label {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #334155;\n\t\tmin-width: 140rpx;\n\t}\n\n\t.cell-input {\n\t\tflex: 1;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 8rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.cell-input :deep(.uni-easyinput__content) {\n\t\tbackground: transparent;\n\t}\n\n\t.photo-picker {\n\t\tflex: 1;\n\t}\n\n\t.photo-picker :deep(.uni-file-picker__container) {\n\t\tmin-height: auto !important;\n\t}\n\n\t.photo-picker :deep(.file-picker__box) {\n\t\twidth: 120rpx !important;\n\t\t/* height: 120rpx !important; */\n\t}\n\n\t.photo-picker :deep(.is-add) {\n\t\twidth: 120rpx !important;\n\t\t/* height: 120rpx !important; */\n\t\t/* padding-top: 15.5% !important; */\n\t}\n\n\t.btn-delete {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\t/* padding: 12rpx 24rpx; */\n\t\tbackground: rgba(239, 68, 68, 0.1);\n\t\tborder-radius: 8rpx;\n\t\tcolor: #ef4444;\n\t\tfont-size: 26rpx;\n\t\tborder: 1rpx solid #fecaca;\n\t}\n\n\t.btn-delete:active {\n\t\ttransform: scale(0.95);\n\t}\n\n\t.index-number {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #10b981;\n\t\tbackground: rgba(16, 185, 129, 0.1);\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 8rpx;\n\t\tmin-width: 60rpx;\n\t\ttext-align: center;\n\t}\n\n\t/* 空状态 */\n\t.empty-section {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 60rpx 32rpx;\n\t\tgap: 12rpx;\n\t}\n\n\t.empty-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #94a3b8;\n\t}\n\n\t.empty-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 80rpx 32rpx;\n\t\ttext-align: center;\n\t}\n\n\t.empty-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: #475569;\n\t\tmargin-top: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.empty-tip {\n\t\tfont-size: 26rpx;\n\t\tcolor: #94a3b8;\n\t\tmargin-top: 12rpx;\n\t\tmax-width: 500rpx;\n\t}\n\n\t/* PC端适配 */\n\t@media (min-width: 768px) {\n\t\t.search-action-bar {\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.search-container {\n\t\t\tflex: 1;\n\t\t\tmargin-right: 24rpx;\n\t\t}\n\n\t\t.action-buttons {\n\t\t\tflex-shrink: 0;\n\t\t}\n\n\t\t.btn {\n\t\t\tpadding: 16rpx 24rpx;\n\t\t}\n\n\t\t/* PC端表格样式 */\n\t\t.table-header {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 32rpx;\n\t\t}\n\n\t\t.header-index {\n\t\t\tflex: 0.2;\n\t\t}\n\n\t\t.header-code {\n\t\t\tflex: 0.8;\n\t\t}\n\n\t\t.header-name {\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.header-remark {\n\t\t\tflex: 1.5;\n\t\t}\n\n\t\t.header-photo {\n\t\t\tflex: 2;\n\t\t}\n\n\t\t.header-action {\n\t\t\tflex: 0.2;\n\t\t}\n\n\t\t.table-row {\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\tgap: 16rpx;\n\t\t\tpadding: 5rpx 32rpx;\n\t\t}\n\n\t\t.body-cell {\n\t\t\tpadding: 0;\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.mobile-label {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.cell-index {\n\t\t\tflex: 0.2;\n\t\t}\n\n\t\t.cell-code {\n\t\t\tflex: 0.8;\n\t\t}\n\n\t\t.cell-name {\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.cell-remark {\n\t\t\tflex: 1.5;\n\t\t}\n\n\t\t.cell-photo {\n\t\t\tflex: 2;\n\t\t}\n\n\t\t.cell-action {\n\t\t\tflex: 0.2;\n\t\t}\n\n\t\t.cell-input :deep(.uni-easyinput__content) {\n\t\t\tborder: 1px solid #e2e8f0;\n\t\t\tbackground: transparent;\n\t\t}\n\n\t\t.btn-delete {\n\t\t\t/* padding: 8rpx 16rpx; */\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t}\n\n\t\t.photo-picker :deep(.uni-file-picker) {\n\t\t\tpadding: 0;\n\t\t}\n\n\t\t.photo-picker :deep(.uni-file-picker__container) {\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t.photo-picker :deep(.file-picker__box) {\n\t\t\twidth: 120rpx !important;\n\t\t\theight: 120rpx !important;\n\t\t\tpadding-top: 15.5% !important;\n\t\t}\n\t}\n\n\t/* 大屏PC适配 */\n\t@media (min-width: 1200px) {\n\t\t.outlet-tab {\n\t\t\tmargin: 0 auto;\n\t\t}\n\n\t\t.section-body {\n\t\t\tpadding: 32rpx;\n\t\t}\n\t}\n</style>\n","import Component from 'C:/Users/97247/Desktop/uni-ecoful/components/field-survey/tabs/OutletTab.vue'\nwx.createComponent(Component)"],"names":["useFieldSurveyData","ref","uni","computed","onMounted","watch"],"mappings":"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"}