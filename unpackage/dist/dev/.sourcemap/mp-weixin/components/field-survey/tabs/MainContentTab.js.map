{"version":3,"file":"MainContentTab.js","sources":["components/field-survey/tabs/MainContentTab.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvOTcyNDcvRGVza3RvcC91bmktZWNvZnVsL2NvbXBvbmVudHMvZmllbGQtc3VydmV5L3RhYnMvTWFpbkNvbnRlbnRUYWIudnVl"],"sourcesContent":["<template>\n\t<view class=\"main-content-tab\">\n\t\t<view class=\"section-card\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<view class=\"header-left\">\n\t\t\t\t\t<uni-icons type=\"list\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t<text class=\"section-title\">项目建设内容</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"record-count\">共 {{ filteredDisplayItems.length }} 项信息</text>\n\t\t\t</view>\n\n\t\t\t<view class=\"section-body\">\n\t\t\t\t<!-- 搜索栏 -->\n\t\t\t\t<view v-if=\"displayItems.length > 0\" class=\"search-bar\">\n\t\t\t\t\t<uni-easyinput v-model=\"searchKeyword\" placeholder=\"搜索项目信息...\" prefixIcon=\"search\" :clearable=\"true\"\n\t\t\t\t\t\t@input=\"onSearchInput\" class=\"search-input\" />\n\t\t\t\t\t<text v-if=\"searchKeyword\" class=\"search-result\">\n\t\t\t\t\t\t找到 {{ filteredDisplayItems.length }} 条结果\n\t\t\t\t\t</text>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 基本信息区域 -->\n\t\t\t\t<view v-if=\"filteredDisplayItems.length > 0\" class=\"info-container\">\n\t\t\t\t\t<!-- 文本信息卡片 -->\n\t\t\t\t\t<view v-if=\"filteredTextItems.length > 0\" class=\"info-section\">\n\t\t\t\t\t\t<view class=\"section-title-bar\">\n\t\t\t\t\t\t\t<uni-icons type=\"compose\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t<text class=\"section-subtitle\">基本信息</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-grid\">\n\t\t\t\t\t\t\t<view v-for=\"item in filteredTextItems\" :key=\"item.id\" class=\"info-item\">\n\t\t\t\t\t\t\t\t<view class=\"info-label\">\n\t\t\t\t\t\t\t\t\t<text class=\"label-text\">{{ item.label }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"item.value\" :placeholder=\"`请输入${item.label}`\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\tclass=\"info-input\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 基本信息空状态 -->\n\t\t\t\t<view v-else-if=\"displayItems.length === 0\" class=\"empty-container\">\n\t\t\t\t\t<uni-icons :type=\"searchKeyword ? 'search' : 'list'\" size=\"64\" color=\"#e2e8f0\" />\n\t\t\t\t\t<text class=\"empty-title\">\n\t\t\t\t\t\t{{ searchKeyword ? '未找到匹配的信息' : '暂无建设内容信息' }}\n\t\t\t\t\t</text>\n\t\t\t\t\t<text class=\"empty-tip\">\n\t\t\t\t\t\t{{ searchKeyword ? '试试其他关键词或清空搜索' : '请先在竣工验收页面提取项目基本信息' }}\n\t\t\t\t\t</text>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 主体工程区域 -->\n\t\t\t\t<view class=\"construction-section\">\n\t\t\t\t\t<view class=\"construction-header\">\n\t\t\t\t\t\t<view class=\"header-title\">\n\t\t\t\t\t\t\t<uni-icons type=\"home\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t<text class=\"header-text\">主要建设内容</text>\n\t\t\t\t\t\t\t<text class=\"construction-count\">共 {{ filteredConstructionList.length }} 条</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"header-actions\">\n\t\t\t\t\t\t\t<button class=\"btn btn-add\" @tap=\"addConstruction\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"18\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t<text>新增</text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button class=\"btn btn-refresh\" @tap=\"handleFetchConstruction\"\n\t\t\t\t\t\t\t\t:disabled=\"loadingConstruction\">\n\t\t\t\t\t\t\t\t<uni-icons :type=\"loadingConstruction ? 'spinner-cycle' : 'refresh'\" size=\"18\"\n\t\t\t\t\t\t\t\t\t:color=\"loadingConstruction ? '#94a3b8' : '#ffffff'\" />\n\t\t\t\t\t\t\t\t<text>{{ loadingConstruction ? '加载' : '刷新' }}</text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 搜索栏 -->\n\t\t\t\t\t<view v-if=\"constructionList.length > 0\" class=\"construction-search\">\n\t\t\t\t\t\t<uni-easyinput v-model=\"constructionSearchKeyword\" placeholder=\"搜索工程名称、内容或备注...\"\n\t\t\t\t\t\t\tprefixIcon=\"search\" :clearable=\"true\" @input=\"onConstructionSearchInput\"\n\t\t\t\t\t\t\tclass=\"search-input\" />\n\t\t\t\t\t\t<text v-if=\"constructionSearchKeyword\" class=\"search-result\">\n\t\t\t\t\t\t\t找到 {{ filteredConstructionList.length }} 条结果\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 加载状态 -->\n\t\t\t\t\t<view v-if=\"loadingConstruction\" class=\"loading-container\">\n\t\t\t\t\t\t<uni-icons type=\"spinner-cycle\" size=\"48\" color=\"#166534\" class=\"loading-spinner\" />\n\t\t\t\t\t\t<text class=\"loading-text\">正在加载工程数据...</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 错误状态 -->\n\t\t\t\t\t<view v-else-if=\"fetchConstructionError\" class=\"error-container\">\n\t\t\t\t\t\t<uni-icons type=\"close-circle\" size=\"48\" color=\"#dc2626\" />\n\t\t\t\t\t\t<text class=\"error-message\">加载失败: {{ fetchConstructionError }}</text>\n\t\t\t\t\t\t<button class=\"btn btn-retry\" @tap=\"handleFetchConstruction\">\n\t\t\t\t\t\t\t<text>重新加载</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 主体工程表格 -->\n\t\t\t\t\t<view v-else-if=\"filteredConstructionList.length\" class=\"construction-table\">\n\t\t\t\t\t\t<!-- 表格头部 - PC端显示 -->\n\t\t\t\t\t\t<view class=\"table-header\">\n\t\t\t\t\t\t\t<view class=\"header-cell header-category\">类别</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-name\">工程名称</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-location\">位置</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-content\">工程内容</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-remark\">备注</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-photo\">照片</view>\n\t\t\t\t\t\t\t<view class=\"header-cell header-action\">操作</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 表格内容 -->\n\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in paginatedConstructionList\" :key=\"item.id\" class=\"table-row\"\n\t\t\t\t\t\t\t\t:class=\"{ 'table-row--even': index % 2 === 0 }\">\n\t\t\t\t\t\t\t\t<!-- 类别 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-category\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">类别</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"item.category\" placeholder=\"类别\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 工程名称 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-name\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">工程名称</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"item.name\" placeholder=\"请输入工程名称\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 位置 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-location\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">位置</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"item.location\" placeholder=\"位置\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 工程内容 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-content\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">工程内容</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"item.content\" placeholder=\"请输入工程内容\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 备注 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-remark\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">备注</view>\n\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"item.remark\" placeholder=\"请填写备注信息\" :clearable=\"true\"\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-input\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 照片 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-photo\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">照片</view>\n\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"item.images\" fileMediatype=\"image\" mode=\"grid\" :limit=\"7\"\n\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\" class=\"photo-picker\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 操作 -->\n\t\t\t\t\t\t\t\t<view class=\"body-cell cell-action\">\n\t\t\t\t\t\t\t\t\t<view class=\"mobile-label\">操作</view>\n\t\t\t\t\t\t\t\t\t<button class=\"btn-delete\" @tap=\"() => removeConstruction(index)\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#ef4444\" />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 分页器 -->\n\t\t\t\t\t\t<view v-if=\"constructionTotalPages > 1\" class=\"pagination\">\n\t\t\t\t\t\t\t<button class=\"btn-pagination\" :disabled=\"constructionCurrentPage === 1\"\n\t\t\t\t\t\t\t\t@tap=\"constructionCurrentPage--\">上一页</button>\n\t\t\t\t\t\t\t<text class=\"pagination-text\">{{ constructionCurrentPage }} / {{ constructionTotalPages }}</text>\n\t\t\t\t\t\t\t<button class=\"btn-pagination\" :disabled=\"constructionCurrentPage === constructionTotalPages\"\n\t\t\t\t\t\t\t\t@tap=\"constructionCurrentPage++\">下一页</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 空状态 -->\n\t\t\t\t\t<view v-else class=\"empty-container\">\n\t\t\t\t\t\t<uni-icons :type=\"constructionSearchKeyword ? 'search' : 'home'\" size=\"64\" color=\"#e2e8f0\" />\n\t\t\t\t\t\t<text class=\"empty-title\">\n\t\t\t\t\t\t\t{{ constructionSearchKeyword ? '未找到匹配的工程' : '暂无工程信息' }}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t\t<text class=\"empty-tip\">\n\t\t\t\t\t\t\t{{ constructionSearchKeyword ? '试试其他关键词或清空搜索' : '点击\"新增\"按钮开始添加或点击\"刷新\"加载数据' }}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\tcomputed,\n\t\tonMounted\n\t} from 'vue'\n\timport {\n\t\tuseFieldSurveyData\n\t} from '@/composables/useFieldSurveyData.js'\n\n\tconst props = defineProps({\n\t\tbaseTable: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\tuserId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t},\n\t\tprojectId: {\n\t\t\ttype: [String, Number, null],\n\t\t\tdefault: null\n\t\t}\n\t})\n\n\t// 搜索关键词\n\tconst searchKeyword = ref('')\n\n\t// 搜索输入处理\n\tfunction onSearchInput() {\n\t\tconsole.log('搜索关键词:', searchKeyword.value)\n\t}\n\n\t// 过滤出需要显示的项目（排除污染物表格）\n\tconst displayItems = computed(() => {\n\t\treturn props.baseTable.filter(item => item.id !== 'pollutants_emission')\n\t})\n\n\t// 根据搜索关键词过滤\n\tconst filteredDisplayItems = computed(() => {\n\t\tif (!searchKeyword.value) {\n\t\t\treturn displayItems.value\n\t\t}\n\t\tconst keyword = searchKeyword.value.toLowerCase().trim()\n\t\treturn displayItems.value.filter(item => {\n\t\t\tconst label = (item.label || '').toLowerCase()\n\t\t\tconst value = (item.value || '').toString().toLowerCase()\n\t\t\treturn label.includes(keyword) || value.includes(keyword)\n\t\t})\n\t})\n\n\t// 文本类型的字段\n\tconst textItems = computed(() => {\n\t\treturn displayItems.value.filter(item => item.type !== 'image')\n\t})\n\n\t// 过滤后的文本字段\n\tconst filteredTextItems = computed(() => {\n\t\treturn filteredDisplayItems.value.filter(item => item.type !== 'image')\n\t})\n\n\t// 图片类型的字段\n\tconst imageItems = computed(() => {\n\t\treturn displayItems.value.filter(item => item.type === 'image')\n\t})\n\n\t// 主体工程相关\n\tconst {\n\t\tconstructionList,\n\t\tconstructionSearchKeyword,\n\t\tfilteredConstructionList,\n\t\tloadingConstruction,\n\t\tfetchConstructionError,\n\t\tonConstructionSearchInput,\n\t\tfetchConstructionData,\n\t\taddConstruction,\n\t\tremoveConstruction\n\t} = useFieldSurveyData()\n\n\t// 处理刷新主体工程数据\n\tfunction handleFetchConstruction() {\n\t\tfetchConstructionData(props.userId, props.projectId)\n\t}\n\n\t// 组件挂载时自动加载主体工程数据\n\tonMounted(() => {\n\t\t// 如果主体工程列表为空，自动加载数据\n\t\tif (!constructionList.value.length && props.userId && props.projectId) {\n\t\t\t// console.log('MainContentTab 挂载，自动加载主体工程数据')\n\t\t\tfetchConstructionData(props.userId, props.projectId)\n\t\t}\n\t})\n\n\t// 主体工程分页\n\tconst constructionCurrentPage = ref(1)\n\tconst constructionPageSize = 10\n\n\tconst paginatedConstructionList = computed(() => {\n\t\tconst start = (constructionCurrentPage.value - 1) * constructionPageSize\n\t\tconst end = start + constructionPageSize\n\t\treturn filteredConstructionList.value.slice(start, end)\n\t})\n\n\tconst constructionTotalPages = computed(() =>\n\t\tMath.ceil(filteredConstructionList.value.length / constructionPageSize)\n\t)\n\n\t// 过滤后的图片字段\n\tconst filteredImageItems = computed(() => {\n\t\treturn filteredDisplayItems.value.filter(item => item.type === 'image')\n\t})\n</script>\n\n<style scoped>\n\t/* 基础样式 */\n\t.main-content-tab {\n\t\twidth: 100%;\n\t\tmin-height: 100vh;\n\t\tbackground: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n\t\tpadding: 10rpx 0 0 0;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.section-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 20rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\n\t\toverflow: hidden;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t/* 头部样式 */\n\t.section-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 28rpx 32rpx;\n\t\tbackground: linear-gradient(to right, #f0fdf4, #dcfce7);\n\t\tborder-bottom: 1rpx solid #bbf7d0;\n\t}\n\n\t.header-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #166534;\n\t\tletter-spacing: 0.5rpx;\n\t}\n\n\t.record-count {\n\t\tfont-size: 26rpx;\n\t\tcolor: #4ade80;\n\t\tbackground: rgba(34, 197, 94, 0.1);\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 20rpx;\n\t}\n\n\t/* 主体内容 */\n\t.section-body {\n\t\tpadding: 32rpx;\n\t}\n\n\t/* 搜索栏 */\n\t.search-bar {\n\t\tposition: relative;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.search-input {\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 12rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.search-result {\n\t\tposition: absolute;\n\t\tright: 16rpx;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\tfont-size: 24rpx;\n\t\tcolor: #64748b;\n\t\tbackground: rgba(100, 116, 139, 0.1);\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t}\n\n\t.info-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 32rpx;\n\t}\n\n\t/* 信息区块 */\n\t.info-section {\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 24rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.section-title-bar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tmargin-bottom: 24rpx;\n\t\tpadding-bottom: 16rpx;\n\t\tborder-bottom: 2rpx solid #e2e8f0;\n\t}\n\n\t.section-subtitle {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #334155;\n\t}\n\n\t/* 信息网格 */\n\t.info-grid {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t}\n\n\t.info-item {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 12rpx;\n\t\tpadding: 20rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.info-item:hover {\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n\t}\n\n\t.info-label {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tmargin-bottom: 12rpx;\n\t}\n\n\t.label-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #475569;\n\t}\n\n\n\t.info-input {\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 8rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.info-input :deep(.uni-easyinput__content) {\n\t\tbackground: transparent;\n\t}\n\n\t/* 空状态 */\n\t.empty-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 100rpx 32rpx;\n\t\ttext-align: center;\n\t}\n\n\t.empty-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: #475569;\n\t\tmargin-top: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.empty-tip {\n\t\tfont-size: 26rpx;\n\t\tcolor: #94a3b8;\n\t\tmargin-top: 12rpx;\n\t\tmax-width: 500rpx;\n\t}\n\n\t/* PC端适配 */\n\t@media (min-width: 768px) {\n\t\t.section-body {\n\t\t\tpadding: 40rpx;\n\t\t}\n\n\t\t.info-grid {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(2, 1fr);\n\t\t\tgap: 24rpx;\n\t\t}\n\n\t}\n\n\t/* 大屏PC适配 */\n\t@media (min-width: 1200px) {\n\t\t.info-grid {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t}\n\t}\n\n\t/* 主体工程样式 */\n\t.construction-section {\n\t\tmargin-top: 32rpx;\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 24rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.construction-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 24rpx;\n\t\tflex-wrap: wrap;\n\t\tgap: 16rpx;\n\t}\n\n\t.header-title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\n\t.header-text {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #334155;\n\t}\n\n\t.construction-count {\n\t\tfont-size: 24rpx;\n\t\tcolor: #64748b;\n\t\tbackground: rgba(100, 116, 139, 0.1);\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.header-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t}\n\n\t.btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 8rpx;\n\t\tpadding: 12rpx 20rpx;\n\t\tborder-radius: 12rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.btn:active {\n\t\ttransform: translateY(2rpx);\n\t}\n\n\t.btn-add {\n\t\tbackground: #10b981;\n\t\tcolor: white;\n\t}\n\n\t.btn-refresh {\n\t\tbackground: #3b82f6;\n\t\tcolor: white;\n\t}\n\n\t.btn-refresh:disabled {\n\t\tbackground: #cbd5e1;\n\t\tcolor: #94a3b8;\n\t\tcursor: not-allowed;\n\t}\n\n\t.btn-retry {\n\t\tbackground: #ef4444;\n\t\tcolor: white;\n\t\tpadding: 16rpx 32rpx;\n\t\tmargin-top: 16rpx;\n\t}\n\n\t.construction-search {\n\t\tposition: relative;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t/* 表格样式 */\n\t.construction-table {\n\t\toverflow-x: auto;\n\t\t-webkit-overflow-scrolling: touch;\n\t}\n\n\t.table-header {\n\t\tdisplay: none;\n\t\tbackground: #f8fafc;\n\t\tborder-bottom: 2rpx solid #e2e8f0;\n\t\tpadding: 24rpx 32rpx;\n\t}\n\n\t.header-cell {\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #475569;\n\t\ttext-align: left;\n\t}\n\n\t.table-body {\n\t\tmin-width: 600rpx;\n\t}\n\n\t.table-row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 32rpx;\n\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 12rpx;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.body-cell {\n\t\tpadding: 16rpx 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\n\t.mobile-label {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #334155;\n\t\tmin-width: 140rpx;\n\t}\n\n\t.cell-input {\n\t\tflex: 1;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 8rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t}\n\n\t.cell-input :deep(.uni-easyinput__content) {\n\t\tbackground: transparent;\n\t}\n\n\t.photo-picker {\n\t\tflex: 1;\n\t}\n\n\t.photo-picker :deep(.uni-file-picker__container) {\n\t\tmin-height: auto !important;\n\t}\n\n\t.photo-picker :deep(.file-picker__box) {\n\t\twidth: 120rpx !important;\n\t\theight: 120rpx !important;\n\t}\n\n\t.photo-picker :deep(.is-add) {\n\t\twidth: 120rpx !important;\n\t\theight: 120rpx !important;\n\t}\n\n\t.photo-picker :deep(.file-picker__item) {\n\t\twidth: 120rpx !important;\n\t\theight: 120rpx !important;\n\t\tmargin: 0 8rpx 8rpx 0 !important;\n\t}\n\n\t.photo-picker :deep(.file-image) {\n\t\twidth: 120rpx !important;\n\t\theight: 120rpx !important;\n\t}\n\n\t.photo-picker :deep(.icon-del-box) {\n\t\twidth: 32rpx !important;\n\t\theight: 32rpx !important;\n\t\tright: -8rpx !important;\n\t\ttop: -8rpx !important;\n\t}\n\n\t.btn-delete {\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 12rpx 24rpx;\n\t\tbackground: rgba(239, 68, 68, 0.1);\n\t\tborder-radius: 8rpx;\n\t\tcolor: #ef4444;\n\t\tfont-size: 26rpx;\n\t\tborder: 1rpx solid #fecaca;\n\t}\n\n\t/* 分页器样式 */\n\t.pagination {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tgap: 16rpx;\n\t\tpadding: 32rpx;\n\t}\n\n\t.btn-pagination {\n\t\tpadding: 12rpx 24rpx;\n\t\tbackground: #f1f5f9;\n\t\tborder: 1rpx solid #cbd5e1;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #334155;\n\t}\n\n\t.btn-pagination:disabled {\n\t\tcolor: #94a3b8;\n\t\tbackground: #f8fafc;\n\t}\n\n\t.pagination-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #475569;\n\t}\n\n\t/* 加载和错误状态 */\n\t.loading-container,\n\t.error-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 80rpx 32rpx;\n\t\ttext-align: center;\n\t}\n\n\t.loading-spinner {\n\t\tanimation: spin 1s linear infinite;\n\t}\n\n\t@keyframes spin {\n\t\tfrom {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t.loading-text,\n\t.error-message {\n\t\tfont-size: 28rpx;\n\t\tcolor: #475569;\n\t\tmargin-top: 24rpx;\n\t\tfont-weight: 500;\n\t}\n\n\t.error-message {\n\t\tcolor: #dc2626;\n\t}\n\n\t/* PC端适配 - 主体工程 */\n\t@media (min-width: 768px) {\n\t\t.table-header {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 32rpx;\n\t\t}\n\n\t\t.header-category {\n\t\t\tflex: 0.8;\n\t\t}\n\n\t\t.header-name {\n\t\t\tflex: 1.2;\n\t\t}\n\n\t\t.header-location {\n\t\t\tflex: 0.8;\n\t\t}\n\n\t\t.header-content {\n\t\t\tflex: 2.5;\n\t\t}\n\n\t\t.header-remark {\n\t\t\tflex: 1.5;\n\t\t}\n\n\t\t.header-photo {\n\t\t\tflex: 2;\n\t\t}\n\n\t\t.header-action {\n\t\t\tflex: 0.5;\n\t\t}\n\n\t\t.table-row {\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\tgap: 16rpx;\n\t\t\tpadding: 16rpx 32rpx;\n\t\t}\n\n\t\t.body-cell {\n\t\t\tpadding: 0;\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.mobile-label {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.cell-category {\n\t\t\tflex: 0.8;\n\t\t}\n\n\t\t.cell-name {\n\t\t\tflex: 1.2;\n\t\t}\n\n\t\t.cell-location {\n\t\t\tflex: 0.8;\n\t\t}\n\n\t\t.cell-content {\n\t\t\tflex: 2.5;\n\t\t}\n\n\t\t.cell-remark {\n\t\t\tflex: 1.5;\n\t\t}\n\n\t\t.cell-photo {\n\t\t\tflex: 2;\n\t\t}\n\n\t\t.cell-action {\n\t\t\tflex: 0.5;\n\t\t}\n\n\t\t.btn-delete {\n\t\t\tpadding: 8rpx 16rpx;\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t}\n\t}\n</style>","import Component from 'C:/Users/97247/Desktop/uni-ecoful/components/field-survey/tabs/MainContentTab.vue'\nwx.createComponent(Component)"],"names":["ref","uni","computed","useFieldSurveyData","onMounted"],"mappings":";;;;;;;;;;;;;;;AAgSC,MAAM,uBAAuB;;;;;;;;;;;;;;;;;;AArF7B,UAAM,QAAQ;AAgBd,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAG5B,aAAS,gBAAgB;AACxBC,oBAAA,MAAA,MAAA,OAAA,0DAAY,UAAU,cAAc,KAAK;AAAA,IACzC;AAGD,UAAM,eAAeC,cAAAA,SAAS,MAAM;AACnC,aAAO,MAAM,UAAU,OAAO,UAAQ,KAAK,OAAO,qBAAqB;AAAA,IACzE,CAAE;AAGD,UAAM,uBAAuBA,cAAAA,SAAS,MAAM;AAC3C,UAAI,CAAC,cAAc,OAAO;AACzB,eAAO,aAAa;AAAA,MACpB;AACD,YAAM,UAAU,cAAc,MAAM,YAAW,EAAG,KAAM;AACxD,aAAO,aAAa,MAAM,OAAO,UAAQ;AACxC,cAAM,SAAS,KAAK,SAAS,IAAI,YAAa;AAC9C,cAAM,SAAS,KAAK,SAAS,IAAI,SAAU,EAAC,YAAa;AACzD,eAAO,MAAM,SAAS,OAAO,KAAK,MAAM,SAAS,OAAO;AAAA,MAC3D,CAAG;AAAA,IACH,CAAE;AAGiBA,kBAAAA,SAAS,MAAM;AAChC,aAAO,aAAa,MAAM,OAAO,UAAQ,KAAK,SAAS,OAAO;AAAA,IAChE,CAAE;AAGD,UAAM,oBAAoBA,cAAAA,SAAS,MAAM;AACxC,aAAO,qBAAqB,MAAM,OAAO,UAAQ,KAAK,SAAS,OAAO;AAAA,IACxE,CAAE;AAGkBA,kBAAAA,SAAS,MAAM;AACjC,aAAO,aAAa,MAAM,OAAO,UAAQ,KAAK,SAAS,OAAO;AAAA,IAChE,CAAE;AAGD,UAAM;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACA,IAAGC,kDAAoB;AAGxB,aAAS,0BAA0B;AAClC,4BAAsB,MAAM,QAAQ,MAAM,SAAS;AAAA,IACnD;AAGDC,kBAAAA,UAAU,MAAM;AAEf,UAAI,CAAC,iBAAiB,MAAM,UAAU,MAAM,UAAU,MAAM,WAAW;AAEtE,8BAAsB,MAAM,QAAQ,MAAM,SAAS;AAAA,MACnD;AAAA,IACH,CAAE;AAGD,UAAM,0BAA0BJ,cAAG,IAAC,CAAC;AAGrC,UAAM,4BAA4BE,cAAAA,SAAS,MAAM;AAChD,YAAM,SAAS,wBAAwB,QAAQ,KAAK;AACpD,YAAM,MAAM,QAAQ;AACpB,aAAO,yBAAyB,MAAM,MAAM,OAAO,GAAG;AAAA,IACxD,CAAE;AAED,UAAM,yBAAyBA,cAAAA;AAAAA,MAAS,MACvC,KAAK,KAAK,yBAAyB,MAAM,SAAS,oBAAoB;AAAA,IACtE;AAG0BA,kBAAAA,SAAS,MAAM;AACzC,aAAO,qBAAqB,MAAM,OAAO,UAAQ,KAAK,SAAS,OAAO;AAAA,IACxE,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9SF,GAAG,gBAAgB,SAAS;"}