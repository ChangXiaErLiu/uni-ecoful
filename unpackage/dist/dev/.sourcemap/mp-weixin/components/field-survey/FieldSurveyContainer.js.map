{"version":3,"file":"FieldSurveyContainer.js","sources":["components/field-survey/FieldSurveyContainer.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvOTcyNDcvRGVza3RvcC91bmktZWNvZnVsL2NvbXBvbmVudHMvZmllbGQtc3VydmV5L0ZpZWxkU3VydmV5Q29udGFpbmVyLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"field-survey-container\">\n\t\t<view class=\"section-card\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<uni-icons type=\"map-pin-ellipse\" size=\"20\" color=\"#166534\" />\n\t\t\t\t<text class=\"form-label\">现场踏勘记录</text>\n\t\t\t\t<text class=\"form-tip\">记录现场踏勘发现的问题和差异</text>\n\t\t\t</view>\n\t\t\t<view class=\"section-body\">\n\t\t\t\t<!-- Tab切换 -->\n\t\t\t\t<view class=\"reconnoitre-tabs\">\n\t\t\t\t\t<view class=\"tabs-container\">\n\t\t\t\t\t\t<view v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"tab-item\"\n\t\t\t\t\t\t\t:class=\"{ 'tab-item--active': currentTab === index }\" @tap=\"handleTabClick(index)\">\n\t\t\t\t\t\t\t<text class=\"tab-label\">{{ tab }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 现场踏勘四个功能 -->\n\t\t\t\t<view class=\"reconnoitre-content\">\n\t\t\t\t\t<scroll-view class=\"content-scroll\" scroll-y>\n\t\t\t\t\t\t<!-- Tab 0: 主要建设内容 -->\n\t\t\t\t\t\t<view v-show=\"currentTab === 0\" class=\"content-section\">\n\t\t\t\t\t\t\t<MainContentTab :baseTable=\"baseTable\" :userId=\"userId\" :projectId=\"projectId\" />\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- Tab 1: 设备列表情况 -->\n\t\t\t\t\t\t<view v-show=\"currentTab === 1\" class=\"content-section\">\n\t\t\t\t\t\t\t<EquipmentTab :userId=\"userId\" :projectId=\"projectId\" />\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- Tab 2: 污染物设施情况 -->\n\t\t\t\t\t\t<view v-show=\"currentTab === 2\" class=\"content-section\">\n\t\t\t\t\t\t\t<FacilityTab :userId=\"userId\" :projectId=\"projectId\" :baseTable=\"baseTable\" />\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- Tab 3: 排污口情况 -->\n\t\t\t\t\t\t<view v-show=\"currentTab === 3\" class=\"content-section\">\n\t\t\t\t\t\t\t<OutletTab :projectId=\"projectId\" :baseTable=\"baseTable\"\n\t\t\t\t\t\t\t\t@generate-signboard=\"$emit('generate-signboard')\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 生成比对清单 -->\n\t\t\t\t<view class=\"subsection\">\n\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t<text class=\"subsection-title\">现场踏勘比对清单</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"section-actions\">\n\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"handleGenerateComparison\">\n\t\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t<text>生成详细比对清单</text>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tuseFieldSurveyData\n\t} from '@/composables/useFieldSurveyData.js'\n\timport MainContentTab from './tabs/MainContentTab.vue'\n\timport EquipmentTab from './tabs/EquipmentTab.vue'\n\timport FacilityTab from './tabs/FacilityTab.vue'\n\timport OutletTab from './tabs/OutletTab.vue'\n\n\tconst props = defineProps({\n\t\t// 用户ID和项目ID，用于设备数据获取\n\t\tuserId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t},\n\t\tprojectId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t},\n\t\t// 排污标识牌数据（来自步骤0）\n\t\tsignboard: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\t// 基本信息表（用于排污口Tab查找数据）\n\t\tbaseTable: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\t// 提资单数据（用于生成比对清单）\n\t\tdatasheet: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t}\n\t})\n\n\tconst emit = defineEmits(['generate-signboard'])\n\n\tconst {\n\t\ttabs,\n\t\tcurrentTab,\n\t\thandleTabChange,\n\t\tgenerateFieldworkComparison\n\t} = useFieldSurveyData()\n\n\t// 处理Tab点击\n\tfunction handleTabClick(index) {\n\t\thandleTabChange(index, props.userId, props.projectId, props.baseTable)\n\t}\n\n\t// 处理生成比对清单\n\tfunction handleGenerateComparison() {\n\t\tgenerateFieldworkComparison(props.datasheet)\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t.section-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tpadding: 28rpx 24rpx;\n\t\tmargin-bottom: 14rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 10px;\n\t}\n\n\t.field-survey-container {\n\t\twidth: 100%;\n\t}\n\n\t/* Tab切换样式 */\n\t.reconnoitre-tabs {\n\t\tflex-shrink: 0;\n\t\tbackground: #ffffff;\n\t\tborder-bottom: 1px solid #e2e8f0;\n\t\tpadding: 0 32rpx;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(15, 23, 42, 0.05);\n\t\tz-index: 100;\n\t}\n\n\t.tabs-container {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.tab-item {\n\t\tflex: 1;\n\t\tpadding: 24rpx 16rpx;\n\t\ttext-align: center;\n\t\tposition: relative;\n\t\ttransition: all 0.3s ease;\n\t\tcursor: pointer;\n\t}\n\n\t.tab-item:active {\n\t\tbackground: #f8fafc;\n\t}\n\n\t.tab-item--active {\n\t\tcolor: #166534;\n\t}\n\n\t.tab-item--active::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 4rpx;\n\t\tbackground: #166534;\n\t\tborder-radius: 2rpx 2rpx 0 0;\n\t}\n\n\t.tab-label {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #64748b;\n\t\ttransition: color 0.3s ease;\n\t}\n\n\t.tab-item--active .tab-label {\n\t\tcolor: #166534;\n\t\tfont-weight: 600;\n\t}\n\n\t/* 响应式设计 - 移动端 */\n\t@media (max-width: 768px) {\n\t\t.reconnoitre-tabs {\n\t\t\tpadding: 0 16rpx;\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.tabs-container {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.tab-item {\n\t\t\tpadding: 20rpx 8rpx;\n\t\t\tmin-width: 120rpx;\n\t\t}\n\n\t\t.tab-label {\n\t\t\tfont-size: 24rpx;\n\t\t}\n\t}\n\n\t/* 平板端适配 */\n\t@media (min-width: 769px) and (max-width: 1024px) {\n\t\t.reconnoitre-tabs {\n\t\t\tpadding: 0 24rpx;\n\t\t}\n\n\t\t.tab-item {\n\t\t\tpadding: 22rpx 12rpx;\n\t\t}\n\n\t\t.tab-label {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\t}\n\n\t/* PC端优化 */\n\t@media (min-width: 1025px) {\n\t\t.tab-item:hover {\n\t\t\tbackground: #f8fafc;\n\t\t}\n\n\t\t.tab-item:hover .tab-label {\n\t\t\tcolor: #166534;\n\t\t}\n\t}\n</style>","import Component from 'C:/Users/97247/Desktop/uni-ecoful/components/field-survey/FieldSurveyContainer.vue'\nwx.createComponent(Component)"],"names":["useFieldSurveyData"],"mappings":";;;;;;;;;;;AAoEC,MAAM,iBAAiB,MAAW;AAClC,MAAM,eAAe,MAAW;AAChC,MAAM,cAAc,MAAW;AAC/B,MAAM,YAAY,MAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAE7B,UAAM,QAAQ;AA6Bd,UAAM;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACA,IAAGA,kDAAoB;AAGxB,aAAS,eAAe,OAAO;AAC9B,sBAAgB,OAAO,MAAM,QAAQ,MAAM,WAAW,MAAM,SAAS;AAAA,IACrE;AAGD,aAAS,2BAA2B;AACnC,kCAA4B,MAAM,SAAS;AAAA,IAC3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpHF,GAAG,gBAAgB,SAAS;"}