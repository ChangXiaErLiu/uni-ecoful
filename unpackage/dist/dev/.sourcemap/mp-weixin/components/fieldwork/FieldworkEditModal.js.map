{"version":3,"file":"FieldworkEditModal.js","sources":["components/fieldwork/FieldworkEditModal.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvOTcyNDcvRGVza3RvcC91bmktZWNvZnVsL2NvbXBvbmVudHMvZmllbGR3b3JrL0ZpZWxkd29ya0VkaXRNb2RhbC52dWU"],"sourcesContent":["<template>\r\n\t<uni-popup ref=\"popup\" type=\"center\" :mask-click=\"false\">\r\n\t\t<view class=\"edit-modal\">\r\n\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t<text class=\"modal-title\">{{ title }}</text>\r\n\t\t\t\t<view class=\"modal-close\" @tap=\"close\">\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#6b7280\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<scroll-view class=\"modal-body\" scroll-y>\r\n\t\t\t\t<uni-forms ref=\"form\" :model=\"formData\" :rules=\"rules\">\r\n\t\t\t\t\t<!-- 建设内容表单 -->\r\n\t\t\t\t\t<template v-if=\"type === 'building'\">\r\n\t\t\t\t\t\t<uni-forms-item label=\"项目名称\" name=\"projectName\" required>\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.projectName\" placeholder=\"请输入项目名称\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"建设内容\" name=\"projectContent\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.projectContent\" type=\"textarea\" placeholder=\"请输入建设内容\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"主体情况\" name=\"mainStatus\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.mainStatus\" type=\"textarea\" placeholder=\"请输入主体情况\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<!-- 设备情况表单 -->\r\n\t\t\t\t\t<template v-if=\"type === 'equipment'\">\r\n\t\t\t\t\t\t<uni-forms-item label=\"设备名称\" name=\"name\" required>\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.name\" placeholder=\"请输入设备名称\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"数量\" name=\"quantity\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.quantity\" placeholder=\"请输入数量\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"备注\" name=\"remark\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.remark\" type=\"textarea\" placeholder=\"请输入备注\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<!-- 治理措施表单 -->\r\n\t\t\t\t\t<template v-if=\"type === 'facility'\">\r\n\t\t\t\t\t\t<uni-forms-item label=\"措施名称\" name=\"name\" required>\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.name\" placeholder=\"请输入措施名称\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"数量\" name=\"quantity\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.quantity\" placeholder=\"请输入数量\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"备注\" name=\"remark\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.remark\" type=\"textarea\" placeholder=\"请输入备注\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<!-- 排污口表单 -->\r\n\t\t\t\t\t<template v-if=\"type === 'outlet'\">\r\n\t\t\t\t\t\t<uni-forms-item label=\"排污口名称\" name=\"name\" required>\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.name\" placeholder=\"请输入排污口名称\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"编号\" name=\"code\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.code\" placeholder=\"请输入编号\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t\t<uni-forms-item label=\"污染因子\" name=\"pollutionFactors\">\r\n\t\t\t\t\t\t\t<uni-easyinput v-model=\"formData.pollutionFactors\" placeholder=\"请输入污染因子\" />\r\n\t\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<!-- 图片上传 -->\r\n\t\t\t\t\t<uni-forms-item label=\"现场照片\">\r\n\t\t\t\t\t\t<uni-file-picker v-model=\"formData.photos\" fileMediatype=\"image\" mode=\"grid\" :limit=\"9\"\r\n\t\t\t\t\t\t\t:auto-upload=\"false\" />\r\n\t\t\t\t\t</uni-forms-item>\r\n\t\t\t\t</uni-forms>\r\n\t\t\t</scroll-view>\r\n\r\n\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"close\">取消</button>\r\n\t\t\t\t<button class=\"btn btn--primary\" @tap=\"confirm\">确定</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'FieldworkEditModal',\r\n\t\tprops: {\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '编辑'\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tformData: {},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入名称'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprojectName: {\r\n\t\t\t\t\t\trules: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\terrorMessage: '请输入项目名称'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topen(data = {}) {\r\n\t\t\t\tthis.formData = {\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tphotos: data.photos || []\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t\tthis.formData = {}\r\n\t\t\t},\r\n\t\t\tasync confirm() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$refs.form.validate()\r\n\t\t\t\t\tthis.$emit('confirm', this.formData)\r\n\t\t\t\t\tthis.close()\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log('表单验证失败:', error)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.edit-modal {\r\n\t\twidth: 90vw;\r\n\t\tmax-width: 600rpx;\r\n\t\tmax-height: 80vh;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.modal-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 32rpx;\r\n\t\tborder-bottom: 2rpx solid #f3f4f6;\r\n\r\n\t\t.modal-title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #111827;\r\n\t\t}\r\n\r\n\t\t.modal-close {\r\n\t\t\tpadding: 8rpx;\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\t}\r\n\r\n\t.modal-body {\r\n\t\tflex: 1;\r\n\t\tpadding: 32rpx;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.modal-footer {\r\n\t\tdisplay: flex;\r\n\t\tgap: 16rpx;\r\n\t\tpadding: 24rpx 32rpx;\r\n\t\tborder-top: 2rpx solid #f3f4f6;\r\n\r\n\t\t.btn {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import Component from 'C:/Users/97247/Desktop/uni-ecoful/components/fieldwork/FieldworkEditModal.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AAiFC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA,IACN,MAAM;AAAA,MACL,MAAM;AAAA,MACN,UAAU;AAAA,IACV;AAAA,IACD,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,UAAU,CAAE;AAAA,MACZ,OAAO;AAAA,QACN,MAAM;AAAA,UACL,OAAO,CAAC;AAAA,YACP,UAAU;AAAA,YACV,cAAc;AAAA,WACd;AAAA,QACD;AAAA,QACD,aAAa;AAAA,UACZ,OAAO,CAAC;AAAA,YACP,UAAU;AAAA,YACV,cAAc;AAAA,WACd;AAAA,QACF;AAAA,MACD;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,KAAK,OAAO,IAAI;AACf,WAAK,WAAW;AAAA,QACf,GAAG;AAAA,QACH,QAAQ,KAAK,UAAU,CAAC;AAAA,MACzB;AACA,WAAK,MAAM,MAAM,KAAK;AAAA,IACtB;AAAA,IACD,QAAQ;AACP,WAAK,MAAM,MAAM,MAAM;AACvB,WAAK,WAAW,CAAC;AAAA,IACjB;AAAA,IACD,MAAM,UAAU;AACf,UAAI;AACH,cAAM,KAAK,MAAM,KAAK,SAAS;AAC/B,aAAK,MAAM,WAAW,KAAK,QAAQ;AACnC,aAAK,MAAM;AAAA,MACV,SAAO,OAAO;AACfA,sBAAAA,yEAAY,WAAW,KAAK;AAAA,MAC7B;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrID,GAAG,gBAAgB,SAAS;"}