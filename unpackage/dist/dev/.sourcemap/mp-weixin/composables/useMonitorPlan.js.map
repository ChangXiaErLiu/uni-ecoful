{"version":3,"file":"useMonitorPlan.js","sources":["composables/useMonitorPlan.js"],"sourcesContent":["import { ref, computed } from 'vue'\r\nimport { generateMonitorPlan as apiGenerateMonitorPlan, downloadMonitorPlan as apiDownloadMonitorPlan } from '@/api/acceptance.js'\r\n\r\n/**\r\n * 监测方案管理 Composable\r\n * 管理监测方案的生成、下载、缓存等功能\r\n */\r\n\r\n// 创建单例状态（确保所有组件共享同一份数据）\r\nlet instance = null\r\n\r\nexport function useMonitorPlan() {\r\n\t// 如果已经创建过实例，直接返回\r\n\tif (instance) {\r\n\t\treturn instance\r\n\t}\r\n\r\n\t// 状态管理\r\n\tconst plan = ref(null)                    // 方案数据（true 表示已生成）\r\n\tconst isGenerating = ref(false)           // 是否正在生成\r\n\tconst taskProgress = ref(0)               // 生成进度 0-100\r\n\tconst taskStatusText = ref('')            // 当前步骤描述\r\n\tconst taskState = ref('pending')          // 任务状态：pending/running/success/failed\r\n\r\n\t// 计算属性\r\n\tconst canDownload = computed(() => plan.value !== null)\r\n\r\n\t// 进度平滑处理变量\r\n\tlet smoothProgressTimer = null\r\n\tlet currentDisplayProgress = 0\r\n\tlet targetProgress = 0\r\n\tlet lastTargetProgress = 0\r\n\tlet lastUpdateTime = 0\r\n\r\n\t/**\r\n\t * 平滑更新进度条\r\n\t * @param {number} newProgress - 新进度值\r\n\t * @param {string} statusText - 状态文本\r\n\t * @param {string} state - 任务状态\r\n\t */\r\n\tfunction updateProgressSmooth(newProgress, statusText, state = 'running') {\r\n\t\tconst progressChanged = newProgress !== lastTargetProgress\r\n\r\n\t\ttargetProgress = newProgress\r\n\t\ttaskStatusText.value = statusText\r\n\t\ttaskState.value = state\r\n\r\n\t\tif (progressChanged) {\r\n\t\t\tlastUpdateTime = Date.now()\r\n\t\t\tlastTargetProgress = newProgress\r\n\t\t}\r\n\r\n\t\tif (!smoothProgressTimer) {\r\n\t\t\tsmoothProgressTimer = setInterval(() => {\r\n\t\t\t\tconst now = Date.now()\r\n\t\t\t\tconst timeSinceLastUpdate = now - lastUpdateTime\r\n\r\n\t\t\t\tif (currentDisplayProgress < targetProgress) {\r\n\t\t\t\t\tconst diff = targetProgress - currentDisplayProgress\r\n\t\t\t\t\tconst step = Math.max(0.5, diff / 10)\r\n\t\t\t\t\tcurrentDisplayProgress = Math.min(currentDisplayProgress + step, targetProgress)\r\n\t\t\t\t} else if (currentDisplayProgress >= targetProgress && targetProgress < 100) {\r\n\t\t\t\t\tif (timeSinceLastUpdate > 5000) {\r\n\t\t\t\t\t\tconst maxAllowedProgress = Math.min(targetProgress + 5, 99)\r\n\t\t\t\t\t\tif (currentDisplayProgress < maxAllowedProgress) {\r\n\t\t\t\t\t\t\tcurrentDisplayProgress += 0.1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttaskProgress.value = Math.floor(currentDisplayProgress)\r\n\r\n\t\t\t\tif (currentDisplayProgress >= 99.9 && targetProgress >= 100) {\r\n\t\t\t\t\tclearInterval(smoothProgressTimer)\r\n\t\t\t\t\tsmoothProgressTimer = null\r\n\t\t\t\t\tcurrentDisplayProgress = 100\r\n\t\t\t\t\ttaskProgress.value = 100\r\n\t\t\t\t\ttaskState.value = 'success'\r\n\t\t\t\t\ttaskStatusText.value = '监测方案生成完成'\r\n\t\t\t\t}\r\n\t\t\t}, 50)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 清理进度计时器\r\n\t */\r\n\tfunction clearProgressTimer() {\r\n\t\tif (smoothProgressTimer) {\r\n\t\t\tclearInterval(smoothProgressTimer)\r\n\t\t\tsmoothProgressTimer = null\r\n\t\t}\r\n\t\tcurrentDisplayProgress = 0\r\n\t\ttargetProgress = 0\r\n\t\tlastTargetProgress = 0\r\n\t\tlastUpdateTime = 0\r\n\t\ttaskProgress.value = 0\r\n\t\ttaskStatusText.value = '正在初始化...'\r\n\t\ttaskState.value = 'running'\r\n\t}\r\n\r\n\t/**\r\n\t * 生成监测方案\r\n\t * @param {number} projectId - 项目ID\r\n\t * @param {boolean} hasExtracted - 是否已提取项目信息\r\n\t * @param {Object} modalRef - 进度弹窗的 ref\r\n\t */\r\n\tasync function generatePlan(projectId, hasExtracted, modalRef) {\r\n\t\t// 前置检查\r\n\t\tif (!projectId) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '请先选择项目',\r\n\t\t\t\tshowCancel: false\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!hasExtracted) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '请先提取项目信息',\r\n\t\t\t\tshowCancel: false\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tisGenerating.value = true\r\n\t\tclearProgressTimer()\r\n\r\n\t\t// 打开进度弹窗\r\n\t\tif (modalRef) {\r\n\t\t\tmodalRef.open()\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tawait apiGenerateMonitorPlan({\r\n\t\t\t\tprojectId: projectId,\r\n\t\t\t\tonProgress: (progress, statusText) => {\r\n\t\t\t\t\tupdateProgressSmooth(progress, statusText)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// 生成成功\r\n\t\t\tplan.value = true\r\n\t\t\tsavePlanCache(projectId, true)\r\n\r\n\t\t\t// 关闭弹窗\r\n\t\t\tif (modalRef) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmodalRef.close()\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '生成成功，可下载报告',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\r\n\t\t} catch (error) {\r\n\t\t\tclearProgressTimer()\r\n\t\t\t\r\n\t\t\tif (modalRef) {\r\n\t\t\t\tmodalRef.close()\r\n\t\t\t}\r\n\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '生成失败',\r\n\t\t\t\tcontent: error.message || '请稍后重试',\r\n\t\t\t\tshowCancel: false\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tisGenerating.value = false\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 下载监测方案\r\n\t * @param {number} projectId - 项目ID\r\n\t */\r\n\tasync function downloadPlan(projectId) {\r\n\t\tif (!projectId) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请先选择项目',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '正在下载监测方案…',\r\n\t\t\tmask: true\r\n\t\t})\r\n\r\n\t\ttry {\r\n\t\t\tconst { ab, filename } = await apiDownloadMonitorPlan(projectId)\r\n\t\t\tawait saveArrayBuffer(ab, filename)\r\n\t\t\t\r\n\t\t\tuni.hideLoading()\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '已保存：' + filename,\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tuni.hideLoading()\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '下载失败',\r\n\t\t\t\tcontent: error.message,\r\n\t\t\t\tshowCancel: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 跨平台保存文件\r\n\t * @param {ArrayBuffer} arrayBuffer - 文件数据\r\n\t * @param {string} filename - 文件名\r\n\t */\r\n\tasync function saveArrayBuffer(arrayBuffer, filename) {\r\n\t\t// #ifdef H5\r\n\t\tconst blob = new Blob([arrayBuffer], {\r\n\t\t\ttype: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\r\n\t\t})\r\n\t\tconst url = URL.createObjectURL(blob)\r\n\t\tconst a = document.createElement('a')\r\n\t\ta.href = url\r\n\t\ta.download = filename\r\n\t\tdocument.body.appendChild(a)\r\n\t\ta.click()\r\n\t\tdocument.body.removeChild(a)\r\n\t\tURL.revokeObjectURL(url)\r\n\t\t// #endif\r\n\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tconst fs = wx.getFileSystemManager()\r\n\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${filename}`\r\n\t\tfs.writeFile({\r\n\t\t\tfilePath,\r\n\t\t\tdata: arrayBuffer,\r\n\t\t\tencoding: 'binary',\r\n\t\t\tsuccess: () => wx.openDocument({\r\n\t\t\t\tfilePath,\r\n\t\t\t\tfileType: 'docx'\r\n\t\t\t}),\r\n\t\t\tfail: () => uni.showToast({\r\n\t\t\t\ttitle: '保存失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t})\r\n\t\t// #endif\r\n\r\n\t\t// #ifdef APP-PLUS\r\n\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, fs => {\r\n\t\t\tfs.root.getFile(filename, {\r\n\t\t\t\tcreate: true\r\n\t\t\t}, entry => {\r\n\t\t\t\tentry.createWriter(writer => {\r\n\t\t\t\t\twriter.write(arrayBuffer)\r\n\t\t\t\t\twriter.onwrite = () => uni.showToast({\r\n\t\t\t\t\t\ttitle: '已保存到下载目录'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t\t// #endif\r\n\t}\r\n\r\n\t/**\r\n\t * 保存方案缓存到本地\r\n\t * @param {number} projectId - 项目ID\r\n\t * @param {boolean} planData - 方案数据\r\n\t */\r\n\tfunction savePlanCache(projectId, planData) {\r\n\t\ttry {\r\n\t\t\tconst cacheKey = `monitor_plan_${projectId}`\r\n\t\t\tconst cacheData = {\r\n\t\t\t\tplan: planData,\r\n\t\t\t\tgeneratedAt: Date.now()\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync(cacheKey, JSON.stringify(cacheData))\r\n\t\t\tconsole.log(`✅ 项目 ${projectId} 的监测方案已缓存`)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('保存监测方案缓存失败:', error)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 从本地加载方案缓存\r\n\t * @param {number} projectId - 项目ID\r\n\t */\r\n\tfunction loadPlanCache(projectId) {\r\n\t\ttry {\r\n\t\t\tconst cacheKey = `monitor_plan_${projectId}`\r\n\t\t\tconst cachedData = uni.getStorageSync(cacheKey)\r\n\r\n\t\t\tif (cachedData) {\r\n\t\t\t\tconst cacheData = JSON.parse(cachedData)\r\n\t\t\t\tplan.value = cacheData.plan\r\n\t\t\t\tconsole.log(`✅ 已加载项目 ${projectId} 的监测方案缓存`)\r\n\t\t\t} else {\r\n\t\t\t\tplan.value = null\r\n\t\t\t\tconsole.log(`ℹ️ 项目 ${projectId} 暂无监测方案缓存`)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('加载监测方案缓存失败:', error)\r\n\t\t\tplan.value = null\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 清除方案缓存\r\n\t * @param {number} projectId - 项目ID\r\n\t */\r\n\tfunction clearPlanCache(projectId) {\r\n\t\ttry {\r\n\t\t\tconst cacheKey = `monitor_plan_${projectId}`\r\n\t\t\tuni.removeStorageSync(cacheKey)\r\n\t\t\tplan.value = null\r\n\t\t\tconsole.log(`✅ 已清除项目 ${projectId} 的监测方案缓存`)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('清除监测方案缓存失败:', error)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 重置状态（切换项目时使用）\r\n\t */\r\n\tfunction resetState() {\r\n\t\tplan.value = null\r\n\t\tisGenerating.value = false\r\n\t\tclearProgressTimer()\r\n\t}\r\n\r\n\t// 创建实例对象\r\n\tinstance = {\r\n\t\t// 状态\r\n\t\tplan,\r\n\t\tcanDownload,\r\n\t\tisGenerating,\r\n\t\ttaskProgress,\r\n\t\ttaskStatusText,\r\n\t\ttaskState,\r\n\r\n\t\t// 方法\r\n\t\tgeneratePlan,\r\n\t\tdownloadPlan,\r\n\t\tloadPlanCache,\r\n\t\tsavePlanCache,\r\n\t\tclearPlanCache,\r\n\t\tresetState\r\n\t}\r\n\r\n\treturn instance\r\n}\r\n"],"names":["ref","computed","uni","apiGenerateMonitorPlan","apiDownloadMonitorPlan","wx"],"mappings":"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"}