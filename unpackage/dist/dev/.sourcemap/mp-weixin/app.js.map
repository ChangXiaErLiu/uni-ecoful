{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script setup>\n\timport {\n\t\tonHide,\n\t\tonLaunch,\n\t\tonShow\n\t} from '@dcloudio/uni-app'\n\timport {\n\t\tuseUserStore\n\t} from '@/stores/user.js'\n\t\n\t// 用户信息\n\tconst userStore = useUserStore()\n\t// 1. 把 token 读进内存（pinia 构造函数已做）\n\t// 2. 把 userInfo 读进内存\n\tuserStore.initUserInfo()\n\n</script>\n\n<style lang=\"scss\">\n\t@import '@/uni.scss';\n\n\t/* 中文注释：可在此编写全局样式或 CSS 变量 */\n\n\t/* #ifdef H5 */\n\t/* 中文注释：H5 端确保外层容器占满视口并禁止 body 滚动，滚动交由页面内容容器处理 */\n\thtml,\n\tbody,\n\t#app {\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t}\n\n\t/* #endif */\n</style>","import App from './App'\nimport './uni.promisify.adaptor'\nimport { setupStore } from './api'\nimport { setupRouterGuard } from '@/common/router-guard.js'\n\n// 在 H5 端将安全区写入 CSS 变量，供遮罩/抽屉等使用\nfunction injectSafeAreaCssVars() {\n  try {\n    const info = uni.getSystemInfoSync()\n    const top = Number((info.safeAreaInsets && info.safeAreaInsets.top) || info.statusBarHeight || 0)\n    const bottom = Number((info.safeAreaInsets && info.safeAreaInsets.bottom) || 0)\n    if (typeof document !== 'undefined') {\n      const root = document.documentElement\n      root.style.setProperty('--safe-top', top + 'px')\n      root.style.setProperty('--safe-bottom', bottom + 'px')\n    }\n  } catch (e) {\n    // 忽略错误，保证兼容性\n  }\n}\n\n// #ifndef VUE3\nimport Vue from 'vue'\nVue.config.productionTip = false\nApp.mpType = 'app'\nconst app = new Vue({\n  ...App\n})\nsetupStore(app)\nsetupRouterGuard() // Vue2 也要启用路由守卫\ninjectSafeAreaCssVars()\n// 兼容 Vue2 挂载写法\napp.$mount()\n// #endif\n\n// #ifdef VUE3\nimport { createSSRApp } from 'vue'\nexport function createApp() {\n  const app = createSSRApp(App)\n  setupStore(app)\n  setupRouterGuard() // vue3启动路由守卫\n  injectSafeAreaCssVars()\n  return {\n    app\n  }\n}\n// #endif\n"],"names":["useUserStore","uni","createSSRApp","App","setupStore","setupRouterGuard"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWC,UAAM,YAAYA,YAAAA,aAAc;AAGhC,cAAU,aAAc;;;;;ACRzB,SAAS,wBAAwB;AAC/B,MAAI;AACF,UAAM,OAAOC,cAAG,MAAC,kBAAmB;AACpC,UAAM,MAAM,OAAQ,KAAK,kBAAkB,KAAK,eAAe,OAAQ,KAAK,mBAAmB,CAAC;AAChG,UAAM,SAAS,OAAQ,KAAK,kBAAkB,KAAK,eAAe,UAAW,CAAC;AAC9E,QAAI,OAAO,aAAa,aAAa;AACnC,YAAM,OAAO,SAAS;AACtB,WAAK,MAAM,YAAY,cAAc,MAAM,IAAI;AAC/C,WAAK,MAAM,YAAY,iBAAiB,SAAS,IAAI;AAAA,IACtD;AAAA,EACF,SAAQ,GAAG;AAAA,EAEX;AACH;AAkBO,SAAS,YAAY;AAC1B,QAAM,MAAMC,cAAY,aAACC,SAAG;AAC5BC,YAAAA,WAAW,GAAG;AACdC,sCAAkB;AAClB,wBAAuB;AACvB,SAAO;AAAA,IACL;AAAA,EACD;AACH;;;"}