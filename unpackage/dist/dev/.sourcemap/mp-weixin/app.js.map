{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script setup>\r\n\timport {\r\n\t\tonHide,\r\n\t\tonLaunch,\r\n\t\tonShow\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tuseUserStore\r\n\t} from '@/stores/user.js'\r\n\t\r\n\t// 用户信息\r\n\tconst userStore = useUserStore()\r\n\t// 1. 把 token 读进内存（pinia 构造函数已做）\r\n\t// 2. 把 userInfo 读进内存\r\n\tuserStore.initUserInfo()\r\n\r\n\t// 应用生命周期中记录关键节点，后续可接入埋点\r\n\t// onLaunch(() => {\r\n\t//   console.log('应用启动')\r\n\t// })\r\n\r\n\t// onShow(() => {\r\n\t//   console.log('应用进入前台')\r\n\t// })\r\n\r\n\t// onHide(() => {\r\n\t//   console.log('应用进入后台')\r\n\t// })\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '@/uni.scss';\r\n\r\n\t/* 中文注释：可在此编写全局样式或 CSS 变量 */\r\n\r\n\t/* #ifdef H5 */\r\n\t/* 中文注释：H5 端确保外层容器占满视口并禁止 body 滚动，滚动交由页面内容容器处理 */\r\n\thtml,\r\n\tbody,\r\n\t#app {\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t/* #endif */\r\n</style>","import App from './App'\nimport './uni.promisify.adaptor'\nimport { setupStore } from './api'\nimport { setupRouterGuard } from '@/common/router-guard.js'\r\n\n// 在 H5 端将安全区写入 CSS 变量，供遮罩/抽屉等使用\nfunction injectSafeAreaCssVars() {\n  try {\n    const info = uni.getSystemInfoSync()\n    const top = Number((info.safeAreaInsets && info.safeAreaInsets.top) || info.statusBarHeight || 0)\n    const bottom = Number((info.safeAreaInsets && info.safeAreaInsets.bottom) || 0)\n    if (typeof document !== 'undefined') {\n      const root = document.documentElement\n      root.style.setProperty('--safe-top', top + 'px')\n      root.style.setProperty('--safe-bottom', bottom + 'px')\n    }\n  } catch (e) {\n    // 忽略错误，保证兼容性\n  }\n}\n\n// #ifndef VUE3\nimport Vue from 'vue'\nVue.config.productionTip = false\nApp.mpType = 'app'\nconst app = new Vue({\n  ...App\n})\nsetupStore(app)\r\nsetupRouterGuard() // Vue2 也要启用路由守卫\ninjectSafeAreaCssVars()\n// 兼容 Vue2 挂载写法\napp.$mount()\n// #endif\n\n// #ifdef VUE3\nimport { createSSRApp } from 'vue'\nexport function createApp() {\n  const app = createSSRApp(App)\n  setupStore(app)\r\n  setupRouterGuard() // vue3启动路由守卫\n  injectSafeAreaCssVars()\n  return {\n    app\n  }\n}\n// #endif\n"],"names":["useUserStore","uni","createSSRApp","App","setupStore","setupRouterGuard"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWC,UAAM,YAAYA,YAAAA,aAAc;AAGhC,cAAU,aAAc;;;;;ACRzB,SAAS,wBAAwB;AAC/B,MAAI;AACF,UAAM,OAAOC,cAAG,MAAC,kBAAmB;AACpC,UAAM,MAAM,OAAQ,KAAK,kBAAkB,KAAK,eAAe,OAAQ,KAAK,mBAAmB,CAAC;AAChG,UAAM,SAAS,OAAQ,KAAK,kBAAkB,KAAK,eAAe,UAAW,CAAC;AAC9E,QAAI,OAAO,aAAa,aAAa;AACnC,YAAM,OAAO,SAAS;AACtB,WAAK,MAAM,YAAY,cAAc,MAAM,IAAI;AAC/C,WAAK,MAAM,YAAY,iBAAiB,SAAS,IAAI;AAAA,IACtD;AAAA,EACF,SAAQ,GAAG;AAAA,EAEX;AACH;AAkBO,SAAS,YAAY;AAC1B,QAAM,MAAMC,cAAY,aAACC,SAAG;AAC5BC,YAAAA,WAAW,GAAG;AACdC,sCAAkB;AAClB,wBAAuB;AACvB,SAAO;AAAA,IACL;AAAA,EACD;AACH;;;"}