{"version":3,"file":"about.js","sources":["pages/profile/about.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9hYm91dC52dWU"],"sourcesContent":["<!-- 关于系统页面（UTF-8，中文注释） -->\r\n<template>\r\n  <AppLayout current=\"pages/profile/about\">\r\n    <view class=\"profile-page\">\r\n      <!-- 顶部信息卡片 -->\r\n      <view class=\"profile__card\">\r\n        <view class=\"about-top\">\r\n          <image class=\"about-logo\" src=\"/static/logo.png\" mode=\"aspectFit\" />\r\n          <view class=\"about-title\">\r\n            <text class=\"name\">{{ info.name || '环保AI系统' }}</text>\r\n            <text class=\"ver\">v{{ info.version || '-' }} ({{ info.build || '-' }})</text>\r\n            <text class=\"time\">更新于：{{ info.updatedAt || '-' }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- 详情卡片 -->\r\n      <view class=\"profile__card\">\r\n        <view class=\"profile__card-header\">\r\n          <uni-icons type=\"info\" size=\"20\" color=\"#276019\" />\r\n          <text class=\"profile__card-title\">相关信息</text>\r\n        </view>\r\n        <view class=\"profile__card-content\">\r\n          <view class=\"profile__card-row\" @tap=\"openNotes\">\r\n            <view class=\"profile__card-left\">\r\n              <uni-icons type=\"flag\" size=\"18\" color=\"#64748b\" />\r\n              <text class=\"profile__card-label\">更新日志</text>\r\n            </view>\r\n            <view class=\"profile__card-right\">\r\n              <uni-icons type=\"right\" size=\"16\" color=\"#94a3b8\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"profile__card-row\" @tap=\"openAgreement('user')\">\r\n            <view class=\"profile__card-left\">\r\n              <uni-icons type=\"checkbox\" size=\"18\" color=\"#64748b\" />\r\n              <text class=\"profile__card-label\">用户协议</text>\r\n            </view>\r\n            <view class=\"profile__card-right\">\r\n              <uni-icons type=\"right\" size=\"16\" color=\"#94a3b8\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"profile__card-row\" @tap=\"openAgreement('privacy')\">\r\n            <view class=\"profile__card-left\">\r\n              <uni-icons type=\"help\" size=\"18\" color=\"#64748b\" />\r\n              <text class=\"profile__card-label\">隐私政策</text>\r\n            </view>\r\n            <view class=\"profile__card-right\">\r\n              <uni-icons type=\"right\" size=\"16\" color=\"#94a3b8\" />\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"safe-area-bottom\" />\r\n    </view>\r\n  </AppLayout>\r\n</template>\r\n\r\n<script setup>\r\n// UTF-8，中文注释\r\nimport { ref } from 'vue'\r\nimport { onShow } from '@dcloudio/uni-app'\r\nimport AppLayout from '@/components/layout/AppLayout.vue'\r\nimport { navTitleStore } from '@/stores/navTitle.js'\r\nimport { request } from '@/utils/request.js'\r\n\r\nconst navTitle = navTitleStore()\r\nconst info = ref({})\r\n\r\nonShow(async () => {\r\n  navTitle.setTitle('关于系统')\r\n  await fetchInfo()\r\n})\r\n\r\nasync function fetchInfo() {\r\n  try {\r\n    const res = await request({ url: '/app/version', method: 'GET' })\r\n    info.value = res || {}\r\n  } catch (e) {\r\n    info.value = {}\r\n  }\r\n}\r\n\r\nfunction openURLSmart(url) {\r\n  if (!url) {\r\n    uni.showToast({ title: '暂无链接', icon: 'none' })\r\n    return\r\n  }\r\n  // H5/Web 直接打开；小程序复制到剪贴板\r\n  // #ifdef H5\r\n  window?.open?.(url, '_blank')\r\n  // #endif\r\n  // #ifdef MP\r\n  uni.setClipboardData({ data: url, success: () => uni.showToast({ title: '已复制链接', icon: 'success' }) })\r\n  // #endif\r\n}\r\n\r\nfunction openNotes() {\r\n  openURLSmart(info.value?.notesUrl)\r\n}\r\n\r\nfunction openAgreement(type) {\r\n  // 若服务端下发协议链接，可从接口扩展字段获取\r\n  const url = (type === 'user') ? info.value?.userAgreementUrl : info.value?.privacyUrl\r\n  openURLSmart(url)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.profile-page { display: flex; flex-direction: column; gap: 24rpx; background-color: #f5f7fa; }\r\n.profile__card { background-color: #ffffff; border-radius: 20rpx; overflow: hidden; }\r\n.profile__card-header { display: flex; align-items: center; gap: 16rpx; padding: 32rpx 32rpx 24rpx; border-bottom: 1rpx solid #f1f5f9; }\r\n.profile__card-title { font-size: 30rpx; font-weight: 600; color: #0f172a; }\r\n.profile__card-content { padding: 0; }\r\n\r\n.about-top { display: flex; align-items: center; gap: 24rpx; padding: 32rpx; }\r\n.about-logo { width: 120rpx; height: 120rpx; border-radius: 20rpx; border: 1rpx solid #f1f5f9; background: #fff; }\r\n.about-title { display: flex; flex-direction: column; gap: 8rpx; }\r\n.about-title .name { font-size: 34rpx; font-weight: 700; color: #0f172a; }\r\n.about-title .ver { font-size: 26rpx; color: #64748b; }\r\n.about-title .time { font-size: 24rpx; color: #94a3b8; }\r\n\r\n.profile__card-row { display: flex; align-items: center; justify-content: space-between; padding: 28rpx 32rpx; border-bottom: 1rpx solid #f8fafc; }\r\n.profile__card-row:last-child { border-bottom: none; }\r\n.profile__card-left { display: flex; align-items: center; gap: 20rpx; flex: 1; }\r\n.profile__card-label { font-size: 28rpx; color: #334155; font-weight: 500; }\r\n.profile__card-right { display: flex; align-items: center; gap: 16rpx; }\r\n\r\n.safe-area-bottom { height: env(safe-area-inset-bottom); min-height: 0rpx; }\r\n</style>\r\n\r\n","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/profile/about.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","ref","onShow","request","uni"],"mappings":";;;;;;;;;;;;;AA8DA,MAAM,YAAY,MAAW;;;;AAI7B,UAAM,WAAWA,gBAAAA,cAAe;AAChC,UAAM,OAAOC,cAAG,IAAC,EAAE;AAEnBC,kBAAAA,OAAO,YAAY;AACjB,eAAS,SAAS,MAAM;AACxB,YAAM,UAAW;AAAA,IACnB,CAAC;AAED,mBAAe,YAAY;AACzB,UAAI;AACF,cAAM,MAAM,MAAMC,sBAAQ,EAAE,KAAK,gBAAgB,QAAQ,OAAO;AAChE,aAAK,QAAQ,OAAO,CAAE;AAAA,MACvB,SAAQ,GAAG;AACV,aAAK,QAAQ,CAAE;AAAA,MAChB;AAAA,IACH;AAEA,aAAS,aAAa,KAAK;AACzB,UAAI,CAAC,KAAK;AACRC,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7C;AAAA,MACD;AAMDA,oBAAAA,MAAI,iBAAiB,EAAE,MAAM,KAAK,SAAS,MAAMA,cAAAA,MAAI,UAAU,EAAE,OAAO,SAAS,MAAM,UAAS,CAAE,EAAC,CAAE;AAAA,IAEvG;AAEA,aAAS,YAAY;;AACnB,oBAAa,UAAK,UAAL,mBAAY,QAAQ;AAAA,IACnC;AAEA,aAAS,cAAc,MAAM;;AAE3B,YAAM,MAAO,SAAS,UAAU,UAAK,UAAL,mBAAY,oBAAmB,UAAK,UAAL,mBAAY;AAC3E,mBAAa,GAAG;AAAA,IAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxGA,GAAG,WAAW,eAAe;"}