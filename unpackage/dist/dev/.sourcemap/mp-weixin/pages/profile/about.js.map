{"version":3,"file":"about.js","sources":["pages/profile/about.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9hYm91dC52dWU"],"sourcesContent":["<!-- 关于系统页面（UTF-8，中文注释） -->\n<template>\n  <AppLayout current=\"pages/profile/about\">\n    <view class=\"profile-page\">\n      <!-- 顶部信息卡片 -->\n      <view class=\"profile__card\">\n        <view class=\"about-top\">\n          <image class=\"about-logo\" src=\"/static/logo.png\" mode=\"aspectFit\" />\n          <view class=\"about-title\">\n            <text class=\"name\">{{ info.name || '环保AI系统' }}</text>\n            <text class=\"ver\">v{{ info.version || '-' }} ({{ info.build || '-' }})</text>\n            <text class=\"time\">更新于：{{ info.updatedAt || '-' }}</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- 详情卡片 -->\n      <view class=\"profile__card\">\n        <view class=\"profile__card-header\">\n          <uni-icons type=\"info\" size=\"20\" color=\"#276019\" />\n          <text class=\"profile__card-title\">相关信息</text>\n        </view>\n        <view class=\"profile__card-content\">\n          <view class=\"profile__card-row\" @tap=\"openNotes\">\n            <view class=\"profile__card-left\">\n              <uni-icons type=\"flag\" size=\"18\" color=\"#64748b\" />\n              <text class=\"profile__card-label\">更新日志</text>\n            </view>\n            <view class=\"profile__card-right\">\n              <uni-icons type=\"right\" size=\"16\" color=\"#94a3b8\" />\n            </view>\n          </view>\n          <view class=\"profile__card-row\" @tap=\"openAgreement('user')\">\n            <view class=\"profile__card-left\">\n              <uni-icons type=\"checkbox\" size=\"18\" color=\"#64748b\" />\n              <text class=\"profile__card-label\">用户协议</text>\n            </view>\n            <view class=\"profile__card-right\">\n              <uni-icons type=\"right\" size=\"16\" color=\"#94a3b8\" />\n            </view>\n          </view>\n          <view class=\"profile__card-row\" @tap=\"openAgreement('privacy')\">\n            <view class=\"profile__card-left\">\n              <uni-icons type=\"help\" size=\"18\" color=\"#64748b\" />\n              <text class=\"profile__card-label\">隐私政策</text>\n            </view>\n            <view class=\"profile__card-right\">\n              <uni-icons type=\"right\" size=\"16\" color=\"#94a3b8\" />\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <view class=\"safe-area-bottom\" />\n    </view>\n  </AppLayout>\n</template>\n\n<script setup>\n// UTF-8，中文注释\nimport { ref } from 'vue'\nimport { onShow } from '@dcloudio/uni-app'\nimport AppLayout from '@/components/layout/AppLayout.vue'\nimport { navTitleStore } from '@/stores/navTitle.js'\nimport { request } from '@/utils/request.js'\n\nconst navTitle = navTitleStore()\nconst info = ref({})\n\nonShow(async () => {\n  navTitle.setTitle('关于系统')\n  await fetchInfo()\n})\n\nasync function fetchInfo() {\n  try {\n    const res = await request({ url: '/app/version', method: 'GET' })\n    info.value = res || {}\n  } catch (e) {\n    info.value = {}\n  }\n}\n\nfunction openURLSmart(url) {\n  if (!url) {\n    uni.showToast({ title: '暂无链接', icon: 'none' })\n    return\n  }\n  // H5/Web 直接打开；小程序复制到剪贴板\n  // #ifdef H5\n  window?.open?.(url, '_blank')\n  // #endif\n  // #ifdef MP\n  uni.setClipboardData({ data: url, success: () => uni.showToast({ title: '已复制链接', icon: 'success' }) })\n  // #endif\n}\n\nfunction openNotes() {\n  openURLSmart(info.value?.notesUrl)\n}\n\nfunction openAgreement(type) {\n  // 若服务端下发协议链接，可从接口扩展字段获取\n  const url = (type === 'user') ? info.value?.userAgreementUrl : info.value?.privacyUrl\n  openURLSmart(url)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profile-page { display: flex; flex-direction: column; gap: 24rpx; background-color: #f5f7fa; }\n.profile__card { background-color: #ffffff; border-radius: 20rpx; overflow: hidden; }\n.profile__card-header { display: flex; align-items: center; gap: 16rpx; padding: 32rpx 32rpx 24rpx; border-bottom: 1rpx solid #f1f5f9; }\n.profile__card-title { font-size: 30rpx; font-weight: 600; color: #0f172a; }\n.profile__card-content { padding: 0; }\n\n.about-top { display: flex; align-items: center; gap: 24rpx; padding: 32rpx; }\n.about-logo { width: 120rpx; height: 120rpx; border-radius: 20rpx; border: 1rpx solid #f1f5f9; background: #fff; }\n.about-title { display: flex; flex-direction: column; gap: 8rpx; }\n.about-title .name { font-size: 34rpx; font-weight: 700; color: #0f172a; }\n.about-title .ver { font-size: 26rpx; color: #64748b; }\n.about-title .time { font-size: 24rpx; color: #94a3b8; }\n\n.profile__card-row { display: flex; align-items: center; justify-content: space-between; padding: 28rpx 32rpx; border-bottom: 1rpx solid #f8fafc; }\n.profile__card-row:last-child { border-bottom: none; }\n.profile__card-left { display: flex; align-items: center; gap: 20rpx; flex: 1; }\n.profile__card-label { font-size: 28rpx; color: #334155; font-weight: 500; }\n.profile__card-right { display: flex; align-items: center; gap: 16rpx; }\n\n.safe-area-bottom { height: env(safe-area-inset-bottom); min-height: 0rpx; }\n</style>\n\n","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/profile/about.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","ref","onShow","request","uni"],"mappings":";;;;;;;;;;;;;AA8DA,MAAM,YAAY,MAAW;;;;AAI7B,UAAM,WAAWA,gBAAAA,cAAe;AAChC,UAAM,OAAOC,cAAG,IAAC,EAAE;AAEnBC,kBAAAA,OAAO,YAAY;AACjB,eAAS,SAAS,MAAM;AACxB,YAAM,UAAW;AAAA,IACnB,CAAC;AAED,mBAAe,YAAY;AACzB,UAAI;AACF,cAAM,MAAM,MAAMC,sBAAQ,EAAE,KAAK,gBAAgB,QAAQ,OAAO;AAChE,aAAK,QAAQ,OAAO,CAAE;AAAA,MACvB,SAAQ,GAAG;AACV,aAAK,QAAQ,CAAE;AAAA,MAChB;AAAA,IACH;AAEA,aAAS,aAAa,KAAK;AACzB,UAAI,CAAC,KAAK;AACRC,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAC7C;AAAA,MACD;AAMDA,oBAAAA,MAAI,iBAAiB,EAAE,MAAM,KAAK,SAAS,MAAMA,cAAAA,MAAI,UAAU,EAAE,OAAO,SAAS,MAAM,UAAS,CAAE,EAAC,CAAE;AAAA,IAEvG;AAEA,aAAS,YAAY;;AACnB,oBAAa,UAAK,UAAL,mBAAY,QAAQ;AAAA,IACnC;AAEA,aAAS,cAAc,MAAM;;AAE3B,YAAM,MAAO,SAAS,UAAU,UAAK,UAAL,mBAAY,oBAAmB,UAAK,UAAL,mBAAY;AAC3E,mBAAa,GAAG;AAAA,IAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxGA,GAAG,WAAW,eAAe;"}