{"version":3,"file":"index.js","sources":["pages/reports/acceptance/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVwb3J0cy9hY2NlcHRhbmNlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<app-layout current=\"pages/reports/acceptance/index\">\n\t\t<view class=\"acceptance-page\">\n\t\t\t<!-- æ­¥éª¤å¯¼èˆª -->\n\t\t\t<view class=\"acceptance-steps\">\n\t\t\t\t<view class=\"steps-container\">\n\t\t\t\t\t<template v-if=\"isMobile\">\n\t\t\t\t\t\t<uni-data-select v-model=\"currentStep\" :localdata=\"stepSelectOptions\" placeholder=\"é€‰æ‹©æ­¥éª¤\"\n\t\t\t\t\t\t\tclass=\"mobile-step-select\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<view class=\"desktop-steps\" role=\"tablist\">\n\t\t\t\t\t\t\t<view v-for=\"(step, index) in stepNames\" :key=\"index\" class=\"step-item\" :class=\"{\n                  'step-item--active': currentStep === index,\n                  'step-item--completed': stepDone(index)\n                }\" role=\"tab\" :aria-selected=\"currentStep === index\" @tap=\"currentStep = index\">\n\t\t\t\t\t\t\t\t<view class=\"step-indicator\">\n\t\t\t\t\t\t\t\t\t<text v-if=\"stepDone(index)\" class=\"step-check\">âœ“</text>\n\t\t\t\t\t\t\t\t\t<text v-else class=\"step-number\">{{ index + 1 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"step-label\">{{ step }}</text>\n\t\t\t\t\t\t\t\t<view v-if=\"index < stepNames.length - 1\" class=\"step-connector\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->\n\t\t\t<view class=\"acceptance-content\">\n\t\t\t\t<scroll-view class=\"content-scroll\" scroll-y>\n\t\t\t\t\t<!-- æ­¥éª¤1: é€‰æ‹©é¡¹ç›® -->\n\t\t\t\t\t<view v-show=\"currentStep === 0\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"folder-add\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">é€‰æ‹©é¡¹ç›®</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<!-- é¡¹ç›®é€‰æ‹© -->\n\t\t\t\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t\t\t\t<text class=\"form-label\">è¯·é€‰æ‹©è¦è¿›è¡Œç«£å·¥éªŒæ”¶çš„é¡¹ç›®</text>\n\t\t\t\t\t\t\t\t\t<text class=\"form-tip\">é¡¹ç›®æ–‡ä»¶å·²åœ¨é¡¹ç›®ç®¡ç†æ¨¡å—ä¸Šä¼ å¹¶è‡ªåŠ¨å¤„ç†</text>\n\n\t\t\t\t\t\t\t\t\t<!-- è‡ªå®šä¹‰é¡¹ç›®é€‰æ‹©å™¨è§¦å‘æŒ‰é’® -->\n\t\t\t\t\t\t\t\t\t<view class=\"project-selector\" @tap=\"openProjectPicker\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"selector-content\">\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectedProject\" class=\"selected-project\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"folder\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"project-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"project-name\">{{ selectedProject.name }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"selectedProject.description\" class=\"project-desc\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ selectedProject.description }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view v-else class=\"placeholder\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"folder-add\" size=\"20\" color=\"#9ca3af\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"placeholder-text\">è¯·é€‰æ‹©é¡¹ç›®</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"down\" size=\"16\" color=\"#6b7280\" />\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- é¡¹ç›®æ–‡ä»¶åˆ—è¡¨ï¼ˆåªè¯»ï¼‰ -->\n\t\t\t\t\t\t\t\t<view v-if=\"selectedProjectId && projectFiles.length > 0\" class=\"subsection\">\n\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"paperclip\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">é¡¹ç›®æ–‡ä»¶åˆ—è¡¨ï¼ˆ{{ projectFiles.length }} ä¸ªæ–‡ä»¶ï¼‰</text>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"file-list\">\n\t\t\t\t\t\t\t\t\t\t<view v-for=\"file in projectFiles\" :key=\"file.document_id\" class=\"file-item\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"file-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons :type=\"getFileIcon(file.file_extension)\" size=\"20\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"file-details\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"file-name\">{{ file.filename }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"file-meta\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ formatFileSize(file.size_bytes) }} Â·\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ formatFileStatus(file.status) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"file-status\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"status-badge\" :class=\"getStatusClass(file.status)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ getStatusText(file.status) }}\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- ç©ºçŠ¶æ€æç¤º -->\n\t\t\t\t\t\t\t\t<view v-else-if=\"selectedProjectId && projectFiles.length === 0\" class=\"empty-state\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"folder-add\" size=\"48\" color=\"#cbd5e1\" />\n\t\t\t\t\t\t\t\t\t<text class=\"empty-text\">è¯¥é¡¹ç›®æš‚æ— æ–‡ä»¶</text>\n\t\t\t\t\t\t\t\t\t<text class=\"empty-tip\">è¯·å…ˆåœ¨é¡¹ç›®ç®¡ç†æ¨¡å—ä¸Šä¼ æ–‡ä»¶</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"action-row\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"simulateExtract\"\n\t\t\t\t\t\t\t\t\t\t:disabled=\"!selectedProjectId || projectFiles.length === 0\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"search\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t<text>æå–é¡¹ç›®åŸºæœ¬ä¿¡æ¯</text>\n\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t<!-- æ¸…é™¤ç¼“å­˜æŒ‰é’®ï¼ˆåªåœ¨æœ‰ç¼“å­˜æ•°æ®æ—¶æ˜¾ç¤ºï¼‰ -->\n\t\t\t\t\t\t\t\t\t<button v-if=\"baseTable.length > 0\" class=\"btn btn--ghost\" @tap=\"clearProjectCache\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#dc2626\" />\n\t\t\t\t\t\t\t\t\t\t<text>æ¸…é™¤ç¼“å­˜</text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- é¡¹ç›®ä¿¡æ¯è¡¨å’Œæ ‡è¯†ç‰Œä¿¡æ¯ -->\n\t\t\t\t\t\t\t\t<view v-if=\"baseTable.length\" class=\"subsection\">\n\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">é¡¹ç›®ä¿¡æ¯è¡¨</text>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"openAddBase\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>æ–°å¢</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t<button v-if=\"selectMode\" class=\"btn btn--danger\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!selectedIds.length\" @tap=\"removeSelected\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>åˆ é™¤é€‰ä¸­ï¼ˆ{{ selectedIds.length }}ï¼‰</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"toggleSelectMode\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons :type=\"selectMode ? 'clear' : 'checkbox'\" size=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#155e3b\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>{{ selectMode ? 'å–æ¶ˆ' : 'é€‰æ‹©åˆ é™¤' }}</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<!-- é¡¹ç›®ä¿¡æ¯è¡¨ -->\n\t\t\t\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(item, idx) in baseTable\" :key=\"item.id\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- æ±¡æŸ“ç‰©è¡¨æ ¼ç‰¹æ®Šæ¸²æŸ“ -->\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.id === 'pollutants_emission' && item.type === 'table'\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"pollutants-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants_baseinfo_row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"form-item__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.label }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.source === 'extracted'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"extract-tag\">å·²æå–</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- æ±¡æŸ“ç‰©è¡¨æ ¼ -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-table\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- è¡¨æ ¼å¤´éƒ¨ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">æ±¡æŸ“ç‰©ç±»å‹</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">äº§ç”Ÿæ—¶é—´</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">æ±¡æŸ“ç‰©åç§°</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">æ±¡æŸ“å› å­</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">æ±¡æŸ“æ²»ç†æªæ–½\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">æ’æ”¾å»å‘\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">æ‰§è¡Œæ ‡å‡†\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- è¡¨æ ¼å†…å®¹ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- æ°´æ±¡æŸ“ç‰© -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.æ°´æ±¡æŸ“ç‰© && item.value.æ°´æ±¡æŸ“ç‰©.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(water, index) in item.value.æ°´æ±¡æŸ“ç‰©\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'water-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">æ°´æ±¡æŸ“ç‰©\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.äº§ç”Ÿç¯èŠ‚ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.æ±¡æŸ“ç‰©åç§° || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.æ±¡æŸ“å› å­ || 'æœªæå–åˆ°æ±¡æŸ“å› å­' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.æ±¡æŸ“æ²»ç†æªæ–½ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.æ’æ”¾å»å‘ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.æ‰§è¡Œæ ‡å‡† || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- å¤§æ°”æ±¡æŸ“ç‰© -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.å¤§æ°”æ±¡æŸ“ç‰© && item.value.å¤§æ°”æ±¡æŸ“ç‰©.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(air, index) in item.value.å¤§æ°”æ±¡æŸ“ç‰©\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'air-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">å¤§æ°”æ±¡æŸ“ç‰©\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.äº§ç”Ÿç¯èŠ‚ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.æ±¡æŸ“ç‰©åç§° || 'æœªæå–åˆ°æ±¡æŸ“ç‰©åç§°' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.æ±¡æŸ“å› å­ || 'æœªæå–åˆ°æ±¡æŸ“å› å­' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.æ±¡æŸ“æ²»ç†æªæ–½ || 'æœªæå–åˆ°æ±¡æŸ“æ²»ç†æªæ–½' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.æ’æ”¾å»å‘ || 'å¤§æ°”ç¯å¢ƒ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.æ‰§è¡Œæ ‡å‡† || 'æœªæå–åˆ°æ‰§è¡Œæ ‡å‡†' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- å™ªå£° -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.å™ªå£° && item.value.å™ªå£°.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(noise, index) in item.value.å™ªå£°\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'noise-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">å™ªå£°</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.äº§ç”Ÿç¯èŠ‚ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.æ±¡æŸ“ç‰©åç§° || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.æ±¡æŸ“å› å­ || 'æœªæå–åˆ°æ±¡æŸ“å› å­' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.æ±¡æŸ“æ²»ç†æªæ–½ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.æ’æ”¾å»å‘ || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.æ‰§è¡Œæ ‡å‡† || 'æœªæå–åˆ°ç›¸å…³ä¿¡æ¯' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- é€‰æ‹©æ¨¡å¼ä¸‹çš„å¤é€‰æ¡† -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectMode\" class=\"pollutants-select\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"selectedIds.includes(item.id)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => toggleSelected(item.id)\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t<!-- åºŸç‰©è¡¨æ ¼ï¼ˆå›ºåºŸ + å±åºŸï¼‰-->\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.id === 'pollutants_emission' && item.type === 'table'\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"pollutants-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants_baseinfo_row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"form-item__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tå›ºä½“åºŸç‰©äº§ç”Ÿæƒ…å†µ\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.source === 'extracted'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"extract-tag\">å·²æå–</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- å±åºŸæ±¡æŸ“ç‰©è¡¨æ ¼ -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-table\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- è¡¨æ ¼å¤´éƒ¨ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">åºŸç‰©ç±»å‹</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">äº§ç”Ÿæ—¶é—´</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">åºŸç‰©æ¥æº</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">åºŸç‰©åç§°</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">å±é™©ç‰¹æ€§\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">å±é™©åºŸç‰©ç±»åˆ«\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">æ±¡æŸ“æ²»ç†æªæ–½\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- è¡¨æ ¼å†…å®¹ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- å›ºä½“åºŸç‰© -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.å›ºä½“åºŸç‰© && item.value.å›ºä½“åºŸç‰©.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(solid, index) in item.value.å›ºä½“åºŸç‰©\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'solid-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">å›ºä½“åºŸç‰©\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.äº§ç”Ÿç¯èŠ‚ || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.åºŸç‰©æ¥æº || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.åºŸç‰©åç§° || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.å±é™©ç‰¹æ€§ || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.å±é™©åºŸç‰©ç±»åˆ« || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.æ±¡æŸ“æ²»ç†æªæ–½ || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- å±é™©åºŸç‰© -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.å±é™©åºŸç‰© && item.value.å±é™©åºŸç‰©.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(solid, index) in item.value.å±é™©åºŸç‰©\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'hazard-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">å±é™©åºŸç‰©\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.value.å±é™©åºŸç‰©.äº§ç”Ÿç¯èŠ‚ || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.åºŸç‰©æ¥æº || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.åºŸç‰©åç§° || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.å±é™©ç‰¹æ€§ || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.å±é™©åºŸç‰©ç±»åˆ« || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ solid.æ±¡æŸ“æ²»ç†æªæ–½ || 'æ— ' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- é€‰æ‹©æ¨¡å¼ä¸‹çš„å¤é€‰æ¡† -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectMode\" class=\"pollutants-select\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"selectedIds.includes(item.id)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => toggleSelected(item.id)\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t<!-- é™¤æ±¡æŸ“ç‰©å¤–åŸºæœ¬ä¿¡æ¯ -->\n\t\t\t\t\t\t\t\t\t\t\t<view v-else class=\"baseinfo__row\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"form-item__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.label }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--  å¦‚æœæ˜¯æå–çš„æ•°æ®ï¼Œæ˜¾ç¤ºç»¿è‰²å°æ ‡ç­¾ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.source === 'extracted'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"extract-tag\">å·²æå–</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"form-item__input\" v-model=\"item.value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"è¯·è¾“å…¥å…·ä½“çš„å€¼\" :clearable=\"true\" />\n\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectMode\" class=\"form-item__select\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"selectedIds.includes(item.id)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => toggleSelected(item.id)\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<!-- æ ‡è¯†ç‰Œä¿¡æ¯ç”Ÿæˆ -->\n\t\t\t\t\t\t\t\t\t<view class=\"subsection\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#fb923c\" />\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">æ’æ±¡æ ‡è¯†ç‰Œï¼ˆä¸‹è½½ä¸ä¸šä¸»ç¡®è®¤æ’æ±¡å£ä¿¡æ¯ï¼‰</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => { generateSignboard(); showSignboard = true }\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"eye-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>æ ‡è¯†ç‰Œä¿¡æ¯</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"showSignboard\" class=\"btn btn--primary\" @tap=\"downBiaoShi\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"download-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>ä¸‹è½½</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"showSignboard\" class=\"btn btn--primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"currentStep = 1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"redo-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>ç”Ÿæˆç›‘æµ‹æ–¹æ¡ˆ</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t<!-- æ ‡è¯†ç‰Œä¿¡æ¯åˆ—è¡¨ -->\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"showSignboard\" class=\"data-table\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-for=\"(sec, si) in signboard.sections\" :key=\"'s'+si\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row table-row--simple\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-td table-td--section\">{{ sec.block }}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- åªæœ‰å™ªå£°æ‰å¯ä»¥æ–°å¢ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"sec.block == 'å™ªå£°'\" class=\"pw-ico icon-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => addSignItem(si)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>æ–°å¢</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- æŒ‰ç»„æ¸²æŸ“ï¼Œæ¯ç»„ 3 æ¡ï¼Œé™¤äº†å±åºŸä»¥å¤– -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(group, gi) in groupItems(sec.items, sec.block)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'g'+si+'-'+gi\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- æ™®é€š 3 æ¡ -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(it, ii) in group\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'r'+si+'-'+gi+'-'+ii\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"it.title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"å†…å®¹æ ‡é¢˜\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"it.content\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"è¯·è¾“å…¥å…·ä½“çš„å€¼\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- åˆ é™¤æŒ‰é’®ï¼šåªæœ‰ã€Œéå±é™©åºŸç‰©ã€æ‰æ˜¾ç¤º -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"sec.block !== 'å±é™©åºŸç‰©'\" class=\"form-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"justify-content:flex-end;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn icon-btn--danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => removeGroup(sec, gi)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#d92d20\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- æ­¥éª¤1: ç›‘æµ‹æ–¹æ¡ˆ -->\n\t\t\t\t\t<view v-show=\"currentStep === 1\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"eye\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">ç›‘æµ‹æ–¹æ¡ˆ</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<view class=\"empty-state\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"eye\" size=\"48\" color=\"#cbd5e1\" />\n\t\t\t\t\t\t\t\t\t<text class=\"empty-text\">AIå¸®æ‚¨åˆ¶å®šç›‘æµ‹æ–¹æ¡ˆ</text>\n\t\t\t\t\t\t\t\t\t<text class=\"empty-tip\">è¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ä¸ºæ‚¨ç”Ÿæˆæ™ºèƒ½æ£€æµ‹æ–¹æ¡ˆ</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"action-row\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"saveMonitorPlan\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"refresh-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t<text>ç”Ÿæˆç›‘æµ‹æ–¹æ¡ˆ</text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<!-- ç”Ÿæˆåå¯ç‚¹ -->\n\t\t\t\t\t\t\t\t\t<button v-if=\"canDownload\" class=\"btn btn--primary\" @tap=\"downloadPlan\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-download-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t<text>ä¸‹è½½ç›‘æµ‹æ–¹æ¡ˆ</text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view v-if=\"plan\" class=\"paln-preview\">\n\t\t\t\t\t\t\t\t\t<view class=\"preview-header\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"checkmark-circle\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"preview-title\">ç¯ä¿éªŒæ”¶ç›‘æµ‹æ–¹æ¡ˆå·²ä¸ºæ‚¨å·²ç”Ÿæˆï¼Œè¯·ç‚¹å‡»ä¸‹è½½ï¼</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"preview-content\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"preview-text\">ç¯ä¿éªŒæ”¶ç›‘æµ‹æ–¹æ¡ˆå·²ç”Ÿæˆï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</text>\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-sections\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ é¡¹ç›®åŸºæœ¬æƒ…å†µ</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ ç¯ä¿è®¾æ–½å»ºè®¾æƒ…å†µ</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ æ±¡æŸ“ç‰©è¯¦ç»†æƒ…å†µ</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ æ–¹æ¡ˆå·²ç”Ÿæˆï¼Œè¯·ç‚¹å‡»ä¸‹è½½</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\n\t\t\t\t\t<!-- æ­¥éª¤2: æèµ„å•æ¯”å¯¹ -->\n\t\t\t\t\t<view v-show=\"currentStep === 2\" class=\"content-section\">\n\t\t\t\t\t\t<!-- ç¯ä¿èµ„æ–™æäº¤ç®¡ç†ç³»ç»Ÿç•Œé¢ -->\n\t\t\t\t\t\t<view class=\"tizidan-container\">\n\t\t\t\t\t\t\t<view class=\"tizidan-header\">\n\t\t\t\t\t\t\t\t<text class=\"tizidan-title\">ç¯ä¿èµ„æ–™æäº¤ç®¡ç†ç³»ç»Ÿ</text>\n\t\t\t\t\t\t\t\t<text class=\"tizidan-subtitle\">è¯·æŒ‰è¦æ±‚æäº¤ç›¸å…³ç¯ä¿èµ„æ–™</text>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- åŠ è½½å¤±è´¥æç¤º -->\n\t\t\t\t\t\t\t<view v-if=\"tizidanItems.length === 0\" class=\"empty-state\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"refresh\" size=\"48\" color=\"#cbd5e1\" />\n\t\t\t\t\t\t\t\t<text class=\"empty-text\">åŠ è½½å¤±è´¥ï¼Œè¯·é‡æ–°åˆ·æ–°ï¼</text>\n\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"fetchTizidanData\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"refresh\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t<text>é‡æ–°åŠ è½½</text>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- æ­£å¸¸å†…å®¹ -->\n\t\t\t\t\t\t\t<view v-else class=\"tizidan-content\">\n\t\t\t\t\t\t\t\t<view v-for=\"(item, index) in tizidanItems\" :key=\"index\" class=\"tizidan-item-card\">\n\t\t\t\t\t\t\t\t\t<view class=\"tizidan-item-content\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"tizidan-item-number\">{{ index + 1 }}.</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"tizidan-item-text\">{{ item.text }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"tizidan-item-status\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"tizidan-status-text\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"item.submitted ? 'tizidan-submitted' : 'tizidan-unsubmitted'\">\n\t\t\t\t\t\t\t\t\t\t\t{{ item.submitted ? 'å·²æäº¤' : 'æœªæäº¤' }}\n\t\t\t\t\t\t\t\t\t\t</text>\n\n\t\t\t\t\t\t\t\t\t\t<!-- ä¿®æ”¹éƒ¨åˆ†ï¼šæèµ„å•æäº¤æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ -->\n\t\t\t\t\t\t\t\t\t\t<!-- æ‰¾åˆ°æäº¤æŒ‰é’®ï¼Œä¿®æ”¹ @click äº‹ä»¶ -->\n\t\t\t\t\t\t\t\t\t\t<button v-if=\"!item.submitted\" class=\"tizidan-submit-btn\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"uploadTizidanFile(index)\">\n\t\t\t\t\t\t\t\t\t\t\tæäº¤\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t<button v-if=\"item.submitted\" class=\"tizidan-submit-btn_update\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"uploadTizidanFile(index)\">\n\t\t\t\t\t\t\t\t\t\t\té‡æ–°æäº¤\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<view class=\"tizidan-footer\">\n\t\t\t\t\t\t\t\t<text class=\"tizidan-footer-text\">è¯·ç¡®ä¿æ‰€æœ‰èµ„æ–™å®Œæ•´å‡†ç¡®</text>\n\t\t\t\t\t\t\t\t<!-- ç§»é™¤\"ä¸‹è½½å»ºè®¾å†…å®¹è¯¦ç»†å¯¹æ¯”æ¸…å•\"æŒ‰é’®ï¼Œå°†\"ä¸‹è½½éªŒæ”¶æŠ¥å‘Šæèµ„å•\"æŒ‰é’®ç§»åˆ°è¿™é‡Œ -->\n\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"downloadTizidanFile\"\n\t\t\t\t\t\t\t\t\t:disabled=\"!selectedProjectId\">\n\t\t\t\t\t\t\t\t\tä¸‹è½½éªŒæ”¶æŠ¥å‘Šæèµ„å•\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- æ­¥éª¤3: ç°åœºè¸å‹˜æ¯”å¯¹ -->\n\t\t\t\t\t<view v-show=\"currentStep === 3\" class=\"content-section\">\n\t\t\t\t\t\t<FieldSurveyContainer \n\t\t\t\t\t\t\t:userId=\"user_id\" \n\t\t\t\t\t\t\t:projectId=\"project_id\" \n\t\t\t\t\t\t\t:signboard=\"signboard\"\n\t\t\t\t\t\t\t:baseTable=\"baseTable\" \n\t\t\t\t\t\t\t:datasheet=\"datasheet\"\n\t\t\t\t\t\t\t@generate-signboard=\"generateSignboard\" \n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- æ­¥éª¤4: ç«£å·¥éªŒæ”¶æŠ¥å‘Š -->\n\t\t\t\t\t<view v-show=\"currentStep === 4\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">ç«£å·¥éªŒæ”¶æŠ¥å‘Š</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<view class=\"report-generation\">\n\t\t\t\t\t\t\t\t\t<view class=\"generation-options\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"option-group\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"option-label\">è¯·é€‰æ‹©è¦ç”Ÿæˆçš„æŠ¥å‘Šç±»å‹</text>\n\t\t\t\t\t\t\t\t\t\t\t<radio-group class=\"radio-group\" @change=\"onReportTypeChange\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"radio-item\" v-for=\"type in reportTypes\" :key=\"type.value\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<radio :value=\"type.value\" :checked=\"reportType === type.value\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"radio-text\">{{ type.text }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</radio-group>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"option-group\" v-if=\"reportType === 'withData'\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"option-label\"> ä¸Šä¼ ç›‘æµ‹æŠ¥å‘Š</text>\n\t\t\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"testReportFiles\" fileMediatype=\"all\"\n\t\t\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\" :limit=\"3\">\n\t\t\t\t\t\t\t\t\t\t\t</uni-file-picker>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"generation-actions\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"generateAcceptanceReport\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"refresh-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>ç”ŸæˆéªŒæ”¶æŠ¥å‘Š</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<!-- ç”Ÿæˆåå¯ç‚¹ -->\n\t\t\t\t\t\t\t\t\t\t<button v-if=\"canDownloadReport\" class=\"btn btn--primary\"\n\t\t\t\t\t\t\t\t\t\t\t@tap=\"downAcceptanceReport\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-download-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>ä¸‹è½½ç«£å·¥éªŒæ”¶æŠ¥å‘Š</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view v-if=\"reportGenerated\" class=\"report-preview\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-header\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"checkmarkempty\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"preview-title\">{{previewTitle}}</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-content\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"preview-text\">ç«£å·¥éªŒæ”¶æŠ¥å‘Šå·²ç”Ÿæˆï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</text>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"preview-sections\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ é¡¹ç›®åŸºæœ¬æƒ…å†µ</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ ç¯ä¿è®¾æ–½å»ºè®¾æƒ…å†µ</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ ç›‘æµ‹ç»“æœåˆ†æ</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">â€¢ éªŒæ”¶ç»“è®º</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"reportType === 'withData'\" class=\"section-item\">â€¢\n\t\t\t\t\t\t\t\t\t\t\t\t\tæ£€æµ‹æ•°æ®é™„ä»¶</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\n\t\t\t<!-- åº•éƒ¨å¯¼èˆª -->\n\t\t\t<view class=\"acceptance-navigation\">\n\t\t\t\t<view class=\"nav-buttons\">\n\t\t\t\t\t<button class=\"btn btn--ghost\" :disabled=\"currentStep === 0\" @tap=\"prevStep\">\n\t\t\t\t\t\t<uni-icons type=\"left\" size=\"16\" color=\"#5b6b7b\" />\n\t\t\t\t\t\t<text>ä¸Šä¸€æ­¥</text>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"btn btn--primary\" :disabled=\"currentStep === stepNames.length - 1\" @tap=\"nextStep\">\n\t\t\t\t\t\t<text>ä¸‹ä¸€æ­¥</text>\n\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</app-layout>\n\n\t<!-- æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯å¼¹çª— -->\n\t<uni-popup ref=\"newBaseInfoPopup\" type=\"center\">\n\t\t<view class=\"modal\">\n\t\t\t<view class=\"modal-header\">\n\t\t\t\t<text class=\"modal-title\">æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯</text>\n\t\t\t</view>\n\t\t\t<view class=\"modal-body\">\n\t\t\t\t<text class=\"modal-description\">è¯·åœ¨ä¸‹æ–¹è¾“å…¥ä¿¡æ¯åç§°</text>\n\t\t\t\t<uni-easyinput v-model=\"newBaseInfoLabel\" placeholder=\"å¦‚ï¼šé¡¹ç›®åç§°/å•ä½åç§°\" />\n\t\t\t</view>\n\t\t\t<view class=\"modal-actions\">\n\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"closeBaseInfo\">å–æ¶ˆ</button>\n\t\t\t\t<button class=\"btn btn--primary\" @tap=\"confirmAddBaseInfo\">ç¡®å®š</button>\n\t\t\t</view>\n\t\t</view>\n\t</uni-popup>\n\n\t<!-- ä»»åŠ¡è¿›åº¦å¼¹çª— -->\n\t<TaskProgressModal ref=\"taskProgressModal\" :title=\"taskProgressTitle\" :progress=\"taskProgress\"\n\t\t:statusText=\"taskStatusText\" :state=\"taskState\" :cancelable=\"false\" />\n\n\t<!-- é¡¹ç›®é€‰æ‹©å¼¹çª— -->\n\t<uni-popup ref=\"projectPickerPopup\" type=\"center\" :mask-click=\"true\">\n\t\t<view class=\"project-picker-modal\">\n\t\t\t<view class=\"picker-header\">\n\t\t\t\t<text class=\"picker-title\">é€‰æ‹©é¡¹ç›®</text>\n\t\t\t\t<view class=\"picker-close\" @tap=\"closeProjectPicker\">\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#6b7280\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- æœç´¢æ¡† -->\n\t\t\t<view class=\"picker-search\">\n\t\t\t\t<uni-easyinput v-model=\"projectSearchKeyword\" placeholder=\"æœç´¢é¡¹ç›®åç§°...\" prefixIcon=\"search\"\n\t\t\t\t\t:clearable=\"true\" @input=\"onSearchInput\" />\n\t\t\t</view>\n\n\t\t\t<!-- é¡¹ç›®ç»Ÿè®¡ -->\n\t\t\t<view class=\"picker-stats\">\n\t\t\t\t<text class=\"stats-text\">\n\t\t\t\t\tå…± {{ filteredProjects.length }} ä¸ªé¡¹ç›®\n\t\t\t\t\t<text v-if=\"projectSearchKeyword\" class=\"stats-highlight\">\n\t\t\t\t\t\tï¼ˆæœç´¢ç»“æœï¼‰\n\t\t\t\t\t</text>\n\t\t\t\t</text>\n\t\t\t</view>\n\n\t\t\t<!-- é¡¹ç›®åˆ—è¡¨ -->\n\t\t\t<scroll-view class=\"picker-list\" scroll-y>\n\t\t\t\t<view v-for=\"project in filteredProjects\" :key=\"project.id\" class=\"picker-item\"\n\t\t\t\t\t:class=\"{ 'picker-item--active': selectedProjectId === project.id }\" @tap=\"selectProject(project)\">\n\t\t\t\t\t<view class=\"picker-item-icon\">\n\t\t\t\t\t\t<uni-icons type=\"folder\" size=\"22\"\n\t\t\t\t\t\t\t:color=\"selectedProjectId === project.id ? '#166534' : '#6b7280'\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"picker-item-content\">\n\t\t\t\t\t\t<text class=\"picker-item-name\">{{ project.name }}</text>\n\t\t\t\t\t\t<text v-if=\"project.description\" class=\"picker-item-desc\">\n\t\t\t\t\t\t\t{{ project.description }}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t\t<view v-if=\"project.folder_name\" class=\"picker-item-meta\">\n\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"14\" color=\"#9ca3af\" />\n\t\t\t\t\t\t\t<text class=\"meta-text\">{{ project.folder_name }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"picker-item-action\">\n\t\t\t\t\t\t<view v-if=\"selectedProjectId === project.id\" class=\"selected-badge\">\n\t\t\t\t\t\t\t<uni-icons type=\"checkmarkempty\" size=\"18\" color=\"#ffffff\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<uni-icons v-else type=\"right\" size=\"16\" color=\"#d1d5db\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- ç©ºçŠ¶æ€ -->\n\t\t\t\t<view v-if=\"filteredProjects.length === 0\" class=\"picker-empty\">\n\t\t\t\t\t<uni-icons type=\"search\" size=\"48\" color=\"#cbd5e1\" />\n\t\t\t\t\t<text class=\"picker-empty-text\">\n\t\t\t\t\t\t{{ projectSearchKeyword ? 'æœªæ‰¾åˆ°åŒ¹é…çš„é¡¹ç›®' : 'æš‚æ— é¡¹ç›®' }}\n\t\t\t\t\t</text>\n\t\t\t\t\t<text v-if=\"projectSearchKeyword\" class=\"picker-empty-tip\">\n\t\t\t\t\t\tè¯•è¯•å…¶ä»–å…³é”®è¯æˆ–æ¸…ç©ºæœç´¢\n\t\t\t\t\t</text>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t</uni-popup>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\treactive,\n\t\tcomputed,\n\t\tnextTick,\n\t\twatch,\n\t\tonUnmounted\n\t} from 'vue'\n\timport {\n\t\tusePlatformInfo\n\t} from '@/utils/platform'\n\timport AppLayout from '@/components/layout/AppLayout.vue'\n\timport {\n\t\tonShow,\n\t\tonLoad\n\t} from '@dcloudio/uni-app'\n\timport TaskProgressModal from '@/components/message-pop-up/TaskProgressModal.vue'\n\timport FieldSurveyContainer from '@/components/field-survey/FieldSurveyContainer.vue'\n\timport { useFieldSurveyData } from '@/composables/useFieldSurveyData.js'\n\timport {\n\t\tnavTitleStore\n\t} from '@/stores/navTitle.js'\n\timport {\n\t\trunTask,\n\t\ttransformExtractResult,\n\t\tdownloadSignboardWord,\n\t\tgenerateMonitorPlan,\n\t\tdownloadMonitorPlan,\n\t\tgenerateReport,\n\t\tdownloadReport\n\t} from '@/api/acceptance.js'\n\n\t//æ‰‹æœºç«¯å¤´éƒ¨é¡µé¢æ ‡é¢˜\n\tconst navTitle = navTitleStore()\n\tonShow(() => navTitle.setTitle('ç¯è¯„é¡¹ç›®ç«£å·¥éªŒæ”¶'))\n\n\t//æ‰‹æœºé¡µé¢è§„å®š\n\tconst {\n\t\tisMobile\n\t} = usePlatformInfo()\n\n\t// ä»»åŠ¡è¿›åº¦å¼¹çª—ç›¸å…³çŠ¶æ€\n\tconst taskProgressModal = ref(null)\n\tconst taskProgressTitle = ref('ä¿¡æ¯æå–ä¸­')\n\tconst taskProgress = ref(0)\n\tconst taskStatusText = ref('æ­£åœ¨åˆå§‹åŒ–...')\n\tconst taskState = ref('running')\n\n\n\t// æ¯ä¸ªæ­¥éª¤å®šä¹‰--------------------------\n\t// æ­¥éª¤æ ‡é¢˜\n\tconst stepNames = ['èµ„æ–™ä¸Šä¼ ä¸åŸºæœ¬ä¿¡æ¯', 'ç›‘æµ‹æ–¹æ¡ˆ', 'æèµ„å•æ¯”å¯¹', 'ç°åœºè¸å‹˜æ¯”å¯¹', 'ç«£å·¥éªŒæ”¶æŠ¥å‘Š']\n\n\t// é»˜è®¤ä»ç¬¬ä¸€æ­¥å¼€å§‹(0)\n\tconst currentStep = ref(0)\n\n\t// æ‰‹æœºç«¯æ­¥éª¤é€‰æ‹©\n\tconst stepNamesDisplay = computed(() => stepNames.map((n, i) => stepDone(i) ? (n + ' âœ“') : n))\n\tconst stepSelectOptions = computed(() => stepNames.map((n, i) => ({\n\t\ttext: stepDone(i) ? (n + ' âœ“') : n,\n\t\tvalue: i\n\t})))\n\n\t// æ­¥éª¤æ›´æ”¹æ—¶\n\tfunction onStepChange(e) {\n\t\tconst idx = Number(e?.currentIndex ?? e?.detail?.currentIndex ?? 0);\n\t\tif (!Number.isNaN(idx)) currentStep.value = idx\n\t}\n\n\t// ä¸Šä¸€æ­¥æŒ‰é’®\n\tfunction prevStep() {\n\t\tif (currentStep.value > 0) currentStep.value -= 1\n\t}\n\t// ä¸‹ä¸€æ­¥æŒ‰é’®\n\tfunction nextStep() {\n\t\tif (currentStep.value < stepNames.length - 1) currentStep.value += 1\n\t}\n\n\t// æ­¥éª¤å®Œæˆå€¼\n\tconst extractionOk = ref(false)\n\n\t// æ‰€æœ‰æ­¥éª¤çš„å®Œæˆåº¦\n\tfunction stepDone(i) {\n\t\tswitch (i) {\n\t\t\tcase 0:\n\t\t\t\treturn extractionOk.value;\n\t\t\tcase 1:\n\t\t\t\treturn datasheet.value.length > 0;\n\t\t\tcase 2:\n\t\t\t\treturn tizidanItems.value.some(item => item.submitted);\n\t\t\tcase 3:\n\t\t\t\treturn fieldSurveyData.fieldworkComparison.value.length > 0;\n\t\t\tcase 4:\n\t\t\t\treturn reportGenerated.value;\n\t\t\tdefault:\n\t\t\t\treturn false\n\t\t}\n\t}\n\n\t// ä»¥ä¸‹æå–é¡¹ç›®åŸºæœ¬ä¿¡æ¯æ¨¡å—çš„æ–¹æ³•-------------------------\n\n\t// é¡¹ç›®é€‰æ‹©ç›¸å…³\n\tconst selectedProjectId = ref(null) // é€‰ä¸­çš„é¡¹ç›®ID\n\tconst selectedProject = ref(null) // é€‰ä¸­çš„é¡¹ç›®å¯¹è±¡\n\tconst projectList = ref([]) // å®Œæ•´é¡¹ç›®åˆ—è¡¨\n\tconst projectFiles = ref([]) // é¡¹ç›®æ–‡ä»¶åˆ—è¡¨\n\tconst projectSearchKeyword = ref('') // æœç´¢å…³é”®è¯\n\tconst projectPickerPopup = ref(null) // å¼¹çª—å¼•ç”¨\n\n\t// æ–‡ä»¶çŠ¶æ€è½®è¯¢ç›¸å…³\n\tconst pollingTimer = ref(null) // è½®è¯¢å®šæ—¶å™¨\n\tconst isPolling = ref(false) // æ˜¯å¦æ­£åœ¨è½®è¯¢\n\tconst pollingCount = ref(0) // è½®è¯¢æ¬¡æ•°\n\tconst MAX_POLLING_COUNT = 100 // æœ€å¤šè½®è¯¢100æ¬¡ï¼ˆçº¦5åˆ†é’Ÿï¼‰\n\tconst POLLING_INTERVAL = 3000 // è½®è¯¢é—´éš”ï¼ˆ3ç§’ï¼‰\n\n\t// è¿‡æ»¤åçš„é¡¹ç›®åˆ—è¡¨ï¼ˆæ ¹æ®æœç´¢å…³é”®è¯ï¼‰\n\tconst filteredProjects = computed(() => {\n\t\tif (!projectSearchKeyword.value) {\n\t\t\treturn projectList.value\n\t\t}\n\t\tconst keyword = projectSearchKeyword.value.toLowerCase().trim()\n\t\treturn projectList.value.filter(project => {\n\t\t\tconst name = (project.name || '').toLowerCase()\n\t\t\tconst desc = (project.description || '').toLowerCase()\n\t\t\tconst folder = (project.folder_name || '').toLowerCase()\n\t\t\treturn name.includes(keyword) || desc.includes(keyword) || folder.includes(keyword)\n\t\t})\n\t})\n\n\t// æ‰“å¼€é¡¹ç›®é€‰æ‹©å™¨å¼¹çª—\n\tfunction openProjectPicker() {\n\t\tif (projectList.value.length === 0) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'æš‚æ— é¡¹ç›®ï¼Œè¯·å…ˆåˆ›å»ºé¡¹ç›®',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tprojectSearchKeyword.value = '' // æ¸…ç©ºæœç´¢\n\t\tprojectPickerPopup.value?.open()\n\t}\n\n\t// å…³é—­é¡¹ç›®é€‰æ‹©å™¨å¼¹çª—\n\tfunction closeProjectPicker() {\n\t\tprojectPickerPopup.value?.close()\n\t}\n\n\t// é€‰æ‹©é¡¹ç›®\n\tasync function selectProject(project) {\n\t\tselectedProjectId.value = project.id\n\t\tselectedProject.value = project\n\n\t\t// ä¿å­˜åˆ° uni.setStorageSyncï¼Œè·¨å¹³å°å…¼å®¹\n\t\ttry {\n\t\t\tuni.setStorageSync('acceptance_project_id', project.id)\n\t\t\tuni.setStorageSync('acceptance_project_info', JSON.stringify({\n\t\t\t\tid: project.id,\n\t\t\t\tname: project.name,\n\t\t\t\tdescription: project.description,\n\t\t\t\tfolder_name: project.folder_name\n\t\t\t}))\n\t\t} catch (e) {\n\t\t\tconsole.warn('âš ï¸ ä¿å­˜é¡¹ç›®é€‰æ‹©å¤±è´¥:', e)\n\t\t}\n\n\t\t// å…³é—­å¼¹çª—\n\t\tcloseProjectPicker()\n\n\t\t// åœæ­¢ä¹‹å‰çš„è½®è¯¢ï¼ˆå¦‚æœæœ‰ï¼‰\n\t\tstopPolling()\n\n\t\t// åŠ è½½é¡¹ç›®æ–‡ä»¶åˆ—è¡¨\n\t\tawait loadProjectFiles(project.id)\n\n\t\t// åŠ è½½å®Œæˆåï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦å¯åŠ¨è½®è¯¢\n\t\tstartPollingFileStatus(project.id)\n\n\t\t// åŠ è½½è¯¥é¡¹ç›®çš„ç¼“å­˜æ•°æ®\n\t\tloadProjectCache(project.id)\n\n\t\t// æ˜¾ç¤ºæˆåŠŸæç¤º\n\t\tuni.showToast({\n\t\t\ttitle: `å·²é€‰æ‹©ï¼š${project.name}`,\n\t\t\ticon: 'success',\n\t\t\tduration: 1500\n\t\t})\n\t}\n\n\t// æœç´¢è¾“å…¥å¤„ç†\n\tfunction onSearchInput(e) {\n\t\t// å®æ—¶æœç´¢ï¼Œæ— éœ€é¢å¤–å¤„ç†\n\t\tconsole.log('æœç´¢å…³é”®è¯:', projectSearchKeyword.value)\n\t}\n\n\t// ========== æ–‡ä»¶çŠ¶æ€è½®è¯¢åŠŸèƒ½ ==========\n\n\t// æ£€æŸ¥æ˜¯å¦æœ‰æ–‡ä»¶æ­£åœ¨å¤„ç†\n\tfunction hasProcessingFiles() {\n\t\treturn projectFiles.value.some(file =>\n\t\t\t!['indexed', 'failed'].includes(file.status)\n\t\t)\n\t}\n\n\t// å¼€å§‹è½®è¯¢æ–‡ä»¶çŠ¶æ€\n\tfunction startPollingFileStatus(projectId) {\n\t\t// å¦‚æœæ²¡æœ‰æ–‡ä»¶åœ¨å¤„ç†ï¼Œä¸éœ€è¦è½®è¯¢\n\t\tif (!hasProcessingFiles()) {\n\t\t\t// console.log('âœ… æ‰€æœ‰æ–‡ä»¶å·²å¤„ç†å®Œæˆï¼Œæ— éœ€è½®è¯¢')\n\t\t\treturn\n\t\t}\n\n\t\t// é˜²æ­¢é‡å¤è½®è¯¢\n\t\tif (isPolling.value) {\n\t\t\tconsole.log('âš ï¸ å·²åœ¨è½®è¯¢ä¸­ï¼Œè·³è¿‡')\n\t\t\treturn\n\t\t}\n\n\t\tisPolling.value = true\n\t\tpollingCount.value = 0\n\n\t\tconst processingCount = projectFiles.value.filter(f =>\n\t\t\t!['indexed', 'failed'].includes(f.status)\n\t\t).length\n\n\t\t// console.log(`ğŸ”„ å¼€å§‹è½®è¯¢é¡¹ç›® ${projectId} çš„æ–‡ä»¶çŠ¶æ€...`)\n\t\t// console.log(`   è¿˜æœ‰ ${processingCount} ä¸ªæ–‡ä»¶æ­£åœ¨å¤„ç†`)\n\n\t\tpollingTimer.value = setInterval(async () => {\n\t\t\tpollingCount.value++\n\n\t\t\t// è¶…è¿‡æœ€å¤§æ¬¡æ•°ï¼Œåœæ­¢è½®è¯¢\n\t\t\tif (pollingCount.value > MAX_POLLING_COUNT) {\n\t\t\t\tconsole.log('â° è¾¾åˆ°æœ€å¤§è½®è¯¢æ¬¡æ•°ï¼Œåœæ­¢è½®è¯¢')\n\t\t\t\tstopPolling()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'æ–‡ä»¶å¤„ç†è¶…æ—¶ï¼Œè¯·æ‰‹åŠ¨åˆ·æ–°',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// é™é»˜é‡æ–°åŠ è½½æ–‡ä»¶åˆ—è¡¨ï¼ˆä¸æ˜¾ç¤º loadingï¼‰\n\t\t\t\tawait loadProjectFiles(projectId, true)\n\n\t\t\t\t// æ£€æŸ¥æ˜¯å¦æ‰€æœ‰æ–‡ä»¶éƒ½å¤„ç†å®Œæˆ\n\t\t\t\tif (!hasProcessingFiles()) {\n\t\t\t\t\tconsole.log('âœ… æ‰€æœ‰æ–‡ä»¶å¤„ç†å®Œæˆï¼Œåœæ­¢è½®è¯¢')\n\t\t\t\t\tstopPolling()\n\n\t\t\t\t\t// æ˜¾ç¤ºæˆåŠŸæç¤º\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'æ–‡ä»¶å¤„ç†å®Œæˆ',\n\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// ç»Ÿè®¡å¤„ç†ä¸­çš„æ–‡ä»¶\n\t\t\t\t\tconst processing = projectFiles.value.filter(f =>\n\t\t\t\t\t\t!['indexed', 'failed'].includes(f.status)\n\t\t\t\t\t)\n\t\t\t\t\t// console.log(`ğŸ”„ [è½®è¯¢ ${pollingCount.value}] è¿˜æœ‰ ${processing.length} ä¸ªæ–‡ä»¶æ­£åœ¨å¤„ç†...`)\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('âŒ è½®è¯¢æ–‡ä»¶çŠ¶æ€å¤±è´¥:', error)\n\t\t\t\t// ä¸åœæ­¢è½®è¯¢ï¼Œç»§ç»­å°è¯•\n\t\t\t}\n\t\t}, POLLING_INTERVAL)\n\t}\n\n\t// åœæ­¢è½®è¯¢\n\tfunction stopPolling() {\n\t\tif (pollingTimer.value) {\n\t\t\tclearInterval(pollingTimer.value)\n\t\t\tpollingTimer.value = null\n\t\t}\n\t\tisPolling.value = false\n\t\tpollingCount.value = 0\n\t\t// console.log('â¹ï¸ è½®è¯¢å·²åœæ­¢')\n\t}\n\n\t// åŠ è½½é¡¹ç›®åˆ—è¡¨\n\tasync function loadProjects() {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\tgetProjects\n\t\t\t} = await import('@/api/project.js')\n\t\t\tconst response = await getProjects()\n\n\t\t\tprojectList.value = response || []\n\n\t\t\t// console.log('é¡¹ç›®åˆ—è¡¨åŠ è½½æˆåŠŸ:', projectList.value.length, 'ä¸ªé¡¹ç›®')\n\t\t} catch (error) {\n\t\t\tconsole.error('åŠ è½½é¡¹ç›®åˆ—è¡¨å¤±è´¥:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'åŠ è½½é¡¹ç›®åˆ—è¡¨å¤±è´¥',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\n\n\t// åŠ è½½é¡¹ç›®æ–‡ä»¶åˆ—è¡¨\n\tasync function loadProjectFiles(projectId, silent = false) {\n\t\ttry {\n\t\t\t// éé™é»˜æ¨¡å¼æ˜¾ç¤º loading\n\t\t\tif (!silent) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: 'åŠ è½½æ–‡ä»¶åˆ—è¡¨...',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst {\n\t\t\t\tgetProjectDocuments\n\t\t\t} = await import('@/api/project.js')\n\t\t\tconst response = await getProjectDocuments(projectId)\n\n\t\t\t// ç¡®ä¿ projectFiles å§‹ç»ˆæ˜¯æ•°ç»„\n\t\t\t// åç«¯å¯èƒ½è¿”å› { documents: [...], total: 10 } æˆ–ç›´æ¥è¿”å›æ•°ç»„\n\t\t\tif (Array.isArray(response)) {\n\t\t\t\tprojectFiles.value = response\n\t\t\t} else if (response && Array.isArray(response.documents)) {\n\t\t\t\tprojectFiles.value = response.documents\n\t\t\t} else {\n\t\t\t\tprojectFiles.value = []\n\t\t\t}\n\n\t\t\t// console.log('é¡¹ç›®æ–‡ä»¶åˆ—è¡¨:', projectFiles.value)\n\n\t\t\tif (!silent) {\n\t\t\t\tuni.hideLoading()\n\n\t\t\t\tif (projectFiles.value.length === 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'è¯¥é¡¹ç›®æš‚æ— æ–‡ä»¶',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('åŠ è½½é¡¹ç›®æ–‡ä»¶å¤±è´¥:', error)\n\t\t\tif (!silent) {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'åŠ è½½æ–‡ä»¶åˆ—è¡¨å¤±è´¥',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t\tprojectFiles.value = [] // ç¡®ä¿å‡ºé”™æ—¶ä¹Ÿæ˜¯æ•°ç»„\n\t\t}\n\t}\n\n\t// æ–‡ä»¶å›¾æ ‡æ˜ å°„\n\tfunction getFileIcon(extension) {\n\t\tconst ext = (extension || '').toLowerCase().replace('.', '')\n\t\tconst iconMap = {\n\t\t\t'pdf': 'paperplane',\n\t\t\t'doc': 'compose',\n\t\t\t'docx': 'compose',\n\t\t\t'xls': 'bars',\n\t\t\t'xlsx': 'bars',\n\t\t\t'ppt': 'image',\n\t\t\t'pptx': 'image',\n\t\t\t'md': 'compose',\n\t\t\t'txt': 'compose',\n\t\t\t'jpg': 'image',\n\t\t\t'jpeg': 'image',\n\t\t\t'png': 'image',\n\t\t\t'gif': 'image'\n\t\t}\n\t\treturn iconMap[ext] || 'paperclip'\n\t}\n\n\t// æ ¼å¼åŒ–æ–‡ä»¶å¤§å°\n\tfunction formatFileSize(bytes) {\n\t\tif (!bytes) return '0 B'\n\t\tconst k = 1024\n\t\tconst sizes = ['B', 'KB', 'MB', 'GB']\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k))\n\t\treturn Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\n\t}\n\n\t// æ ¼å¼åŒ–æ–‡ä»¶çŠ¶æ€\n\tfunction formatFileStatus(status) {\n\t\tconst statusMap = {\n\t\t\t'uploaded': 'å·²ä¸Šä¼ ',\n\t\t\t'converting': 'è½¬æ¢ä¸­',\n\t\t\t'converted': 'å·²è½¬æ¢',\n\t\t\t'vectorizing': 'å‘é‡åŒ–ä¸­',\n\t\t\t'indexed': 'å·²ç´¢å¼•',\n\t\t\t'failed': 'å¤„ç†å¤±è´¥'\n\t\t}\n\t\treturn statusMap[status] || status\n\t}\n\n\t// è·å–çŠ¶æ€æ–‡æœ¬\n\tfunction getStatusText(status) {\n\t\tconst statusMap = {\n\t\t\t'uploaded': 'å·²ä¸Šä¼ ',\n\t\t\t'converting': 'è½¬æ¢ä¸­',\n\t\t\t'converted': 'å·²è½¬æ¢',\n\t\t\t'vectorizing': 'å¤„ç†ä¸­',\n\t\t\t'indexed': 'âœ“ å·²å°±ç»ª',\n\t\t\t'failed': 'å¤±è´¥'\n\t\t}\n\t\treturn statusMap[status] || status\n\t}\n\n\t// è·å–çŠ¶æ€æ ·å¼ç±»\n\tfunction getStatusClass(status) {\n\t\tconst classMap = {\n\t\t\t'uploaded': 'status-uploaded',\n\t\t\t'converting': 'status-processing',\n\t\t\t'converted': 'status-processing',\n\t\t\t'vectorizing': 'status-processing',\n\t\t\t'indexed': 'status-success',\n\t\t\t'failed': 'status-error'\n\t\t}\n\t\treturn classMap[status] || ''\n\t}\n\n\t// åŠ è½½é¡¹ç›®ç¼“å­˜æ•°æ®\n\tfunction loadProjectCache(projectId) {\n\t\tif (!projectId) return\n\n\t\tconst cacheKey = `project_base_info_${projectId}`\n\t\tconst cachedData = uni.getStorageSync(cacheKey)\n\n\t\tif (cachedData) {\n\t\t\ttry {\n\t\t\t\tbaseTable.value = JSON.parse(cachedData)\n\t\t\t\textractionOk.value = true\n\t\t\t\tconsole.log(`âœ… å·²åŠ è½½é¡¹ç›® ${projectId} çš„ç¼“å­˜æ•°æ®`)\n\n\t\t\t\t// è‡ªåŠ¨æå–æ±¡æŸ“æ²»ç†è®¾æ–½åˆ°ç°åœºè¸å‹˜ï¼ˆä»baseTableæå–å¹¶ä¿å­˜ï¼‰\n\t\t\t\tfieldSurveyData.extractFacilitiesFromBaseTable(projectId, baseTable.value)\n\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'å·²åŠ è½½ç¼“å­˜æ•°æ®',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 1500\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('è§£æç¼“å­˜æ•°æ®å¤±è´¥:', error)\n\t\t\t\tbaseTable.value = []\n\t\t\t\textractionOk.value = false\n\t\t\t}\n\t\t} else {\n\t\t\t// æ²¡æœ‰ç¼“å­˜ï¼Œæ¸…ç©ºæ•°æ®\n\t\t\tbaseTable.value = []\n\t\t\textractionOk.value = false\n\t\t\tconsole.log(`â„¹ï¸ é¡¹ç›® ${projectId} æš‚æ— ç¼“å­˜æ•°æ®`)\n\t\t}\n\t}\n\n\t// æ¸…é™¤å½“å‰é¡¹ç›®çš„ç¼“å­˜\n\tfunction clearProjectCache() {\n\t\tif (!selectedProjectId.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'è¯·å…ˆé€‰æ‹©é¡¹ç›®',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tuni.showModal({\n\t\t\ttitle: 'æ¸…é™¤ç¼“å­˜',\n\t\t\tcontent: 'ç¡®å®šè¦æ¸…é™¤å½“å‰é¡¹ç›®çš„æ‰€æœ‰ç¼“å­˜æ•°æ®å—ï¼Ÿæ¸…é™¤åéœ€è¦é‡æ–°æå–ä¿¡æ¯ã€‚',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\t// æ¸…é™¤é¡¹ç›®æ•°æ®ç¼“å­˜\n\t\t\t\t\tconst cacheKey = `project_base_info_${selectedProjectId.value}`\n\t\t\t\t\tuni.removeStorageSync(cacheKey)\n\n\t\t\t\t\t// æ¸…é™¤é¡¹ç›®é€‰æ‹©ç¼“å­˜\n\t\t\t\t\tuni.removeStorageSync('acceptance_project_id')\n\t\t\t\t\tuni.removeStorageSync('acceptance_project_info')\n\n\t\t\t\t\t// æ¸…ç©ºå½“å‰æ˜¾ç¤ºçš„æ•°æ®\n\t\t\t\t\tbaseTable.value = []\n\t\t\t\t\tsignboard.value = {\n\t\t\t\t\t\tsections: []\n\t\t\t\t\t}\n\t\t\t\t\tshowSignboard.value = false\n\t\t\t\t\textractionOk.value = false\n\n\t\t\t\t\t// æ¸…é™¤é¡¹ç›®é€‰æ‹©\n\t\t\t\t\tselectedProjectId.value = null\n\t\t\t\t\tselectedProject.value = null\n\t\t\t\t\tprojectFiles.value = []\n\n\t\t\t\t\tconsole.log(`ğŸ—‘ï¸ å·²æ¸…é™¤é¡¹ç›®ç¼“å­˜å’Œé€‰æ‹©`)\n\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'ç¼“å­˜å·²æ¸…é™¤',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t// é¡µé¢åŠ è½½æ—¶è·å–é¡¹ç›®åˆ—è¡¨\n\tonLoad(async () => {\n\t\tawait loadProjects()\n\n\t\t// å°è¯•æ¢å¤ä¸Šæ¬¡é€‰æ‹©çš„é¡¹ç›®\n\t\ttry {\n\t\t\tconst savedProjectId = uni.getStorageSync('acceptance_project_id')\n\n\t\t\tif (savedProjectId) {\n\t\t\t\tconst project = projectList.value.find(p => p.id === savedProjectId)\n\n\t\t\t\tif (project) {\n\t\t\t\t\tconsole.log('ğŸ”„ æ¢å¤ä¸Šæ¬¡é€‰æ‹©çš„é¡¹ç›®:', project.name)\n\t\t\t\t\t// è‡ªåŠ¨é€‰æ‹©è¯¥é¡¹ç›®ï¼ˆä¸æ˜¾ç¤ºæç¤ºï¼Œé™é»˜æ¢å¤ï¼‰\n\t\t\t\t\tselectedProjectId.value = project.id\n\t\t\t\t\tselectedProject.value = project\n\n\t\t\t\t\t// åŠ è½½é¡¹ç›®æ–‡ä»¶åˆ—è¡¨\n\t\t\t\t\tawait loadProjectFiles(project.id)\n\n\t\t\t\t\t// å¯åŠ¨è½®è¯¢\n\t\t\t\t\tstartPollingFileStatus(project.id)\n\n\t\t\t\t\t// åŠ è½½ç¼“å­˜\n\t\t\t\t\tloadProjectCache(project.id)\n\t\t\t\t} else {\n\t\t\t\t\t// é¡¹ç›®ä¸å­˜åœ¨ï¼Œæ¸…é™¤ä¿å­˜çš„ID\n\t\t\t\t\tconsole.log('âš ï¸ ä¸Šæ¬¡é€‰æ‹©çš„é¡¹ç›®å·²ä¸å­˜åœ¨ï¼Œæ¸…é™¤ç¼“å­˜')\n\t\t\t\t\tuni.removeStorageSync('acceptance_project_id')\n\t\t\t\t\tuni.removeStorageSync('acceptance_project_info')\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.warn('âš ï¸ æ¢å¤é¡¹ç›®é€‰æ‹©å¤±è´¥:', e)\n\t\t}\n\t})\n\n\t// é¡µé¢å¸è½½æ—¶åœæ­¢è½®è¯¢\n\tonUnmounted(() => {\n\t\tstopPolling()\n\t\tconsole.log('ğŸ“„ é¡µé¢å¸è½½ï¼Œæ¸…ç†è½®è¯¢å®šæ—¶å™¨')\n\t})\n\n\t// ç›‘å¬é¡¹ç›®åˆ‡æ¢ï¼Œåœæ­¢æ—§é¡¹ç›®çš„è½®è¯¢\n\twatch(selectedProjectId, (newId, oldId) => {\n\t\tif (oldId && newId !== oldId) {\n\t\t\tstopPolling()\n\t\t\tconsole.log('ğŸ”„ åˆ‡æ¢é¡¹ç›®ï¼Œåœæ­¢æ—§é¡¹ç›®çš„è½®è¯¢')\n\t\t}\n\t})\n\n\tconst extracting = ref(false) // æå–çŠ¶æ€\n\tconst extractError = ref('') // æå–é”™è¯¯çŠ¶æ€\n\n\n\n\t/* æå–ä¿¡æ¯çš„è¿›åº¦æ¡ - æ™ºèƒ½å¹³æ»‘è¿›åº¦ç‰ˆæœ¬ï¼ˆä½¿ç”¨è‡ªå®šä¹‰å¼¹çª—ï¼‰*/\n\t// è¿›åº¦å¹³æ»‘å¤„ç†\n\tlet smoothProgressTimer = null\n\tlet currentDisplayProgress = 0 // å½“å‰æ˜¾ç¤ºçš„è¿›åº¦\n\tlet targetProgress = 0 // ç›®æ ‡è¿›åº¦ï¼ˆåç«¯è¿”å›çš„çœŸå®è¿›åº¦ï¼‰\n\tlet lastTargetProgress = 0 // ä¸Šä¸€æ¬¡çš„ç›®æ ‡è¿›åº¦ï¼ˆç”¨äºæ£€æµ‹æ˜¯å¦çœŸçš„æ›´æ–°äº†ï¼‰\n\tlet lastUpdateTime = 0 // ä¸Šæ¬¡åç«¯çœŸæ­£æ›´æ–°è¿›åº¦çš„æ—¶é—´\n\n\t// å¹³æ»‘æ›´æ–°è¿›åº¦æ¡ï¼ˆæ™ºèƒ½ç‰ˆ - æ›´æ–°å“åº”å¼å˜é‡ï¼‰\n\tfunction updateProgressSmooth(newProgress, statusText, state = 'running') {\n\t\t// æ£€æŸ¥è¿›åº¦æ˜¯å¦çœŸçš„å˜åŒ–äº†\n\t\tconst progressChanged = newProgress !== lastTargetProgress\n\n\t\t// æ›´æ–°ç›®æ ‡è¿›åº¦å’ŒçŠ¶æ€\n\t\ttargetProgress = newProgress\n\t\ttaskStatusText.value = statusText\n\t\ttaskState.value = state\n\n\t\t// åªæœ‰è¿›åº¦çœŸçš„å˜åŒ–äº†ï¼Œæ‰æ›´æ–°æ—¶é—´æˆ³\n\t\tif (progressChanged) {\n\t\t\tlastUpdateTime = Date.now()\n\t\t\tlastTargetProgress = newProgress\n\t\t\tconsole.log(`[è¿›åº¦çœŸå®æ›´æ–°] ${newProgress}% - ${statusText}`)\n\t\t}\n\n\t\t// å¦‚æœæ²¡æœ‰å¹³æ»‘è®¡æ—¶å™¨ï¼Œå¯åŠ¨ä¸€ä¸ª\n\t\tif (!smoothProgressTimer) {\n\t\t\tsmoothProgressTimer = setInterval(() => {\n\t\t\t\tconst now = Date.now()\n\t\t\t\tconst timeSinceLastUpdate = now - lastUpdateTime // è·ç¦»ä¸Šæ¬¡çœŸå®æ›´æ–°çš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n\n\t\t\t\t// ğŸ¯ æ ¸å¿ƒé€»è¾‘ï¼šæ™ºèƒ½å¢é•¿\n\t\t\t\tif (currentDisplayProgress < targetProgress) {\n\t\t\t\t\t// æƒ…å†µ1ï¼šå½“å‰è¿›åº¦å°äºç›®æ ‡è¿›åº¦ï¼Œå¿«é€Ÿè¿½èµ¶\n\t\t\t\t\tconst diff = targetProgress - currentDisplayProgress\n\t\t\t\t\tconst step = Math.max(0.5, diff / 10) // æœ€å°0.5%ï¼Œæœ€å¤§å·®å€¼çš„1/10\n\n\t\t\t\t\tcurrentDisplayProgress = Math.min(\n\t\t\t\t\t\tcurrentDisplayProgress + step,\n\t\t\t\t\t\ttargetProgress\n\t\t\t\t\t)\n\t\t\t\t} else if (currentDisplayProgress >= targetProgress && targetProgress < 100) {\n\t\t\t\t\t// æƒ…å†µ2ï¼šå·²ç»è¿½ä¸Šç›®æ ‡è¿›åº¦ï¼Œä½†ä»»åŠ¡æœªå®Œæˆ\n\n\t\t\t\t\t// å¦‚æœåç«¯è¶…è¿‡5ç§’æ²¡æ›´æ–°ï¼ˆå¯èƒ½å¡ä½äº†ï¼‰ï¼Œç¼“æ…¢å¢é•¿ç»™ç”¨æˆ·åé¦ˆ\n\t\t\t\t\tif (timeSinceLastUpdate > 5000) {\n\t\t\t\t\t\t// ç¼“æ…¢å¢é•¿ï¼Œä½†ä¸è¶…è¿‡ç›®æ ‡è¿›åº¦+5%\n\t\t\t\t\t\tconst maxAllowedProgress = Math.min(targetProgress + 5, 99)\n\n\t\t\t\t\t\tif (currentDisplayProgress < maxAllowedProgress) {\n\t\t\t\t\t\t\t// æ¯æ¬¡å¢é•¿0.1%ï¼Œéå¸¸ç¼“æ…¢\n\t\t\t\t\t\t\tcurrentDisplayProgress += 0.1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// æ›´æ–°å¼¹çª—æ˜¾ç¤ºçš„è¿›åº¦\n\t\t\t\ttaskProgress.value = Math.floor(currentDisplayProgress)\n\n\t\t\t\t// å¦‚æœå·²ç»è¾¾åˆ°ç›®æ ‡ä¸”ç›®æ ‡æ˜¯100%ï¼Œåœæ­¢è®¡æ—¶å™¨\n\t\t\t\tif (currentDisplayProgress >= 99.9 && targetProgress >= 100) {\n\t\t\t\t\tclearInterval(smoothProgressTimer)\n\t\t\t\t\tsmoothProgressTimer = null\n\t\t\t\t\tcurrentDisplayProgress = 100\n\t\t\t\t\ttaskProgress.value = 100\n\t\t\t\t\ttaskState.value = 'success'\n\t\t\t\t\ttaskStatusText.value = 'ä¿¡æ¯æå–å®Œæˆ'\n\n\t\t\t\t\t// 1ç§’åå…³é—­å¼¹çª—å¹¶æ˜¾ç¤ºæˆåŠŸæç¤º\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\ttaskProgressModal.value?.close()\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'ä¿¡æ¯æå–å®Œæˆ',\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1000)\n\t\t\t\t}\n\t\t\t}, 50) // æ¯50msæ›´æ–°ä¸€æ¬¡ï¼Œä¿è¯å¹³æ»‘\n\t\t}\n\t}\n\n\t// æ¸…ç†è¿›åº¦è®¡æ—¶å™¨\n\tfunction clearProgressTimer() {\n\t\tif (smoothProgressTimer) {\n\t\t\tclearInterval(smoothProgressTimer)\n\t\t\tsmoothProgressTimer = null\n\t\t}\n\t\tcurrentDisplayProgress = 0\n\t\ttargetProgress = 0\n\t\tlastTargetProgress = 0\n\t\tlastUpdateTime = 0\n\t\ttaskProgress.value = 0\n\t\ttaskStatusText.value = 'æ­£åœ¨åˆå§‹åŒ–...'\n\t\ttaskState.value = 'running'\n\t}\n\n\t// æå–ä¿¡æ¯åˆ°é¡¹ç›®åŸºæœ¬è¡¨ï¼ˆä½¿ç”¨è‡ªå®šä¹‰è¿›åº¦å¼¹çª—ï¼‰\n\tasync function simulateExtract() {\n\t\t// 1. å‰ç½®æ£€æŸ¥ï¼šæ˜¯å¦é€‰æ‹©äº†é¡¹ç›®\n\t\tif (!selectedProjectId.value) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'æç¤º',\n\t\t\t\tcontent: 'è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé¡¹ç›®',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// 2. æ£€æŸ¥é¡¹ç›®æ˜¯å¦æœ‰æ–‡ä»¶\n\t\tif (projectFiles.value.length === 0) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'æç¤º',\n\t\t\t\tcontent: 'è¯¥é¡¹ç›®æš‚æ— æ–‡ä»¶ï¼Œè¯·å…ˆåœ¨é¡¹ç›®ç®¡ç†æ¨¡å—ä¸Šä¼ æ–‡ä»¶',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// 3. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç´¢å¼•ï¼ˆè‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶çŠ¶æ€ä¸º indexedï¼‰\n\t\tconst hasIndexedFiles = projectFiles.value.some(file => file.status === 'indexed')\n\t\tif (!hasIndexedFiles) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'æç¤º',\n\t\t\t\tcontent: 'é¡¹ç›®æ–‡ä»¶æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨åå†è¯•',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\textracting.value = true // å¼€å§‹æå–ï¼ŒæŒ‰é’®æ˜¾ç¤ºloading\n\n\t\t// 2. æ¸…ç†ä¹‹å‰çš„è¿›åº¦çŠ¶æ€\n\t\tclearProgressTimer()\n\n\t\t// 3. åˆå§‹åŒ–å¼¹çª—çŠ¶æ€å¹¶æ‰“å¼€\n\t\ttaskProgressTitle.value = 'ä¿¡æ¯æå–ä¸­'\n\t\ttaskProgress.value = 0\n\t\ttaskStatusText.value = 'æ­£åœ¨æäº¤ä»»åŠ¡...'\n\t\ttaskState.value = 'pending'\n\t\ttaskProgressModal.value?.open()\n\n\t\ttry {\n\t\t\tconst result = await runTask({\n\t\t\t\tprojectId: selectedProjectId.value,\n\t\t\t\tprojectFolder: selectedProject.value.folder_name,\n\t\t\t\t// è¿›åº¦å›è°ƒå‡½æ•°ï¼šæ¯æ¬¡åç«¯æ›´æ–°è¿›åº¦æ—¶è°ƒç”¨\n\t\t\t\tonProgress: (progress, statusText, state) => {\n\t\t\t\t\t// ä½¿ç”¨å¹³æ»‘è¿›åº¦æ›´æ–°ï¼ˆä¼šè‡ªåŠ¨æ›´æ–°å“åº”å¼å˜é‡ï¼‰\n\t\t\t\t\tupdateProgressSmooth(progress, statusText, state)\n\t\t\t\t},\n\t\t\t\tpollInterval: 3000, // æ¯3ç§’è½®è¯¢ä¸€æ¬¡\n\t\t\t\ttimeout: 1800000 // 30åˆ†é’Ÿè¶…æ—¶\n\t\t\t})\n\n\t\t\t// 5. ä»»åŠ¡å®Œæˆï¼Œç¡®ä¿è¿›åº¦åˆ°100%\n\t\t\tupdateProgressSmooth(100, 'ä»»åŠ¡å®Œæˆ', 'success')\n\n\t\t\t// 6. æ•°æ®æ ¡éªŒï¼šç¡®ä¿åç«¯çœŸçš„è¿”å›äº†æ•°æ®\n\t\t\tif (result?.status !== 'success' || !result.result) {\n\t\t\t\tthrow new Error(result?.message || 'æå–å¤±è´¥ï¼šåç«¯æœªè¿”å›æœ‰æ•ˆæ•°æ®')\n\t\t\t}\n\n\t\t\t// 7. è½¬æ¢æ•°æ®å¹¶å¡«å……è¡¨æ ¼ï¼ˆæ ¸å¿ƒæ“ä½œï¼‰\n\t\t\tbaseTable.value = transformExtractResult(result.result)\n\n\t\t\t// 8. ç¼“å­˜åˆ°æœ¬åœ°ï¼ˆå…³é”®ï¼ä½¿ç”¨é¡¹ç›®IDä½œä¸ºkeyï¼Œæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹ç¼“å­˜ï¼‰\n\t\t\tconst cacheKey = `project_base_info_${selectedProjectId.value}`\n\t\t\tuni.setStorageSync(cacheKey, JSON.stringify(baseTable.value))\n\t\t\tconsole.log(`âœ… é¡¹ç›® ${selectedProjectId.value} çš„æ•°æ®å·²ç¼“å­˜`)\n\n\t\t\t// 9. è‡ªåŠ¨æå–æ±¡æŸ“æ²»ç†è®¾æ–½åˆ°ç°åœºè¸å‹˜ï¼ˆé™é»˜å¡«å……ï¼‰\n\t\t\tfieldSurveyData.extractFacilitiesFromPollutants(baseTable.value)\n\n\t\t\t// 10. æ ‡è®°æå–å®Œæˆ\n\t\t\textractionOk.value = true\n\n\t\t} catch (error) {\n\t\t\t// é”™è¯¯æ—¶æ¸…é™¤è¿›åº¦è®¡æ—¶å™¨å¹¶å…³é—­å¼¹çª—\n\t\t\tclearProgressTimer()\n\t\t\ttaskProgressModal.value?.close()\n\n\t\t\t// 10. é”™è¯¯åˆ†ç±»å¤„ç†ï¼Œç»™ç”¨æˆ·çœ‹å¾—æ‡‚çš„æç¤º\n\t\t\tconsole.error('[Extract] æå–å¤±è´¥:', error)\n\n\t\t\tif (error.message.includes('è¶…æ—¶') || error.message.includes('timeout')) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æå–è¶…æ—¶äº†ï¼',\n\t\t\t\t\tcontent: 'ä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œå¯èƒ½åŸå› ï¼š\\n1. æ–‡æ¡£è¿‡å¤§ï¼ˆå»ºè®®<50MBï¼‰\\n2. ç½‘ç»œä¸ç¨³å®š\\n3. æœåŠ¡å™¨ç¹å¿™\\n\\nå»ºè®®ç¨åé‡è¯•æˆ–è”ç³»ç®¡ç†å‘˜',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t})\n\t\t\t} else if (error.message.includes('æœªæå–åˆ°')) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æå–å¤±è´¥',\n\t\t\t\t\tcontent: 'æ–‡æ¡£ä¸­æœªæ‰¾åˆ°é¡¹ç›®ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥ï¼š\\n1. æ–‡ä»¶æ˜¯å¦ä¸ºå®Œæ•´çš„ç¯è¯„æŠ¥å‘Š\\n2. æ–‡ä»¶å†…å®¹æ˜¯å¦æ¸…æ™°å¯è¯»\\n3. æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t})\n\t\t\t} else if (error.message.includes('å·²æœ‰ä»»åŠ¡åœ¨è¿è¡Œ')) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'ä»»åŠ¡è¿›è¡Œä¸­',\n\t\t\t\t\tcontent: 'æ‚¨å·²æœ‰ä¸€ä¸ªä¿¡æ¯æå–ä»»åŠ¡æ­£åœ¨è¿è¡Œï¼Œè¯·ç­‰å¾…å®Œæˆåå†æäº¤æ–°ä»»åŠ¡',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æå–å¤±è´¥',\n\t\t\t\t\tcontent: error.message || 'æ— æ³•ä»æ–‡æ¡£ä¸­æå–é¡¹ç›®ä¿¡æ¯ï¼Œè¯·ç¨åé‡è¯•',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t})\n\t\t\t}\n\t\t} finally {\n\t\t\textracting.value = false // æ— è®ºæˆåŠŸå¤±è´¥ï¼Œéƒ½è¦ç»“æŸloadingçŠ¶æ€\n\t\t}\n\t}\n\n\t// æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯å¼¹çª—\n\tconst newBaseInfoPopup = ref(null)\n\n\t// æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯çš„æ ‡é¢˜\n\tconst newBaseInfoLabel = ref('')\n\n\t// æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯\n\tfunction openAddBase() {\n\t\tnewBaseInfoLabel.value = '';\n\t\tnewBaseInfoPopup.value?.open?.()\n\t}\n\n\t// ç¡®è®¤æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯\n\tfunction confirmAddBaseInfo() {\n\t\tconst label = (newBaseInfoLabel.value || '').trim();\n\t\tif (!label) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'è¯·è¾“å…¥å­—æ®µåç§°',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t\tbaseTable.value.push({\n\t\t\tid: Date.now() + Math.random(),\n\t\t\tsection: '',\n\t\t\tlabel,\n\t\t\tvalue: '',\n\t\t\tsource: 'manual',\n\t\t\trequired: false,\n\t\t});\n\t\tnewBaseInfoPopup.value?.close?.()\n\t}\n\n\t// å…³é—­æ–°å¢é¡¹ç›®åŸºæœ¬ä¿¡æ¯å¼¹çª—\n\tfunction closeBaseInfo() {\n\t\tnewBaseInfoPopup.value?.close?.()\n\t}\n\n\n\n\n\n\t// ä»¥ä¸‹æ ‡è¯†ç‰Œæ¨¡å—çš„æ–¹æ³•-------------------------\n\t//å±•ç¤ºæ ‡è¯†ç‰Œåˆ—è¡¨\n\tconst showSignboard = ref(false)\n\n\t// æ ‡è¯†ç‰Œæ¨¡å—åç§°ä»¥åŠåˆ—è¡¨ä¿¡æ¯\n\tconst signboard = reactive({\n\t\tsections: [{\n\t\t\t\tblock: 'åºŸæ°´',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t},\n\t\t\t{\n\t\t\t\tblock: 'åºŸæ°”',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t},\n\t\t\t{\n\t\t\t\tblock: 'å™ªå£°',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\tblock: 'å±é™©åºŸç‰©',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t}\n\t\t]\n\t})\n\n\t// ç”Ÿæˆæ ‡è¯†ç‰Œä¿¡æ¯(ä»é¡¹ç›®åŸºæœ¬ä¿¡æ¯æå–)\n\tfunction generateSignboard() {\n\t\tconst unitName = findBaseValue('å»ºè®¾å•ä½åç§°') || findBaseValue('å•ä½åç§°') || '';\n\t\tconst wfName = findBaseValue('å±åºŸåç§°') || findBaseValue('å±åºŸ') || '';\n\t\tconst emissionData = baseTable.value.find(x => x.id === 'pollutants_emission')?.value;\n\n\t\tif (!emissionData || typeof emissionData !== 'object') {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'æœªæå–åˆ°æ±¡æŸ“ç‰©ä¿¡æ¯',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t// æ¸…ç©ºæ—§æ•°æ®\n\t\tsignboard.sections.forEach(sec => (sec.items = []));\n\n\t\t// è¾…åŠ©å‡½æ•°ï¼šæ‹†åˆ†æ’æ±¡å£ç¼–å·ï¼ˆå¤„ç†\"DA001ã€DA002ã€DA003\"è¿™ç§æƒ…å†µï¼‰\n\t\tfunction splitOutletCodes(codeStr) {\n\t\t\tif (!codeStr) return [];\n\n\t\t\t// æ— æ•ˆçš„æ’æ±¡å£ç¼–å·åˆ—è¡¨\n\t\t\tconst invalidCodes = ['/', 'ä¿¡æ¯å¾…è¡¥å……', ''];\n\n\t\t\treturn codeStr\n\t\t\t\t.split(/[ã€,ï¼Œ]/) // æŒ‰é¡¿å·ã€é€—å·åˆ†éš”\n\t\t\t\t.map(c => c.trim()) // å»é™¤ç©ºæ ¼\n\t\t\t\t.filter(c => c && !invalidCodes.includes(c)); // è¿‡æ»¤æ— æ•ˆç¼–å·\n\t\t}\n\n\t\t// è¾…åŠ©å‡½æ•°ï¼šæŒ‰æ’æ±¡å£ç¼–å·åˆ†ç»„å¹¶åˆå¹¶æ±¡æŸ“ç‰©\n\t\tfunction groupByOutletCode(list, blockType) {\n\t\t\tconst outletMap = new Map(); // key: æ’æ±¡å£ç¼–å·, value: { pollutants: [], ...otherInfo }\n\n\t\t\tlist.forEach(item => {\n\t\t\t\tconst codes = splitOutletCodes(item['æ’æ±¡å£ç¼–å·']);\n\t\t\t\tconst pollutantName = item['æ±¡æŸ“ç‰©åç§°'] || '';\n\t\t\t\tconst wryz = item['æ±¡æŸ“å› å­'] || '';\n\n\t\t\t\tcodes.forEach(code => {\n\t\t\t\t\tif (!outletMap.has(code)) {\n\t\t\t\t\t\toutletMap.set(code, {\n\t\t\t\t\t\t\tpollutants: [],\n\t\t\t\t\t\t\twryz: [],\n\t\t\t\t\t\t\totherInfo: item // ä¿å­˜å…¶ä»–ä¿¡æ¯ï¼ˆå¦‚æ‰§è¡Œæ ‡å‡†ã€æ’æ”¾å»å‘ç­‰ï¼‰\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t// åˆå¹¶æ±¡æŸ“ç‰©åç§°\n\t\t\t\t\tif (wryz) {\n\t\t\t\t\t\toutletMap.get(code).wryz.push(wryz);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn outletMap;\n\t\t}\n\n\t\t// åºŸæ°´\n\t\tconst waterList = emissionData['æ°´æ±¡æŸ“ç‰©'] || [];\n\t\tconst waterOutlets = groupByOutletCode(waterList, 'åºŸæ°´');\n\t\twaterOutlets.forEach((data, code) => {\n\t\t\tconst wryz = [...new Set(data.wryz)].join('ã€'); // å»é‡å¹¶åˆå¹¶\n\t\t\tsignboard.sections.find(s => s.block === 'åºŸæ°´').items.push({\n\t\t\t\ttitle: 'å•ä½åç§°',\n\t\t\t\tcontent: unitName\n\t\t\t}, {\n\t\t\t\ttitle: 'æ’æ”¾å£ç¼–å·',\n\t\t\t\tcontent: code\n\t\t\t}, {\n\t\t\t\ttitle: 'æ±¡æŸ“å› å­',\n\t\t\t\tcontent: wryz\n\t\t\t});\n\t\t});\n\n\t\t// åºŸæ°”\n\t\tconst gasList = emissionData['å¤§æ°”æ±¡æŸ“ç‰©'] || [];\n\t\tconst gasOutlets = groupByOutletCode(gasList, 'åºŸæ°”');\n\t\tgasOutlets.forEach((data, code) => {\n\t\t\tconst wryz = [...new Set(data.wryz)].join('ã€'); // å»é‡å¹¶åˆå¹¶\n\t\t\tsignboard.sections.find(s => s.block === 'åºŸæ°”').items.push({\n\t\t\t\ttitle: 'å•ä½åç§°',\n\t\t\t\tcontent: unitName\n\t\t\t}, {\n\t\t\t\ttitle: 'æ’æ”¾å£ç¼–å·',\n\t\t\t\tcontent: code\n\t\t\t}, {\n\t\t\t\ttitle: 'æ±¡æŸ“å› å­',\n\t\t\t\tcontent: wryz\n\t\t\t});\n\t\t});\n\n\t\t// å™ªå£°\n\t\tconst noiseList = emissionData['å™ªå£°'] || [];\n\t\tconst noiseOutlets = groupByOutletCode(noiseList, 'å™ªå£°');\n\t\tnoiseOutlets.forEach((data, code) => {\n\t\t\tconst wryz = [...new Set(data.wryz)].join('ã€'); // å»é‡å¹¶åˆå¹¶\n\t\t\tsignboard.sections.find(s => s.block === 'å™ªå£°').items.push({\n\t\t\t\ttitle: 'å•ä½åç§°',\n\t\t\t\tcontent: unitName\n\t\t\t}, {\n\t\t\t\ttitle: 'æ’æ”¾å£ç¼–å·',\n\t\t\t\tcontent: code\n\t\t\t}, {\n\t\t\t\ttitle: 'æ±¡æŸ“å› å­',\n\t\t\t\tcontent: 'è®¾å¤‡å™ªå£°'\n\t\t\t});\n\t\t});\n\n\t\t// è¾…åŠ©å‡½æ•°ï¼šæå–å±é™©åºŸç‰©ç±»åˆ«ä»£ç ï¼ˆå¦‚ HW49ã€HW12ï¼‰\n\t\tfunction extractHazardCodes(str) {\n\t\t\tif (!str) return '';\n\t\t\t// æå–æ‰€æœ‰ HW å¼€å¤´çš„ä»£ç \n\t\t\tconst matches = str.match(/HW\\d+/g);\n\t\t\tif (!matches) return '';\n\t\t\t// å»é‡å¹¶ç”¨é¡¿å·è¿æ¥\n\t\t\treturn [...new Set(matches)].join('ã€');\n\t\t}\n\n\t\t// è¾…åŠ©å‡½æ•°ï¼šæå–å±é™©ç‰¹æ€§ä¸­æ–‡æè¿°ï¼ˆå¦‚ æ¯’æ€§ã€æ˜“ç‡ƒæ€§ï¼‰\n\t\tfunction extractHazardProperties(str) {\n\t\t\tif (!str) return '';\n\t\t\t// æå–æ‰€æœ‰æ‹¬å·å†…çš„ä¸­æ–‡\n\t\t\tconst matches = str.match(/ï¼ˆ([^ï¼‰]+)ï¼‰/g);\n\t\t\tif (!matches) return '';\n\t\t\t// æå–æ‹¬å·å†…å®¹ï¼Œå»é‡å¹¶ç”¨é¡¿å·è¿æ¥\n\t\t\tconst properties = matches.map(m => m.replace(/[ï¼ˆï¼‰]/g, ''));\n\t\t\treturn [...new Set(properties)].join('ã€');\n\t\t}\n\n\t\t// å±é™©åºŸç‰©\n\t\tconst hazardousWaste = emissionData['å±é™©åºŸç‰©'] || {};\n\t\tconst WFItems = [{\n\t\t\t\ttitle: 'ä¸»è¦æˆåˆ†',\n\t\t\t\tcontent: extractHazardCodes(hazardousWaste['å±é™©åºŸç‰©ç±»åˆ«']) || 'HW49'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'åŒ–å­¦åç§°',\n\t\t\t\tcontent: hazardousWaste['åºŸç‰©åç§°'] || 'å®éªŒå®¤åºŸå¼ƒç‰©ã€å®éªŒå®¤åºŸæ°´æ±¡æ³¥ã€åŒ»ç–—åºŸç‰©ã€åºŸæ´»æ€§ç‚­'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'å±é™©æƒ…å†µ',\n\t\t\t\tcontent: extractHazardProperties(hazardousWaste['å±é™©ç‰¹æ€§']) || 'æ¯’æ€§ã€è…èš€æ€§'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'å®‰å…¨æªæ–½',\n\t\t\t\tcontent: 'æ¥è§¦æ—¶ä½©æˆ´ä¸ªäººé˜²æŠ¤ç”¨å“ï¼ˆå…¨é¢ç½©/ä¸æ™´æ‰‹å¥—ï¼‰'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'åºŸç‰©äº§ç”Ÿå•ä½',\n\t\t\t\tcontent: unitName\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'åœ°å€',\n\t\t\t\tcontent: findBaseValue('å»ºè®¾åœ°ç‚¹')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'ç”µè¯',\n\t\t\t\tcontent: findBaseValue('è”ç³»æ–¹å¼')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'è”ç³»äºº',\n\t\t\t\tcontent: findBaseValue('å•ä½è”ç³»äºº')\n\t\t\t},\n\t\t];\n\t\tsignboard.sections.find(s => s.block === 'å±é™©åºŸç‰©').items = WFItems;\n\n\t\tuni.showToast({\n\t\t\ttitle: 'å·²ç”Ÿæˆæ ‡è¯†ç‰Œ',\n\t\t\ticon: 'success'\n\t\t});\n\t}\n\n\t// æ·»åŠ ä¸€ç»„ï¼ˆ3 é¡¹ï¼‰æ’æ±¡æ ‡è¯†ç‰Œï¼ˆåªå…è®¸å™ªå£°æ–°å¢ï¼‰\n\tfunction addSignItem(sectionIdx) {\n\t\tconst sec = signboard.sections[sectionIdx];\n\t\tconst block = sec.block; // åºŸæ°´ / åºŸæ°” / å™ªå£°\n\t\tconst unitName = findBaseValue('å»ºè®¾å•ä½åç§°') || findBaseValue('å•ä½åç§°') || '';\n\n\t\t// åªå…è®¸å™ªå£°æ–°å¢\n\t\tif (block !== 'å™ªå£°') {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'åªæœ‰å™ªå£°å¯ä»¥æ‰‹åŠ¨æ–°å¢',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t/* è®¡ç®—ä¸‹ä¸€ä¸ªæ’æ”¾å£ç¼–å·ï¼šæ‰¾åˆ°ç°æœ‰ç¼–å·çš„æœ€å¤§å€¼ + 1 */\n\t\tlet maxNum = 0;\n\t\t// æ¯3é¡¹ä¸ºä¸€ç»„ï¼Œæå–æ‰€æœ‰æ’æ”¾å£ç¼–å·\n\t\tfor (let i = 0; i < sec.items.length; i += 3) {\n\t\t\tconst codeItem = sec.items[i + 1]; // ç¬¬2é¡¹æ˜¯æ’æ”¾å£ç¼–å·\n\t\t\tif (codeItem && codeItem.title === 'æ’æ”¾å£ç¼–å·') {\n\t\t\t\tconst code = codeItem.content || '';\n\t\t\t\t// æå–ç¼–å·ä¸­çš„æ•°å­—éƒ¨åˆ†ï¼ˆå¦‚ ZS-01 -> 1, DW001 -> 1ï¼‰\n\t\t\t\tconst match = code.match(/\\d+/);\n\t\t\t\tif (match) {\n\t\t\t\t\tconst num = parseInt(match[0], 10);\n\t\t\t\t\tif (num > maxNum) maxNum = num;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ç”Ÿæˆæ–°ç¼–å·\n\t\tlet code = '';\n\t\tif (block === 'åºŸæ°´') code = `DW${String(maxNum + 1).padStart(3,'0')}`;\n\t\telse if (block === 'åºŸæ°”') code = `DA${String(maxNum + 1).padStart(3,'0')}`;\n\t\telse if (block === 'å™ªå£°') code = `ZS-${String(maxNum + 1).padStart(2,'0')}`;\n\n\t\t/* ç»„è£…ä¸€ç»„ */\n\t\tconst group = [{\n\t\t\t\ttitle: 'å•ä½åç§°',\n\t\t\t\tcontent: unitName\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'æ’æ”¾å£ç¼–å·',\n\t\t\t\tcontent: code\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'æ±¡æŸ“å› å­',\n\t\t\t\tcontent: 'è®¾å¤‡å™ªå£°'\n\t\t\t}\n\t\t];\n\n\t\t/* è¿½åŠ åˆ°å½“å‰å— */\n\t\tsec.items.push(...group);\n\n\t\tuni.showToast({\n\t\t\ttitle: 'å·²æ·»åŠ æ–°æ’æ±¡å£',\n\t\t\ticon: 'success'\n\t\t});\n\t}\n\n\t// æŒ‰å—å†³å®šæ˜¯å¦ 3 æ¡ä¸€ç»„\n\tfunction groupItems(items, block) {\n\t\tif (block === 'å±é™©åºŸç‰©') return [items]; // æ•´åŒ…\n\t\tconst groups = [];\n\t\tfor (let i = 0; i < items.length; i += 3) {\n\t\t\tgroups.push(items.slice(i, i + 3));\n\t\t}\n\t\treturn groups;\n\t}\n\n\t// åˆ é™¤æŒ‡å®šç»„æ ‡è¯†ç‰Œä¿¡æ¯ï¼ˆ3 æ¡ï¼‰\n\tfunction removeGroup(section, groupIndex) {\n\t\t// å–æœ¬ç»„æ’æ”¾å£ç¼–å·ç”¨äºæç¤º\n\t\tconst start = groupIndex * 3;\n\t\tconst codeItem = section.items.slice(start, start + 3)\n\t\t\t.find(it => it.title === 'æ’æ”¾å£ç¼–å·');\n\t\tconst code = codeItem?.content || 'æœªçŸ¥ç¼–å·';\n\n\t\tuni.showModal({\n\t\t\ttitle: 'æ°¸ä¹…åˆ é™¤',\n\t\t\tcontent: `ç¡®å®šåˆ é™¤æ’æ±¡å£  ${code}  æ‰€æœ‰ä¿¡æ¯å—ï¼Ÿ`,\n\t\t\tconfirmText: 'ç¡®å®š',\n\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tsection.items.splice(start, 3);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// ä»baseTableä¸­æå–åŸºæœ¬ä¿¡æ¯\n\tfunction findBaseValue(label) {\n\t\tconst r = baseTable.value.find(x => x.label === label);\n\t\treturn r ? (r.value || '') : ''\n\t\tconsole.log(\"baseinfo\", baseTable.value)\n\t}\n\n\t// æ ‡è¯†ç‰Œä¸‹è½½(æ•°æ®jsonäº¤ç»™åç«¯)\n\tfunction downBiaoShi() {\n\t\t// æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†é¡¹ç›®\n\t\tif (!selectedProjectId.value) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'æç¤º',\n\t\t\t\tcontent: 'è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé¡¹ç›®',\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tuni.showLoading({\n\t\t\ttitle: 'æ­£åœ¨ç”Ÿæˆæ–‡æ¡£â€¦'\n\t\t});\n\t\tdownloadSignboardWord(signboard, selectedProjectId.value)\n\t\t\t.then(buf => {\n\t\t\t\tconst fileName = 'æ’æ±¡æ ‡è¯†ç‰Œ.docx';\n\t\t\t\t// #ifdef H5\n\t\t\t\tconst blob = new Blob([buf], {\n\t\t\t\t\ttype: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t});\n\t\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\t\tconst a = document.createElement('a');\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = 'æ’æ±¡æ ‡è¯†ç‰Œ.docx';\n\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\ta.click();\n\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t// å¾®ä¿¡å°ç¨‹åºï¼šå…ˆå†™ä¸´æ—¶æ–‡ä»¶å†æ‰“å¼€é¢„è§ˆ\n\t\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${fileName}`;\n\t\t\t\twx.getFileSystemManager().writeFile({\n\t\t\t\t\tfilePath,\n\t\t\t\t\tdata: buf,\n\t\t\t\t\tencoding: 'binary',\n\t\t\t\t\tsuccess: () => wx.openDocument({\n\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\tfileType: 'docx'\n\t\t\t\t\t}),\n\t\t\t\t\tfail: e => uni.showToast({\n\t\t\t\t\t\ttitle: 'ä¿å­˜å¤±è´¥',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t// App ç«¯ï¼šä¿å­˜åˆ° downloads ç›®å½•\n\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, fs => {\n\t\t\t\t\tconst fileEntry = fs.root.getFile(fileName, {\n\t\t\t\t\t\tcreate: true\n\t\t\t\t\t}, entry => {\n\t\t\t\t\t\tentry.createWriter(writer => {\n\t\t\t\t\t\t\twriter.write(buf);\n\t\t\t\t\t\t\twriter.onwrite = () => uni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'å·²ä¿å­˜åˆ°ä¸‹è½½ç›®å½•'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: err.message || 'ç”Ÿæˆå¤±è´¥',\n\t\t\t\t\tshowCancel: false\n\t\t\t\t});\n\t\t\t})\n\t\t\t.finally(() => uni.hideLoading());\n\t}\n\n\n\t// ä»¥ä¸‹ç›‘æµ‹æ–¹æ¡ˆæ¨¡å—çš„æ–¹æ³•-------------------------\n\tconst plan = ref(false)\n\tconst canDownload = ref(false) // æ˜¯å¦å·²ç”Ÿæˆç›‘æµ‹æ–¹æ¡ˆ\n\n\t// ç”Ÿæˆç›‘æµ‹æ–¹æ¡ˆ\n\tasync function saveMonitorPlan() {\n\t\tif (!selectedProjectId.value) return uni.showModal({\n\t\t\ttitle: 'æç¤º',\n\t\t\tcontent: 'è¯·å…ˆé€‰æ‹©é¡¹ç›®',\n\t\t\tshowCancel: false\n\t\t})\n\t\tif (!extractionOk.value) return uni.showModal({\n\t\t\ttitle: 'æç¤º',\n\t\t\tcontent: 'è¯·å…ˆæå–é¡¹ç›®ä¿¡æ¯',\n\t\t\tshowCancel: false\n\t\t})\n\n\t\tclearProgressTimer()\n\t\ttaskProgressTitle.value = 'ç›‘æµ‹æ–¹æ¡ˆç”Ÿæˆä¸­'\n\t\ttaskProgress.value = 0\n\t\ttaskState.value = 'pending'\n\t\ttaskProgressModal.value?.open()\n\n\t\ttry {\n\t\t\tawait generateMonitorPlan({\n\t\t\t\tprojectId: selectedProjectId.value,\n\t\t\t\tonProgress: (p, txt) => updateProgressSmooth(p, txt)\n\t\t\t})\n\t\t\t// ç”Ÿæˆå®Œåªå¼€ä¸‹è½½æƒé™\n\t\t\tcanDownload.value = true\n\t\t\ttaskProgressModal.value?.close()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ç”ŸæˆæˆåŠŸï¼Œå¯ä¸‹è½½æŠ¥å‘Š',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t\tplan.value = true\n\t\t} catch (e) {\n\t\t\tclearProgressTimer()\n\t\t\ttaskProgressModal.value?.close()\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ç”Ÿæˆå¤±è´¥',\n\t\t\t\tcontent: e.message || 'è¯·ç¨åé‡è¯•',\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t}\n\t}\n\n\t// ä¸‹è½½ç›‘æµ‹æ–¹æ¡ˆ\n\tasync function downloadPlan() {\n\t\tuni.showLoading({\n\t\t\ttitle: 'æ­£åœ¨ä¸‹è½½ç›‘æµ‹æ–¹æ¡ˆâ€¦',\n\t\t\tmask: true\n\t\t})\n\t\ttry {\n\t\t\tconst {\n\t\t\t\tab,\n\t\t\t\tfilename\n\t\t\t} = await downloadMonitorPlan(selectedProjectId.value)\n\t\t\tawait saveArrayBuffer(ab, filename) // å„ç«¯ç»Ÿä¸€ä¿å­˜\n\t\t\tuni.hideLoading()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'å·²ä¿å­˜ï¼š' + filename,\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tuni.hideLoading()\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ä¸‹è½½å¤±è´¥',\n\t\t\t\tcontent: e.message,\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t}\n\t}\n\n\t// å„ç«¯ä¿å­˜é€»è¾‘\n\tasync function saveArrayBuffer(arrayBuffer, filename) {\n\t\t// #ifdef H5\n\t\tconst blob = new Blob([arrayBuffer], {\n\t\t\ttype: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t})\n\t\tconst url = URL.createObjectURL(blob)\n\t\tconst a = document.createElement('a')\n\t\ta.href = url;\n\t\ta.download = filename\n\t\tdocument.body.appendChild(a);\n\t\ta.click();\n\t\tdocument.body.removeChild(a)\n\t\tURL.revokeObjectURL(url)\n\t\t// #endif\n\n\t\t// #ifdef MP-WEIXIN\n\t\tconst fs = wx.getFileSystemManager()\n\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${filename}`\n\t\tfs.writeFile({\n\t\t\tfilePath,\n\t\t\tdata: arrayBuffer,\n\t\t\tencoding: 'binary',\n\t\t\tsuccess: () => wx.openDocument({\n\t\t\t\tfilePath,\n\t\t\t\tfileType: 'docx'\n\t\t\t}),\n\t\t\tfail: () => uni.showToast({\n\t\t\t\ttitle: 'ä¿å­˜å¤±è´¥',\n\t\t\t\ticon: 'error'\n\t\t\t})\n\t\t})\n\t\t// #endif\n\n\t\t// #ifdef APP-PLUS\n\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, fs => {\n\t\t\tfs.root.getFile(filename, {\n\t\t\t\tcreate: true\n\t\t\t}, entry => {\n\t\t\t\tentry.createWriter(writer => {\n\t\t\t\t\twriter.write(arrayBuffer)\n\t\t\t\t\twriter.onwrite = () => uni.showToast({\n\t\t\t\t\t\ttitle: 'å·²ä¿å­˜åˆ°ä¸‹è½½ç›®å½•'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t\t// #endif\n\t}\n\n\t// ä»¥ä¸‹æèµ„å•æ¯”å¯¹çš„æ–¹æ³•-modify by wilson-------------------------\n\t// ä¸Šä¼ æèµ„å•æ–‡ä»¶\n\t// ä¸Šä¼ æèµ„å•æ–‡ä»¶\n\tasync function uploadTizidanFile(index) {\n\t\t// 1. é€‰æ‹©æ–‡ä»¶\n\t\tuni.chooseFile({\n\t\t\tcount: 1, // åªèƒ½é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶\n\t\t\textension: ['.doc', '.docx', '.pdf', '.xls', '.xlsx', '.png', '.jpg', '.jpeg'],\n\t\t\tsuccess: async (chooseRes) => {\n\t\t\t\tconst tempFile = chooseRes.tempFiles[0];\n\t\t\t\tconsole.log('é€‰æ‹©çš„æ–‡ä»¶:', tempFile);\n\n\t\t\t\t// 2. æ˜¾ç¤ºç¡®è®¤å¼¹çª—\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'ç¡®è®¤æäº¤',\n\t\t\t\t\tcontent: `æ‚¨ç¡®å®šè¦æäº¤ \"${tizidanItems.value[index].text}\" å¹¶ä¸Šä¼ æ–‡ä»¶ \"${tempFile.name}\" å—ï¼Ÿ`,\n\t\t\t\t\tsuccess: async (modalRes) => {\n\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t// 3. ä¸Šä¼ æ–‡ä»¶\n\t\t\t\t\t\t\tawait uploadAndSubmitFile(index, tempFile);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.error('é€‰æ‹©æ–‡ä»¶å¤±è´¥:', err);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'é€‰æ‹©æ–‡ä»¶å¤±è´¥',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// ä¸Šä¼ æ–‡ä»¶å¹¶æäº¤\n\tasync function uploadAndSubmitFile(index, file) {\n\t\tuni.showLoading({\n\t\t\ttitle: 'ä¸Šä¼ æ–‡ä»¶ä¸­...',\n\t\t\tmask: true\n\t\t});\n\n\t\ttry {\n\t\t\t// 1. ä¸Šä¼ æ–‡ä»¶\n\t\t\tconst uploadRes = await uploadFileToBackend(file, index);\n\n\t\t\tif (uploadRes.success) {\n\t\t\t\t// 2. ç›´æ¥æ›´æ–°å‰ç«¯çŠ¶æ€ï¼Œä¸å†è°ƒç”¨ submit-item æ¥å£\n\t\t\t\ttizidanItems.value[index].submitted = true;\n\n\t\t\t\t// 3. æ˜¾ç¤ºæˆåŠŸæç¤º\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'æäº¤æˆåŠŸ',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 2000\n\t\t\t\t});\n\n\t\t\t\t// 4. å¼¹å‡ºæˆåŠŸçª—å£\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æäº¤æˆåŠŸ',\n\t\t\t\t\tcontent: `æ–‡ä»¶ \"${file.name}\" ä¸Šä¼ æˆåŠŸï¼`,\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'ç¡®å®š'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthrow new Error(uploadRes.message || 'æ–‡ä»¶ä¸Šä¼ å¤±è´¥');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('æäº¤å¤±è´¥:', error);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'æäº¤å¤±è´¥ï¼š' + error.message,\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 3000\n\t\t\t});\n\t\t} finally {\n\t\t\tuni.hideLoading();\n\t\t}\n\t}\n\n\n\t// ä¸Šä¼ æ–‡ä»¶åˆ°åç«¯\n\tfunction uploadFileToBackend(file, index) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tuni.uploadFile({\n\t\t\t\turl: 'http://127.0.0.1:8000/api/v1/completion/tzdDetail/upload_file',\n\t\t\t\tfilePath: file.path,\n\t\t\t\tname: 'file',\n\t\t\t\tformData: {\n\t\t\t\t\titem_index: index,\n\t\t\t\t\titem_text: tizidanItems.value[index].text,\n\t\t\t\t\tuser_id: user_id,\n\t\t\t\t\tproject_id: project_id,\n\t\t\t\t},\n\t\t\t\tsuccess: (uploadRes) => {\n\t\t\t\t\tconsole.log('æ–‡ä»¶ä¸Šä¼ å“åº”:', uploadRes);\n\n\t\t\t\t\tif (uploadRes.statusCode === 200) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst data = JSON.parse(uploadRes.data);\n\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error('è§£æå“åº”å¤±è´¥:', e);\n\t\t\t\t\t\t\treject(new Error('æœåŠ¡å™¨å“åº”æ ¼å¼é”™è¯¯'));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(new Error(`ä¸Šä¼ å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š${uploadRes.statusCode}`));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('ä¸Šä¼ è¯·æ±‚å¤±è´¥:', err);\n\t\t\t\t\treject(new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥'));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\n\t// æèµ„å•æ•°æ®\n\tconst tizidanItems = ref([])\n\tconst downloadUrls = ref({\n\t\tTiZiDan_Doc: '',\n\t\tcomparison_list: ''\n\t})\n\n\t//by wilson è·å–user_idå’Œproject_idä»æœ¬åœ°ç¼“å­˜uni.getStorageSync\n\t// è·å–é¡¹ç›®ID\n\tconst project_id = uni.getStorageSync('acceptance_project_id')\n\tconst userInfoStr = uni.getStorageSync('userInfo')\n\tconst userInfo = userInfoStr ? JSON.parse(userInfoStr) : null\n\t// è·å–user_id \n\tconst user_id = userInfo?.id || userInfo?.user_id\n\tconsole.log(\"test wilson userid\",user_id)\n\tconsole.log(\"test project_id\",project_id)\n\t\n\t// è·å–æèµ„å•æ•°æ® åœ¨ fetchTizidanData å‡½æ•°ä¸­ä¿®æ”¹ä¸‹è½½URLçš„èµ‹å€¼é€»è¾‘\n\tasync function fetchTizidanData() {\n\n\t\ttry {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: 'åŠ è½½ä¸­...'\n\t\t\t})\n\t\t\t\n\t\t\tconst response = await new Promise((resolve, reject) => {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'http://127.0.0.1:8000/api/v1/completion/tzdDetail/datasheet',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\ttimeout: 1000,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuser_id: user_id,\n\t\t\t\t\t\tproject_id: project_id,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('è¯·æ±‚æˆåŠŸ:', res)\n\t\t\t\t\t\tresolve(res)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('è¯·æ±‚å¤±è´¥:', err)\n\t\t\t\t\t\treject(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tif (response && response.statusCode === 200) {\n\t\t\t\tconst data = response.data\n\n\t\t\t\tif (!data.items || !Array.isArray(data.items)) {\n\t\t\t\t\tthrow new Error('æ•°æ®æ ¼å¼ä¸æ­£ç¡®: items ä¸å­˜åœ¨æˆ–ä¸æ˜¯æ•°ç»„')\n\t\t\t\t}\n\n\t\t\t\ttizidanItems.value = data.items\n\t\t\t\tconsole.log(\"test\", data.download_urls)\n\n\n\n\t\t\t\tconst downloadUrlsData = data.download_urls || {}\n\t\t\t\tdownloadUrls.value = {\n\t\t\t\t\tTiZiDan_Doc: formatDownloadUrl(downloadUrlsData.TiZiDan_Doc),\n\t\t\t\t\tcomparison_list: formatDownloadUrl(downloadUrlsData.comparison_list)\n\t\t\t\t}\n\n\t\t\t\tconsole.log('ä¸‹è½½URLè®¾ç½®:', downloadUrls.value)\n\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'æ•°æ®åŠ è½½æˆåŠŸ',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthrow new Error(`è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š${response?.statusCode || 'æœªçŸ¥'}`)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('è·å–æèµ„å•æ•°æ®å¤±è´¥:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'åŠ è½½å¤±è´¥ï¼Œè¯·é‡æ–°åˆ·æ–°ï¼',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 3000\n\t\t\t})\n\t\t\ttizidanItems.value = []\n\t\t\tdownloadUrls.value = {\n\t\t\t\tTiZiDan_Doc: '',\n\t\t\t\tcomparison_list: ''\n\t\t\t}\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\n\t// ä¸‹è½½éªŒæ”¶æŠ¥å‘Šæèµ„å•\n\tasync function downloadTizidanFile() {\n\t\tif (!selectedProjectId.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'è¯·å…ˆé€‰æ‹©é¡¹ç›®',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\n\t\t// æ˜¾ç¤ºä¸‹è½½ä¸­æç¤º\n\t\tuni.showLoading({\n\t\t\ttitle: 'æ­£åœ¨ç”Ÿæˆæ–‡æ¡£â€¦',\n\t\t\tmask: true\n\t\t})\n\n\n\t\ttry {\n\t\t\t// è°ƒç”¨åç«¯ä¸‹è½½æ¥å£\n\t\t\tconst url =\n\t\t\t\t`http://127.0.0.1:8000/api/v1/completion/tzdDetail/download_tzd_doc?user_id=${user_id}&project_id=${project_id}`\n\n\t\t\t// #ifdef H5\n\t\t\t// H5ç¯å¢ƒï¼šç›´æ¥æ‰“å¼€é“¾æ¥\n\t\t\twindow.open(url, '_blank')\n\t\t\t// #endif\n\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\t// å¾®ä¿¡å°ç¨‹åºç¯å¢ƒï¼šä½¿ç”¨uni.downloadFile\n\t\t\tconst downloadTask = uni.downloadFile({\n\t\t\t\turl: url,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\tconst filePath = res.tempFilePath\n\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\ttempFilePath: filePath,\n\t\t\t\t\t\t\tsuccess: (saveRes) => {\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶ä¿å­˜æˆåŠŸ:', saveRes.savedFilePath)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å·²ä¿å­˜',\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (saveErr) => {\n\t\t\t\t\t\t\t\tconsole.error('ä¿å­˜æ–‡ä»¶å¤±è´¥:', saveErr)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'ä¿å­˜å¤±è´¥',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(`ä¸‹è½½å¤±è´¥ï¼ŒçŠ¶æ€ç : ${res.statusCode}`)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tthrow new Error('ä¸‹è½½è¯·æ±‚å¤±è´¥: ' + (err.errMsg || 'æœªçŸ¥é”™è¯¯'))\n\t\t\t\t}\n\t\t\t})\n\t\t\t// #endif\n\n\t\t\t// #ifdef APP-PLUS\n\t\t\t// Appç¯å¢ƒï¼šä½¿ç”¨plus.downloader\n\t\t\tconst dtask = plus.downloader.createDownload(url, {}, (d, status) => {\n\t\t\t\tif (status == 200) {\n\t\t\t\t\tconsole.log('ä¸‹è½½æˆåŠŸï¼š' + d.filename)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'ä¸‹è½½æˆåŠŸ',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('ä¸‹è½½å¤±è´¥ï¼š' + status)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'ä¸‹è½½å¤±è´¥',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tdtask.start()\n\t\t\t// #endif\n\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'å¼€å§‹ä¸‹è½½',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\n\t\t} catch (error) {\n\t\t\tconsole.error('ä¸‹è½½å¤±è´¥:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ä¸‹è½½å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'),\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 3000\n\t\t\t})\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\n\n\t// æ·»åŠ URLæ ¼å¼åŒ–å‡½æ•°ï¼Œç¡®ä¿URLæ ¼å¼æ­£ç¡®\n\tfunction formatDownloadUrl(url) {\n\t\tif (!url) return ''\n\n\t\t// å¦‚æœURLæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ·»åŠ åŸºç¡€URL\n\t\tif (url.startsWith('/')) {\n\t\t\treturn `http://127.0.0.1:8000${url}`\n\t\t}\n\n\t\t// å¦‚æœURLå·²ç»æ˜¯å®Œæ•´è·¯å¾„ï¼Œç›´æ¥è¿”å›\n\t\tif (url.startsWith('http://') || url.startsWith('https://')) {\n\t\t\treturn url\n\t\t}\n\t\treturn url\n\t}\n\t// ä¸‹è½½æèµ„å¯¹æ¯”æ¸…å•\n\n\t// ä¿®æ”¹ä¸‹è½½æ–‡ä»¶å‡½æ•°ï¼Œé€‚é…ä¸åŒå¹³å°\n\tasync function downloadFile(url, filename) {\n\t\tif (!url) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ä¸‹è½½é“¾æ¥ä¸å­˜åœ¨',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// æ˜¾ç¤ºä¸‹è½½ä¸­æç¤º\n\t\tuni.showLoading({\n\t\t\ttitle: 'ä¸‹è½½ä¸­...',\n\t\t\tmask: true\n\t\t})\n\n\t\ttry {\n\t\t\t// #ifdef H5\n\t\t\t// H5ç¯å¢ƒï¼šä½¿ç”¨aæ ‡ç­¾ä¸‹è½½\n\t\t\tawait downloadFileH5(url, filename)\n\t\t\t// #endif\n\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\t// å¾®ä¿¡å°ç¨‹åºç¯å¢ƒ\n\t\t\tawait downloadFileWechat(url, filename)\n\t\t\t// #endif\n\n\t\t\t// #ifdef APP-PLUS\n\t\t\t// Appç¯å¢ƒ\n\t\t\tawait downloadFileApp(url, filename)\n\t\t\t// #endif\n\n\t\t\tuni.hideLoading()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ä¸‹è½½æˆåŠŸ',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\n\t\t} catch (error) {\n\t\t\tuni.hideLoading()\n\t\t\tconsole.error('ä¸‹è½½å¤±è´¥:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ä¸‹è½½å¤±è´¥: ' + (error.message || 'æœªçŸ¥é”™è¯¯'),\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 3000\n\t\t\t})\n\t\t}\n\t}\n\n\t// H5ç¯å¢ƒä¸‹è½½\n\tfunction downloadFileH5(url, filename) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst a = document.createElement('a')\n\t\t\t\ta.href = url\n\t\t\t\ta.download = filename || 'download'\n\t\t\t\ta.style.display = 'none'\n\n\t\t\t\tdocument.body.appendChild(a)\n\t\t\t\ta.click()\n\t\t\t\tdocument.body.removeChild(a)\n\n\t\t\t\t// H5ä¸‹è½½æ— æ³•å‡†ç¡®åˆ¤æ–­æ˜¯å¦æˆåŠŸï¼Œå»¶è¿Ÿä¸€ä¸‹å†resolve\n\t\t\t\tsetTimeout(resolve, 1000)\n\t\t\t} catch (error) {\n\t\t\t\treject(error)\n\t\t\t}\n\t\t})\n\t}\n\n\t// å¾®ä¿¡å°ç¨‹åºç¯å¢ƒä¸‹è½½\n\tfunction downloadFileWechat(url, filename) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tuni.downloadFile({\n\t\t\t\turl: url,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\t// ä¸‹è½½æˆåŠŸï¼Œä¿å­˜åˆ°æœ¬åœ°\n\t\t\t\t\t\tconst filePath = res.tempFilePath\n\t\t\t\t\t\tuni.saveFile({\n\t\t\t\t\t\t\ttempFilePath: filePath,\n\t\t\t\t\t\t\tsuccess: (saveRes) => {\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶ä¿å­˜æˆåŠŸ:', saveRes.savedFilePath)\n\t\t\t\t\t\t\t\tresolve(saveRes)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (saveErr) => {\n\t\t\t\t\t\t\t\treject(new Error('ä¿å­˜æ–‡ä»¶å¤±è´¥: ' + (saveErr.errMsg || 'æœªçŸ¥é”™è¯¯')))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(new Error(`ä¸‹è½½å¤±è´¥ï¼ŒçŠ¶æ€ç : ${res.statusCode}`))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\treject(new Error('ä¸‹è½½è¯·æ±‚å¤±è´¥: ' + (err.errMsg || 'æœªçŸ¥é”™è¯¯')))\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t// Appç¯å¢ƒä¸‹è½½\n\tfunction downloadFileApp(url, filename) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tuni.downloadFile({\n\t\t\t\turl: url,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\t// åœ¨Appä¸­ï¼Œä¸‹è½½çš„æ–‡ä»¶ä¼šä¿å­˜åˆ°ç³»ç»Ÿä¸‹è½½ç›®å½•\n\t\t\t\t\t\t// å¯ä»¥æç¤ºç”¨æˆ·æŸ¥çœ‹ä¸‹è½½ç›®å½•\n\t\t\t\t\t\tresolve(res)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(new Error(`ä¸‹è½½å¤±è´¥ï¼ŒçŠ¶æ€ç : ${res.statusCode}`))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\treject(new Error('ä¸‹è½½è¯·æ±‚å¤±è´¥: ' + (err.errMsg || 'æœªçŸ¥é”™è¯¯')))\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\n\t// ç›‘å¬æ­¥éª¤å˜åŒ–\n\twatch(currentStep, (newVal) => {\n\t\tif (newVal === 2) {\n\t\t\t// è¿›å…¥æèµ„å•æ¯”å¯¹æ­¥éª¤æ—¶è·å–æ•°æ®\n\t\t\tfetchTizidanData()\n\t\t}\n\t})\n\n\tconst baseTable = ref([])\n\tconst datasheet = ref([])\n\t\n\n\t// é€‰æ‹©åˆ é™¤æ¨¡å¼\n\tconst selectMode = ref(false)\n\tconst selectedIds = ref([])\n\n\tfunction toggleSelectMode() {\n\t\tselectMode.value = !selectMode.value;\n\t\tif (!selectMode.value) selectedIds.value = []\n\t}\n\n\tfunction toggleSelected(id) {\n\t\tconst arr = selectedIds.value;\n\t\tconst i = arr.indexOf(id);\n\t\tif (i >= 0) arr.splice(i, 1);\n\t\telse arr.push(id)\n\t}\n\n\tfunction removeSelected() {\n\t\tif (!selectedIds.value.length) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'æœªé€‰æ‹©',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tconst names = baseTable.value\n\t\t\t.filter(r => selectedIds.value.includes(r.id))\n\t\t\t.map(r => (r.label || 'ï¼ˆæœªå‘½åï¼‰').trim())\n\n\t\tconst preview =\n\t\t\tnames.length === 1 ?\n\t\t\t`ç¡®è®¤è¦åˆ é™¤ã€Œ${names[0]}ã€å—ï¼Ÿ` :\n\t\t\t(() => {\n\t\t\t\tconst max = 8\n\t\t\t\tconst head = names.slice(0, max).map(n => `â€¢ ${n}`).join('\\n')\n\t\t\t\tconst tail = names.length > max ? `\\nâ€¦ ç­‰ ${names.length} é¡¹` : ''\n\t\t\t\treturn `ç¡®è®¤è¦åˆ é™¤ä»¥ä¸‹ ${names.length} ä¸ªä¿¡æ¯å—ï¼Ÿ\\n${head}${tail}`\n\t\t\t})()\n\n\t\tuni.showModal({\n\t\t\ttitle: 'ç¡®è®¤åˆ é™¤',\n\t\t\tcontent: preview,\n\t\t\tconfirmText: 'åˆ é™¤',\n\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tbaseTable.value = baseTable.value.filter(\n\t\t\t\t\t\tr => !selectedIds.value.includes(r.id)\n\t\t\t\t\t)\n\t\t\t\t\tselectedIds.value = []\n\t\t\t\t\tselectMode.value = false\n\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `å·²åˆ é™¤ ${names.length} é¡¹`,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\n\t// ä»¥ä¸‹ç°åœºè¸å‹˜æ¯”å¯¹çš„æ–¹æ³•-------------------------\n\t// ç°åœºè¸å‹˜æ¨¡å—å·²æ‹†åˆ†åˆ°ç‹¬ç«‹ç»„ä»¶ï¼Œä½¿ç”¨ useFieldSurveyData composable ç®¡ç†çŠ¶æ€\n\tconst fieldSurveyData = useFieldSurveyData()\n\n\n\n\t// ä»¥ä¸‹æ˜¯ç«£å·¥éªŒæ”¶æŠ¥å‘Šçš„æ–¹æ³•-------------------------\n\tconst reportType = ref('withoutData')\n\tconst testReportFiles = ref([])\n\tconst canDownloadReport = ref(false) // æ˜¯å¦å·²ç”Ÿæˆç«£å·¥éªŒæ”¶æŠ¥å‘Š\n\tconst previewTitle = ref(\"\")\n\n\t//é€‰æ‹©æœ‰æ— ç›‘æµ‹æ–¹æ¡ˆæŠ¥å‘Š\n\tconst reportGenerated = ref(false)\n\tconst reportTypes = [{\n\t\t\tvalue: 'withoutData',\n\t\t\ttext: 'æ— æ£€æµ‹æ•°æ®æŠ¥å‘Š'\n\t\t},\n\t\t{\n\t\t\tvalue: 'withData',\n\t\t\ttext: 'æœ‰æ£€æµ‹æ•°æ®æŠ¥å‘Š'\n\t\t}\n\t]\n\n\t// åˆ‡æ¢æŠ¥å‘Šç±»å‹\n\tfunction onReportTypeChange(e) {\n\t\treportType.value = e.detail.value\n\t}\n\n\t// ç”Ÿæˆç«£å·¥éªŒæ”¶æŠ¥å‘Š\n\tasync function generateAcceptanceReport() {\n\t\tif (!selectedProjectId.value) return uni.showModal({\n\t\t\ttitle: 'æç¤º',\n\t\t\tcontent: 'è¯·å…ˆé€‰æ‹©é¡¹ç›®',\n\t\t\tshowCancel: false\n\t\t})\n\t\tif (!extractionOk.value) return uni.showModal({\n\t\t\ttitle: 'æç¤º',\n\t\t\tcontent: 'è¯·å…ˆæå–é¡¹ç›®ä¿¡æ¯',\n\t\t\tshowCancel: false\n\t\t})\n\t\tif (reportType.value === 'withData' && !testReportFiles.value.length) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'æœ‰ç›‘æµ‹æ•°æ®æŠ¥å‘Šï¼Œå¿…é¡»è¦å…ˆä¸Šä¼ ç›‘æµ‹æŠ¥å‘Š',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tclearProgressTimer()\n\t\ttaskProgressTitle.value = 'ç«£å·¥éªŒæ”¶æŠ¥å‘Šç”Ÿæˆä¸­'\n\t\ttaskProgress.value = 0\n\t\ttaskState.value = 'pending'\n\t\ttaskProgressModal.value?.open()\n\n\t\ttry {\n\t\t\tawait generateReport({\n\t\t\t\tprojectId: selectedProjectId.value,\n\t\t\t\tonProgress: (p, txt) => updateProgressSmooth(p, txt)\n\t\t\t})\n\t\t\t// ç”Ÿæˆå®Œåªå¼€ä¸‹è½½æƒé™\n\t\t\tcanDownloadReport.value = true\n\t\t\ttaskProgressModal.value?.close()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ç”ŸæˆæˆåŠŸï¼Œå¯ä¸‹è½½æŠ¥å‘Š',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t\tpreviewTitle.value = 'æ— ç›‘æµ‹æ•°æ®çš„ç«£å·¥éªŒæ”¶æŠ¥å‘Šå·²ç”Ÿæˆï¼Œè¯·ç‚¹å‡»ä¸‹è½½ï¼'\n\t\t\treportGenerated.value = true\n\t\t} catch (e) {\n\t\t\tclearProgressTimer()\n\t\t\ttaskProgressModal.value?.close()\n\n\t\t\t// å…ˆæŠŠåç«¯è¿”å›çš„å®Œæ•´é”™è¯¯æ‰“å°å‡ºæ¥\n\t\t\tconsole.error('ç”ŸæˆæŠ¥å‘Šå¤±è´¥', e, e.response?.data)\n\n\t\t\t// åªå–äººç±»å¯è¯»éƒ¨åˆ†\n\t\t\tlet msg = e.message || 'è¯·ç¨åé‡è¯•'\n\t\t\tif (Array.isArray(e.response?.data?.detail)) {\n\t\t\t\t// FastAPI 422 é»˜è®¤è¿”å› {detail:[{loc:[],msg:'xxx',type:''},...]}\n\t\t\t\tmsg = e.response.data.detail.map(d => d.msg).join('ï¼›')\n\t\t\t} else if (typeof e.response?.data === 'string') {\n\t\t\t\tmsg = e.response.data\n\t\t\t}\n\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ç”Ÿæˆå¤±è´¥',\n\t\t\t\tcontent: msg,\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t}\n\t}\n\n\t// ä¸‹è½½ç›‘æµ‹æ–¹æ¡ˆ\n\tasync function downAcceptanceReport() {\n\t\tuni.showLoading({\n\t\t\ttitle: 'æ­£åœ¨ç«£å·¥éªŒæ”¶æŠ¥å‘Šâ€¦',\n\t\t\tmask: true\n\t\t})\n\t\ttry {\n\t\t\tconst {\n\t\t\t\tab,\n\t\t\t\tfilename\n\t\t\t} = await downloadReport(selectedProjectId.value)\n\t\t\tawait saveArrayBuffer(ab, filename) // å„ç«¯ç»Ÿä¸€ä¿å­˜\n\t\t\tuni.hideLoading()\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'å·²ä¿å­˜ï¼š' + filename,\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tuni.hideLoading()\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ä¸‹è½½å¤±è´¥',\n\t\t\t\tcontent: e.message,\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t/* ========== è®¾è®¡ä»¤ç‰Œï¼ˆç»Ÿä¸€é£æ ¼ï¼‰ ========== */\n\t$brand: #166534; // ä¸»è‰²ï¼ˆæ·±ç»¿ï¼‰\n\t$brand-600: #17834a;\n\t$brand-50: #ecfdf5;\n\t$ink: #0f172a; // æ ‡é¢˜\n\t$muted: #5b6b7b; // æ¬¡æ–‡æœ¬\n\t$line: #e6eaf0; // ç»†çº¿\n\t$bg: #f6f8fb; // èƒŒæ™¯\n\t$white: #ffffff;\n\t$danger: #d92d20;\n\t$warning: #fb923c;\n\n\t$radius: 14rpx;\n\t$radius-lg: 18rpx;\n\t$shadow-sm: 0 2rpx 10rpx rgba(16, 24, 40, .06);\n\t$shadow-md: 0 6rpx 24rpx rgba(16, 24, 40, .08);\n\n\t/* ========== é¡µé¢æ¡†æ¶ ========== */\n\t.acceptance-page {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t\tbackground: $bg;\n\t}\n\n\n\t/* ç»Ÿä¸€æŒ‰é’®ä½“ç³» */\n\t.btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 0 22rpx;\n\t\theight: 64rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t\tbackground: $white;\n\t\tcolor: #374151;\n\t\ttransition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;\n\t}\n\n\t:deep(.uni-button.btn.btn--secondary::after) {\n\t\tborder-radius: $radius;\n\t}\n\n\t.btn:active {\n\t\ttransform: translateY(1rpx);\n\t}\n\n\t.btn[disabled] {\n\t\topacity: .6;\n\t\tpointer-events: none;\n\t}\n\n\t.btn--primary {\n\t\tbackground: $brand;\n\t\tcolor: $white;\n\t\tborder-color: $brand;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(22, 101, 52, .22);\n\t}\n\n\t.btn--secondary {\n\t\tbackground: #f8fafc;\n\t\tcolor: #155e3b;\n\t\tborder-color: #dbe3ea;\n\t}\n\n\t.btn--ghost {\n\t\tbackground: $white;\n\t\tcolor: $muted;\n\t\tborder-color: #e9edf2;\n\t}\n\n\t.btn--danger {\n\t\tbackground: $danger;\n\t\tcolor: $white;\n\t\tborder-color: $danger;\n\t}\n\n\t.btn--danger-ghost {\n\t\tbackground: #fef3f2;\n\t\tcolor: $danger;\n\t\tborder-color: #fde2e1;\n\t}\n\n\t/* æ­¥éª¤å¯¼èˆª */\n\t.acceptance-steps {\n\t\tbackground: $white;\n\t\tborder-bottom: 1rpx solid #f2f4f7;\n\t\tpadding: 18rpx 24rpx;\n\t}\n\n\t.steps-container {\n\t\tmax-width: 1200rpx;\n\t\tmargin: 0 auto;\n\t}\n\n\t.mobile-step-select {\n\t\twidth: 100%;\n\t}\n\n\t.desktop-steps {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.step-item {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tpadding: 14rpx 18rpx;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid transparent;\n\t\ttransition: background .2s ease, border-color .2s ease;\n\t}\n\n\t.step-item--active {\n\t\tbackground: #f3faf6;\n\t\tborder-color: #def7ec;\n\t}\n\n\t.step-item--completed .step-indicator {\n\t\tbackground: #10b981;\n\t\tcolor: $white;\n\t}\n\n\t.step-indicator {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: #eef2f6;\n\t\tcolor: $muted;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 20rpx;\n\t\tfont-weight: 700;\n\t\tflex-shrink: 0;\n\t}\n\n\t.step-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: #344054;\n\t\tfont-weight: 600;\n\t}\n\n\t.step-connector {\n\t\twidth: 20rpx;\n\t\theight: 2rpx;\n\t\tbackground: #e3e8ef;\n\t\tmargin-left: 4rpx;\n\t\tborder-radius: 1rpx;\n\t}\n\n\t/* ä¸»ä½“ */\n\t.acceptance-content {\n\t\tflex: 1;\n\t\tpadding: 20rpx 24rpx;\n\t\tmin-height: 0;\n\t}\n\n\t.content-scroll {\n\t\theight: 100%;\n\t}\n\n\t.content-section {\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.section-card {\n\t\tbackground: $white;\n\t\tborder-radius: $radius-lg;\n\t\tbox-shadow: $shadow-md;\n\t\tborder: 1rpx solid #eef2f6;\n\t\toverflow: hidden;\n\t}\n\n\t.section-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tpadding: 24rpx 24rpx 0;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t\tletter-spacing: .2rpx;\n\t}\n\n\t.section-body {\n\t\tpadding: 0 24rpx 24rpx;\n\t}\n\n\t/* è‡ªå®šä¹‰é¡¹ç›®é€‰æ‹©å™¨è§¦å‘æŒ‰é’® */\n\t.project-selector {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 24rpx;\n\t\tbackground: $white;\n\t\tborder: 2rpx solid #e5e7eb;\n\t\tborder-radius: $radius;\n\t\tcursor: pointer;\n\t\ttransition: all 0.2s ease;\n\t\tmin-height: 100rpx;\n\t}\n\n\t.project-selector:active {\n\t\tbackground: #f9fafb;\n\t\tborder-color: $brand;\n\t}\n\n\t.selector-content {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.selected-project {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 16rpx;\n\t}\n\n\t.project-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 6rpx;\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.project-name {\n\t\tfont-size: 28rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 600;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.project-desc {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.placeholder {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\n\t.placeholder-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #9ca3af;\n\t}\n\n\t/* é¡¹ç›®é€‰æ‹©å™¨å¼¹çª—æ ·å¼ */\n\t.project-picker-modal {\n\t\twidth: 90vw;\n\t\tmax-width: 700rpx;\n\t\tmax-height: 80vh;\n\t\tbackground: $white;\n\t\tborder-radius: 24rpx;\n\t\toverflow: hidden;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbox-shadow: 0 20rpx 60rpx rgba(0, 0, 0, 0.15);\n\t}\n\n\t.picker-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 32rpx 32rpx 24rpx;\n\t\tborder-bottom: 2rpx solid #f3f4f6;\n\t\tbackground: linear-gradient(135deg, #f8fafb 0%, #ffffff 100%);\n\t}\n\n\t.picker-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t.picker-close {\n\t\twidth: 48rpx;\n\t\theight: 48rpx;\n\t\tborder-radius: 12rpx;\n\t\tbackground: #f3f4f6;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all 0.2s ease;\n\t}\n\n\t.picker-close:active {\n\t\tbackground: #e5e7eb;\n\t\ttransform: scale(0.95);\n\t}\n\n\t.picker-search {\n\t\tpadding: 24rpx 32rpx;\n\t\tbackground: $white;\n\t\tborder-bottom: 2rpx solid #f3f4f6;\n\t}\n\n\t.picker-stats {\n\t\tpadding: 16rpx 32rpx;\n\t\tbackground: #f9fafb;\n\t\tborder-bottom: 1rpx solid #e5e7eb;\n\t}\n\n\t.stats-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t}\n\n\t.stats-highlight {\n\t\tcolor: $brand;\n\t\tfont-weight: 600;\n\t}\n\n\t.picker-list {\n\t\tflex: 1;\n\t\tmin-height: 0;\n\t\tmax-height: 60vh;\n\t\tpadding: 16rpx 0;\n\t}\n\n\t.picker-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 20rpx;\n\t\tpadding: 24rpx 32rpx;\n\t\tmargin: 0 16rpx 12rpx;\n\t\tbackground: $white;\n\t\tborder: 2rpx solid #f3f4f6;\n\t\tborder-radius: 16rpx;\n\t\ttransition: all 0.2s ease;\n\t\tcursor: pointer;\n\t}\n\n\t.picker-item:active {\n\t\ttransform: translateY(-2rpx);\n\t\tbox-shadow: 0 8rpx 20rpx rgba(22, 101, 52, 0.08);\n\t}\n\n\t.picker-item--active {\n\t\tbackground: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);\n\t\tborder-color: $brand;\n\t\tbox-shadow: 0 4rpx 16rpx rgba(22, 101, 52, 0.12);\n\t}\n\n\t.picker-item-icon {\n\t\tflex-shrink: 0;\n\t\twidth: 56rpx;\n\t\theight: 56rpx;\n\t\tborder-radius: 12rpx;\n\t\tbackground: #f3f4f6;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.picker-item--active .picker-item-icon {\n\t\tbackground: linear-gradient(135deg, $brand 0%, $brand-600 100%);\n\t}\n\n\t.picker-item--active .picker-item-icon uni-icons {\n\t\tcolor: $white !important;\n\t}\n\n\t.picker-item-content {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t}\n\n\t.picker-item-name {\n\t\tfont-size: 28rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 600;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.picker-item--active .picker-item-name {\n\t\tcolor: $brand;\n\t}\n\n\t.picker-item-desc {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.picker-item-meta {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tmargin-top: 4rpx;\n\t}\n\n\t.meta-text {\n\t\tfont-size: 22rpx;\n\t\tcolor: #9ca3af;\n\t}\n\n\t.picker-item-action {\n\t\tflex-shrink: 0;\n\t}\n\n\t.selected-badge {\n\t\twidth: 40rpx;\n\t\theight: 40rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: linear-gradient(135deg, $brand 0%, $brand-600 100%);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(22, 101, 52, 0.3);\n\t}\n\n\t.picker-empty {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 16rpx;\n\t\tpadding: 80rpx 32rpx;\n\t\ttext-align: center;\n\t}\n\n\t.picker-empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #64748b;\n\t\tfont-weight: 600;\n\t}\n\n\t.picker-empty-tip {\n\t\tfont-size: 24rpx;\n\t\tcolor: #9ca3af;\n\t}\n\n\n\t/* è¡¨å• */\n\t.form-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.form-label {\n\t\tfont-size: 28rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t.form-tip {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t}\n\n\t.action-row {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tmargin-top: 16rpx;\n\t}\n\n\t.section-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tmargin: 12rpx 0 18rpx;\n\t\tflex-wrap: wrap;\n\t}\n\n\t/* å­å—æ ‡é¢˜ */\n\t.subsection {\n\t\tmargin-top: 24rpx;\n\t\tpadding-top: 24rpx;\n\t\tborder-top: 1rpx solid #f1f5f9;\n\t}\n\n\t.subsection-head {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tmargin-bottom: 14rpx;\n\t}\n\n\t.subsection-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t/* è¡¨æ ¼ï¼ˆæ¡Œé¢ç½‘æ ¼ã€ç§»åŠ¨å¡ç‰‡åŒ–ï¼‰ */\n\t.data-table {\n\t\tborder: 1rpx solid #e6ebf1;\n\t\tborder-radius: $radius;\n\t\toverflow: hidden;\n\t}\n\n\t.table-header {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 120rpx 1fr 120rpx 80rpx;\n\t\tbackground: #f8fafc;\n\t\tborder-bottom: 1rpx solid #e6ebf1;\n\t}\n\n\t.table-header--dense {\n\t\tgrid-template-columns: 160rpx 1fr 140rpx 120rpx 100rpx;\n\t}\n\n\t.table-th {\n\t\tpadding: 18rpx 14rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #475569;\n\t\tfont-weight: 700;\n\t\tborder-right: 1rpx solid #e6ebf1;\n\t}\n\n\t.table-th:last-child {\n\t\tborder-right: none;\n\t}\n\n\t.table-body {\n\t\tbackground: $white;\n\t}\n\n\t.table-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 120rpx 1fr 120rpx 80rpx;\n\t\tborder-bottom: 1rpx solid #f2f4f7;\n\t}\n\n\t.table-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.table-row--simple {\n\t\tgrid-template-columns: 1fr 100rpx;\n\t}\n\n\t.table-td {\n\t\tpadding: 16rpx 14rpx;\n\t\tborder-right: 1rpx solid #f7f8fa;\n\t\tmin-height: 76rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.table-td:last-child {\n\t\tborder-right: none;\n\t}\n\n\t.table-td--section {\n\t\tfont-weight: 700;\n\t\tcolor: #0f172a;\n\t}\n\n\t/* å›¾æ ‡æŒ‰é’®ï¼ˆè¡¨æ ¼å†…ï¼‰ */\n\t.icon-btn {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tborder-radius: 10rpx;\n\t\tborder: 1rpx solid #edf1f5;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground: $white;\n\t}\n\n\t.icon-btn:active {\n\t\tbackground: #f3f6fa;\n\t}\n\n\t/* é¡¹ç›®æ–‡ä»¶åˆ—è¡¨æ ·å¼ */\n\t.file-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t\tmargin-top: 24rpx;\n\t}\n\n\t.file-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 24rpx;\n\t\tbackground: #f8fafb;\n\t\tborder-radius: 16rpx;\n\t\tborder: 2rpx solid #e5e9ed;\n\t\ttransition: all 0.2s;\n\t}\n\n\t.file-item:hover {\n\t\tbackground: #f3f6f9;\n\t\tborder-color: #d1dce5;\n\t}\n\n\t.file-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 20rpx;\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.file-details {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.file-name {\n\t\tfont-size: 28rpx;\n\t\tcolor: #1f2937;\n\t\tfont-weight: 500;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t}\n\n\t.file-meta {\n\t\tfont-size: 24rpx;\n\t\tcolor: #6b7280;\n\t}\n\n\t.file-status {\n\t\tflex-shrink: 0;\n\t\tmargin-left: 20rpx;\n\t}\n\n\t.status-badge {\n\t\tdisplay: inline-block;\n\t\tpadding: 8rpx 20rpx;\n\t\tborder-radius: 24rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t\twhite-space: nowrap;\n\t}\n\n\t.status-uploaded {\n\t\tbackground: #e0f2fe;\n\t\tcolor: #0369a1;\n\t}\n\n\t.status-processing {\n\t\tbackground: #fef3c7;\n\t\tcolor: #d97706;\n\t}\n\n\t.status-success {\n\t\tbackground: #d1fae5;\n\t\tcolor: #065f46;\n\t}\n\n\t.status-error {\n\t\tbackground: #fee2e2;\n\t\tcolor: #dc2626;\n\t}\n\n\t/* è®¾æ–½å¡ç‰‡åˆ—è¡¨æ ·å¼ */\n\t.facility-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t\tmargin-top: 24rpx;\n\t}\n\n\t.facility-card {\n\t\tbackground: #ffffff;\n\t\tborder: 2rpx solid #e5e7eb;\n\t\tborder-radius: 16rpx;\n\t\toverflow: hidden;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.facility-card:hover {\n\t\tborder-color: #16a34a;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(22, 163, 74, 0.1);\n\t}\n\n\t.facility-card__header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 20rpx 24rpx;\n\t\tbackground: #f0fdf4 0%;\n\t\tborder-bottom: 2rpx solid #bbf7d0;\n\t}\n\n\t.facility-card__number {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 56rpx;\n\t\theight: 56rpx;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 12rpx;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(22, 101, 52, 0.1);\n\t}\n\n\t.facility-card__number-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 700;\n\t\tcolor: #166534;\n\t}\n\n\t.facility-card__delete {\n\t\twidth: 56rpx;\n\t\theight: 56rpx;\n\t\tborder-radius: 12rpx;\n\t\tbackground: #ffffff;\n\t\tborder: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all 0.2s ease;\n\t}\n\n\t.facility-card__delete:active {\n\t\tbackground: #fee2e2;\n\t\ttransform: scale(0.95);\n\t}\n\n\t.facility-card__body {\n\t\tpadding: 32rpx 24rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 28rpx;\n\t}\n\n\t.facility-field {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\n\t.facility-field--half {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.facility-field-row {\n\t\tdisplay: flex;\n\t\tgap: 20rpx;\n\t}\n\n\t.facility-field__label {\n\t\tfont-size: 26rpx;\n\t\tcolor: #475569;\n\t\tfont-weight: 600;\n\t\tline-height: 1.4;\n\t}\n\n\t.facility-field__label::before {\n\t\tcontent: 'â€¢';\n\t\tcolor: #16a34a;\n\t\tmargin-right: 8rpx;\n\t\tfont-weight: 700;\n\t}\n\n\t.facility-field__input {\n\t\twidth: 100%;\n\t}\n\n\t.facility-field__picker {\n\t\twidth: 100%;\n\t}\n\n\t/* å“åº”å¼ä¼˜åŒ– */\n\t@media (max-width: 768px) {\n\t\t.facility-field-row {\n\t\t\tflex-direction: column;\n\t\t\tgap: 28rpx;\n\t\t}\n\n\t\t.facility-field--half {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.facility-card__body {\n\t\t\tpadding: 24rpx 20rpx;\n\t\t}\n\t}\n\n\t/* æ¡Œé¢ç«¯ä¼˜åŒ– */\n\t@media (min-width: 768px) {\n\t\t.facility-list {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(auto-fill, minmax(600rpx, 1fr));\n\t\t\tgap: 32rpx;\n\t\t}\n\n\t\t.facility-card:hover {\n\t\t\ttransform: translateY(-4rpx);\n\t\t}\n\t}\n\n\t/* åŸºæœ¬ä¿¡æ¯è¡¨ï¼šå“åº”å¼è¡Œ */\n\n\t.form-grid--base {\n\t\tdisplay: grid;\n\t\t// grid-template-columns: 1fr 1fr;\n\t\tgap: 12rpx 16rpx;\n\t}\n\n\t.pollutants_baseinfo_row {\n\t\tpadding: 14rpx;\n\t\tborder-bottom: 1rpx solid #e7ecf2;\n\t}\n\n\t.baseinfo__row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tbackground: $white;\n\t\tborder: 1rpx solid #e7ecf2;\n\t\tborder-radius: $radius;\n\t\tpadding: 14rpx;\n\t}\n\n\t.form-item__row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tbackground: $white;\n\t\tborder: 1rpx solid #e7ecf2;\n\t\tborder-radius: $radius;\n\t\tpadding: 14rpx;\n\t}\n\n\t.form-item__label {\n\t\tmin-width: 180rpx;\n\t\tcolor: #334155;\n\t\tfont-weight: 700;\n\t}\n\n\t/* æ±¡æŸ“ç‰©è¡¨æ ¼æ ·å¼ */\n\t.pollutants-container {\n\t\twidth: 100%;\n\t\tmargin-bottom: 24rpx;\n\t\tborder: 1rpx solid #e7ecf2;\n\t\tborder-radius: $radius;\n\t\toverflow: hidden;\n\t\tgrid-column: 1 / -1;\n\t\t/* è®©è¡¨æ ¼å æ®æ•´è¡Œ */\n\t}\n\n\t.pollutants-table {\n\t\twidth: 100%;\n\t\tbackground: #fff;\n\t\ttext-align: center;\n\t}\n\n\t/* è¡¨æ ¼å¤´éƒ¨ */\n\t.pollutants-header {\n\t\tdisplay: flex;\n\t\tbackground: #f8fafc;\n\t\tborder-bottom: 1px solid #e5e7eb;\n\t\tfont-weight: 600;\n\t\tfont-size: 26rpx;\n\t\tcolor: #374151;\n\t}\n\n\t/* è¡¨æ ¼è¡Œ */\n\t.pollutants-row {\n\t\tdisplay: flex;\n\t\tborder-bottom: 1px solid #f3f4f6;\n\t}\n\n\t.pollutants-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t/* è¡¨æ ¼åˆ— */\n\t.pollutants-col {\n\t\tpadding: 20rpx 12rpx;\n\t\tword-break: break-word;\n\t\tline-height: 1.5;\n\t\tfont-size: 26rpx;\n\t\tborder-right: 1px solid #f3f4f6;\n\t}\n\n\t.pollutants-col:last-child {\n\t\tborder-right: none;\n\t}\n\n\t/* åˆ—å®½åº¦åˆ†é… */\n\t.pollutants-col--type {\n\t\tflex: 0.8;\n\t\tmin-width: 120rpx;\n\t\tbackground: #f0f9ff;\n\t\tcolor: #0369a1;\n\t\tfont-weight: 500;\n\t}\n\n\t.pollutants-col--link {\n\t\tflex: 1.2;\n\t\tmin-width: 150rpx;\n\t}\n\n\t.pollutants-col--name {\n\t\tflex: 1;\n\t\tmin-width: 140rpx;\n\t}\n\n\t.pollutants-col--measure {\n\t\tflex: 1.5;\n\t\tmin-width: 180rpx;\n\t}\n\n\t.pollutants-col--direction {\n\t\tflex: 1;\n\t\tmin-width: 140rpx;\n\t}\n\n\t.pollutants-col--standard {\n\t\tflex: 1.2;\n\t\tmin-width: 160rpx;\n\t}\n\n\t/* è¡¨æ ¼é€‰æ‹©æ¡† */\n\t.pollutants-select {\n\t\tpadding: 20rpx;\n\t\tborder-top: 1px solid #e5e7eb;\n\t\tbackground: #fafafa;\n\t}\n\n\n\t/* å°æ ‡ç­¾çš„æ ·å¼ */\n\t.extract-tag {\n\t\tdisplay: inline-block;\n\t\tmargin-left: 8px;\n\t\tpadding: 2px 6px;\n\t\tbackground-color: #52c41a;\n\t\tcolor: #fff;\n\t\tfont-size: 10px;\n\t\tborder-radius: 3px;\n\t\tvertical-align: middle;\n\t}\n\n\t/* æ ‡è¯†ç‰Œï¼šå·¦ä¾§æ ‡é¢˜è¾“å…¥ï¼Œå›ºå®šå®½åº¦ä»¥é¿å…ä¸å€¼é‡å  */\n\t.pw-ico {\n\t\twidth: 140rpx;\n\t\theight: 64rpx;\n\t\tborder-radius: 10rpx;\n\t\tborder: 1rpx solid #edf1f5;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground: $white;\n\t\tmargin-left: -100rpx;\n\t\tmargin-top: 24rpx;\n\t}\n\n\t.pw-ico text {\n\t\tfont-size: 22rpx;\n\t}\n\n\n\t.form-item__title {\n\t\twidth: 180rpx;\n\t}\n\n\t.form-item__input {\n\t\tflex: 1;\n\t}\n\n\t.form-item__select {\n\t\twidth: 56rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\n\t/* ç©ºçŠ¶æ€ */\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tpadding: 50rpx 24rpx;\n\t\tcolor: #cbd5e1;\n\t\ttext-align: center;\n\t}\n\n\t.empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #64748b;\n\t\tfont-weight: 600;\n\t}\n\n\t.empty-tip {\n\t\tfont-size: 24rpx;\n\t\tcolor: #9aa8b6;\n\t}\n\n\t/* åº•éƒ¨å¯¼èˆª */\n\t.acceptance-navigation {\n\t\tbackground: $white;\n\t\tborder-top: 1rpx solid $line;\n\t\tpadding: 18rpx 24rpx;\n\t\tbox-shadow: 0 -2rpx 10rpx rgba(16, 24, 40, .06);\n\t}\n\n\t.nav-buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmax-width: 1200rpx;\n\t\tmargin: 0 auto;\n\t}\n\n\t/* å¼¹çª— */\n\t.modal {\n\t\tbackground: $white;\n\t\tborder-radius: 20rpx;\n\t\twidth: 86vw;\n\t\tmax-width: 620rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 18rpx 52rpx rgba(15, 23, 42, .18);\n\t}\n\n\t.modal-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 24rpx;\n\t\tborder-bottom: 1rpx solid #eff3f7;\n\t}\n\n\t.modal-title {\n\t\tfont-size: 30rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t.modal-close {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tborder-radius: 10rpx;\n\t\tbackground: transparent;\n\t\tborder: 1rpx solid #eef2f6;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.modal-body {\n\t\tpadding: 24rpx;\n\t}\n\n\t.modal-description {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t\tmargin-bottom: 14rpx;\n\t\tdisplay: block;\n\t}\n\n\t.draft-textarea {\n\t\twidth: 100%;\n\t\tmin-height: 360rpx;\n\t\tpadding: 16rpx;\n\t\tborder: 1rpx solid #e6ebf1;\n\t\tborder-radius: $radius;\n\t\tfont-size: 26rpx;\n\t\tline-height: 1.5;\n\t\tbackground: #fafafa;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.modal-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tpadding: 0 24rpx 24rpx;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.fieldwork-textarea {\n\t\twidth: 100%;\n\t\tmin-height: 200rpx;\n\t\tpadding: 16rpx;\n\t\tborder: 1rpx solid #e6ebf1;\n\t\tborder-radius: $radius;\n\t\tfont-size: 26rpx;\n\t\tline-height: 1.5;\n\t\tbackground: $white;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.update-confirm {\n\t\tpadding: 20rpx;\n\t\tbackground: #f8fafc;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid #e9edf2;\n\t}\n\n\t.update-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 600;\n\t\tmargin-bottom: 16rpx;\n\t\tdisplay: block;\n\t}\n\n\t.update-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t}\n\n\t.action-buttons {\n\t\tdisplay: flex;\n\t\tgap: 8rpx;\n\t\tjustify-content: center;\n\t}\n\n\t.report-generation {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t}\n\n\t.generation-options {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 20rpx;\n\t}\n\n\t.option-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\n\t.option-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 600;\n\t}\n\n\t.radio-group {\n\t\tdisplay: flex;\n\t\tgap: 24rpx;\n\t}\n\n\t.radio-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.radio-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t}\n\n\t.generation-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.report-preview {\n\t\tpadding: 24rpx;\n\t\tbackground: #f0fdf4;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid #dcfce7;\n\t}\n\n\t.paln-preview {\n\t\tpadding: 24rpx;\n\t\tbackground: #f0fdf4;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid #dcfce7;\n\t\tmargin-top: 20rpx;\n\t}\n\n\t.preview-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.preview-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: $brand;\n\t\tfont-weight: 700;\n\t}\n\n\t.preview-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\n\t.preview-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #374151;\n\t}\n\n\t.preview-sections {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t\tpadding-left: 20rpx;\n\t}\n\n\t.section-item {\n\t\tfont-size: 24rpx;\n\t\tcolor: #475569;\n\t}\n\n\t/* æèµ„å•ç•Œé¢æ ·å¼ */\n\t.tizidan-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 80vh;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\toverflow: hidden;\n\t}\n\n\t.tizidan-header {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 60rpx 40rpx;\n\t\tbackground: linear-gradient(135deg, #166534 0%, #17834a 100%);\n\t\tcolor: #ffffff;\n\t\ttext-align: center;\n\t}\n\n\t.tizidan-title {\n\t\tfont-size: 44rpx;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.tizidan-subtitle {\n\t\tfont-size: 32rpx;\n\t\topacity: 0.9;\n\t}\n\n\t.tizidan-content {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t\tpadding: 40rpx;\n\t}\n\n\t.tizidan-item-card {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground-color: #f8fafc;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 32rpx;\n\t\tborder: 1rpx solid #e2e8f0;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.tizidan-item-card:hover {\n\t\ttransform: translateY(-2rpx);\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.1);\n\t}\n\n\t.tizidan-item-content {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.tizidan-item-number {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #166534;\n\t\tmargin-right: 16rpx;\n\t\tmin-width: 50rpx;\n\t}\n\n\t.tizidan-item-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #2d3748;\n\t\tline-height: 1.6;\n\t\tflex: 1;\n\t}\n\n\t.tizidan-item-status {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding-top: 20rpx;\n\t\tborder-top: 1rpx solid #e2e8f0;\n\t}\n\n\t.tizidan-status-text {\n\t\tfont-size: 30rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t.tizidan-status-text.tizidan-submitted {\n\t\tcolor: #27ae60;\n\t}\n\n\t.tizidan-status-text.tizidan-unsubmitted {\n\t\tcolor: #e74c3c;\n\t}\n\n\t.tizidan-submit-btn {\n\t\tbackground-color: #3498db;\n\t\tcolor: #ffffff;\n\t\tborder: none;\n\t\tborder-radius: 10rpx;\n\t\tpadding: 16rpx 32rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(52, 152, 219, 0.3);\n\t\ttransition: background-color 0.3s;\n\t}\n\n\t.tizidan-submit-btn_update {\n\t\tbackground-color: burlywood;\n\t\tcolor: #ffffff;\n\t\tborder-radius: 10rpx;\n\t\tpadding: 16rpx 32rpx;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(52, 152, 219, 0.3);\n\t\ttransition: background-color 0.3s;\n\t}\n\n\t.tizidan-submit-btn:active {\n\t\tbackground-color: #2980b9;\n\t}\n\n\t.tizidan-footer {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t\tpadding: 40rpx;\n\t\tbackground-color: #f8fafc;\n\t\tborder-top: 1rpx solid #e2e8f0;\n\t}\n\n\t.tizidan-footer-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #64748b;\n\t\ttext-align: center;\n\t\tmargin-bottom: 10rpx;\n\t\tfont-weight: 600;\n\t}\n\n\t// ç°åœºè¸å‹˜åŠŸèƒ½æ ·å¼\n\t/* Tabåˆ‡æ¢æ ·å¼ */\n\t.reconnoitre-tabs {\n\t\tflex-shrink: 0;\n\t\tbackground: #ffffff;\n\t\tborder-bottom: 1px solid #e2e8f0;\n\t\tpadding: 0 32rpx;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(15, 23, 42, 0.05);\n\t\tz-index: 100;\n\t}\n\n\t.tabs-container {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.tab-item {\n\t\tflex: 1;\n\t\tpadding: 24rpx 16rpx;\n\t\ttext-align: center;\n\t\tposition: relative;\n\t\ttransition: all 0.3s ease;\n\t\tcursor: pointer;\n\t}\n\n\t.tab-item:active {\n\t\tbackground: #f8fafc;\n\t}\n\n\t.tab-item--active {\n\t\tcolor: #166534;\n\t}\n\n\t.tab-item--active::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 4rpx;\n\t\tbackground: #166534;\n\t\tborder-radius: 2rpx 2rpx 0 0;\n\t}\n\n\t.tab-label {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #64748b;\n\t\ttransition: color 0.3s ease;\n\t}\n\n\t.tab-item--active .tab-label {\n\t\tcolor: #166534;\n\t\tfont-weight: 600;\n\t}\n\n\t/* å“åº”å¼è®¾è®¡ - ç§»åŠ¨ç«¯ */\n\t@media (max-width: 768px) {\n\n\t\t// é¡¹ç›®æ–‡ä»¶åˆ—è¡¨\n\t\t.file-item {\n\t\t\tflex-direction: column;\n\t\t\talign-items: flex-start;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.file-status {\n\t\t\tmargin-left: 0;\n\t\t\talign-self: flex-end;\n\t\t}\n\n\t\t// é¡¹ç›®åŸºæœ¬ä¿¡æ¯è¡¨\n\t\t.baseinfo__row {\n\t\t\tdisplay: block;\n\t\t\twidth: 54%;\n\t\t}\n\n\t\t.pollutants-container {\n\t\t\tmargin-bottom: 20rpx;\n\t\t\twidth: 56.2%;\n\t\t}\n\n\t\t.pollutants-table {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.solid-waste-table {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\n\t\t.pollutants-header,\n\t\t.pollutants-row {\n\t\t\tmin-width: 1200rpx;\n\t\t\t/* ä¿è¯è¡¨æ ¼æœ‰è¶³å¤Ÿå®½åº¦å¯ä»¥æ¨ªå‘æ»šåŠ¨ */\n\t\t}\n\n\t\t.pollutants-col {\n\t\t\tpadding: 16rpx 10rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\n\t\t.pw-ico {\n\t\t\twidth: 140rpx;\n\t\t\theight: 64rpx;\n\t\t\tborder: none;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbackground: $white;\n\t\t\tmargin: 5rpx 0 0rpx 0;\n\n\t\t}\n\n\t\t.pw-ico text {\n\t\t\tfont-size: 22rpx;\n\t\t}\n\n\t\t.toolbar-content {\n\t\t\tflex-direction: column;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.toolbar-left,\n\t\t.toolbar-right {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.toolbar-buttons {\n\t\t\twidth: 100%;\n\t\t\toverflow-x: auto;\n\t\t\tpadding-bottom: 6rpx;\n\t\t}\n\n\t\t.acceptance-content {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.section-header {\n\t\t\tpadding: 20rpx 20rpx 0;\n\t\t}\n\n\t\t.section-body {\n\t\t\tpadding: 0 20rpx 20rpx;\n\t\t}\n\n\t\t.form-grid--base {\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tgap: 10rpx;\n\t\t}\n\n\t\t.form-item__label {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.form-item__title {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t}\n\n\t\t/* è¡¨æ ¼å¡ç‰‡åŒ–ï¼šè‡ªåŠ¨åŠ æ ‡ç­¾ï¼ˆæ— é¡»æ”¹æ¨¡æ¿ï¼‰ */\n\t\t.table-header {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.table-row {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t\t\tpadding: 10rpx 8rpx;\n\t\t\tgap: 0;\n\t\t}\n\n\t\t.table-td {\n\t\t\tposition: relative;\n\t\t\tpadding: 14rpx 14rpx 14rpx 120rpx;\n\t\t\tborder-right: none;\n\t\t\tborder-bottom: 1rpx solid #f7f8fa;\n\t\t\tmin-height: 64rpx;\n\t\t}\n\n\t\t.table-td:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\n\t\t/* ç”¨ nth-child ç»™å‡ºåˆ—æ ‡é¢˜ï¼ˆä¸ header é¡ºåºä¸€è‡´ï¼‰ */\n\t\t.table-row .table-td:nth-child(1)::before {\n\t\t\tcontent: 'åç§°';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(2)::before {\n\t\t\tcontent: 'æ•°é‡';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(3)::before {\n\t\t\tcontent: 'å¤‡æ³¨';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(4)::before {\n\t\t\tcontent: 'ä¸Šä¼ å›¾ç‰‡';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(5)::before {\n\t\t\tcontent: 'æ“ä½œ';\n\t\t}\n\n\t\t.table-td::before {\n\t\t\tposition: absolute;\n\t\t\tleft: 14rpx;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #6b7a8a;\n\t\t\tfont-weight: 600;\n\t\t\twidth: 96rpx;\n\t\t\ttext-align-last: justify;\n\t\t}\n\n\t\t/* ç®€åŒ–å‹è¡Œï¼ˆæ ‡è¯†ç‰Œï¼‰ä¸éœ€è¦äº”åˆ—æ ‡ç­¾ */\n\t\t.table-row--simple .table-td {\n\t\t\tpadding: 14rpx;\n\t\t}\n\n\t\t.table-row--simple .table-td::before {\n\t\t\tcontent: '';\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.acceptance-navigation {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.modal {\n\t\t\twidth: 92vw;\n\t\t}\n\n\t\t.update-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.generation-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.radio-group {\n\t\t\tflex-direction: column;\n\t\t\tgap: 12rpx;\n\t\t}\n\n\t\t.action-buttons {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: flex-start;\n\t\t}\n\n\t\t.tizidan-container {\n\t\t\tmargin: 10rpx;\n\t\t\tborder-radius: 12rpx;\n\t\t}\n\n\t\t.tizidan-header {\n\t\t\tpadding: 30rpx 20rpx;\n\t\t}\n\n\t\t.tizidan-title {\n\t\t\tfont-size: 32rpx;\n\t\t}\n\n\t\t.tizidan-subtitle {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\n\t\t.tizidan-content {\n\t\t\tpadding: 20rpx;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.tizidan-item-card {\n\t\t\tpadding: 20rpx;\n\t\t}\n\n\t\t.tizidan-item-content {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.tizidan-item-number {\n\t\t\tmargin-bottom: 8rpx;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.tizidan-item-text {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\n\t\t.tizidan-item-status {\n\t\t\tflex-direction: column;\n\t\t\talign-items: flex-start;\n\t\t\tgap: 12rpx;\n\t\t}\n\n\t\t.tizidan-status-text {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\n\t\t.tizidan-submit-btn {\n\t\t\twidth: 100%;\n\t\t\tpadding: 16rpx;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.tizidan-footer {\n\t\t\tpadding: 24rpx 20rpx;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.tizidan-footer-text {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\n\t\t.tizidan-footer .btn {\n\t\t\twidth: 100%;\n\t\t\tmargin: 0;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t// ç°åœºè¸å‹˜æ ·å¼\n\t\t.reconnoitre-tabs {\n\t\t\tpadding: 0 16rpx;\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.tabs-container {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.tab-item {\n\t\t\tpadding: 20rpx 8rpx;\n\t\t\tmin-width: 120rpx;\n\t\t}\n\n\t\t.tab-label {\n\t\t\tfont-size: 24rpx;\n\t\t}\n\t}\n\n\t/* å¹³æ¿ç«¯é€‚é… */\n\t@media (min-width: 769px) and (max-width: 960px) {\n\n\t\t// æ­¥éª¤å¯¼èˆª\n\t\t.desktop-steps {\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.step-connector {\n\t\t\twidth: 0;\n\t\t}\n\n\t\t// é¡¹ç›®åŸºæœ¬ä¿¡æ¯è¡¨\n\t\t.baseinfo__row {\n\t\t\tdisplay: block;\n\t\t\twidth: 50%;\n\t\t}\n\n\t\t.pollutants-container {\n\t\t\tmargin-bottom: 20rpx;\n\t\t\twidth: 52.2%;\n\t\t}\n\n\t\t.pollutants-table {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.pollutants-header,\n\t\t.pollutants-row {\n\t\t\tmin-width: 1200rpx;\n\t\t\t/* ä¿è¯è¡¨æ ¼æœ‰è¶³å¤Ÿå®½åº¦å¯ä»¥æ¨ªå‘æ»šåŠ¨ */\n\t\t}\n\n\t\t.pollutants-col {\n\t\t\tpadding: 16rpx 10rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\n\t\t.pw-ico {\n\t\t\twidth: 140rpx;\n\t\t\theight: 64rpx;\n\t\t\tborder: none;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbackground: $white;\n\t\t\tmargin: 5rpx 0 0rpx 0;\n\n\t\t}\n\n\t\t.pw-ico text {\n\t\t\tfont-size: 22rpx;\n\t\t}\n\n\t\t.toolbar-content {\n\t\t\tflex-direction: column;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.toolbar-left,\n\t\t.toolbar-right {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.toolbar-buttons {\n\t\t\twidth: 100%;\n\t\t\toverflow-x: auto;\n\t\t\tpadding-bottom: 6rpx;\n\t\t}\n\n\t\t.acceptance-content {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.section-header {\n\t\t\tpadding: 20rpx 20rpx 0;\n\t\t}\n\n\t\t.section-body {\n\t\t\tpadding: 0 20rpx 20rpx;\n\t\t}\n\n\t\t.form-grid--base {\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tgap: 10rpx;\n\t\t}\n\n\t\t.form-item__label {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.form-item__title {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t}\n\n\t\t/* è¡¨æ ¼å¡ç‰‡åŒ–ï¼šè‡ªåŠ¨åŠ æ ‡ç­¾ï¼ˆæ— é¡»æ”¹æ¨¡æ¿ï¼‰ */\n\t\t.table-header {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.table-row {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t\t\tpadding: 10rpx 8rpx;\n\t\t\tgap: 0;\n\t\t}\n\n\t\t.table-td {\n\t\t\tposition: relative;\n\t\t\tpadding: 14rpx 14rpx 14rpx 120rpx;\n\t\t\tborder-right: none;\n\t\t\tborder-bottom: 1rpx solid #f7f8fa;\n\t\t\tmin-height: 64rpx;\n\t\t}\n\n\t\t.table-td:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\n\t\t/* ç”¨ nth-child ç»™å‡ºåˆ—æ ‡é¢˜ï¼ˆä¸ header é¡ºåºä¸€è‡´ï¼‰ */\n\t\t.table-row .table-td:nth-child(1)::before {\n\t\t\tcontent: 'å­—æ®µ';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(2)::before {\n\t\t\tcontent: 'å½“å‰å€¼';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(3)::before {\n\t\t\tcontent: 'ç±»å‹';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(4)::before {\n\t\t\tcontent: 'çŠ¶æ€';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(5)::before {\n\t\t\tcontent: 'æ“ä½œ';\n\t\t}\n\n\t\t.table-td::before {\n\t\t\tposition: absolute;\n\t\t\tleft: 14rpx;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #6b7a8a;\n\t\t\tfont-weight: 600;\n\t\t\twidth: 96rpx;\n\t\t\ttext-align-last: justify;\n\t\t}\n\n\t\t/* ç®€åŒ–å‹è¡Œï¼ˆæ ‡è¯†ç‰Œï¼‰ä¸éœ€è¦äº”åˆ—æ ‡ç­¾ */\n\t\t.table-row--simple .table-td {\n\t\t\tpadding: 14rpx;\n\t\t}\n\n\t\t.table-row--simple .table-td::before {\n\t\t\tcontent: '';\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.acceptance-navigation {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.modal {\n\t\t\twidth: 92vw;\n\t\t}\n\n\t\t.update-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.generation-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.radio-group {\n\t\t\tflex-direction: column;\n\t\t\tgap: 12rpx;\n\t\t}\n\n\t\t.action-buttons {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: flex-start;\n\t\t}\n\n\t\t.tizidan-container {\n\t\t\tmargin: 20rpx;\n\t\t}\n\n\t\t.tizidan-container {\n\t\t\tmargin: 20rpx;\n\t\t\tmax-width: 90%;\n\t\t}\n\n\t\t.tizidan-header {\n\t\t\tpadding: 40rpx 30rpx;\n\t\t}\n\n\t\t.tizidan-title {\n\t\t\tfont-size: 38rpx;\n\t\t}\n\n\t\t.tizidan-subtitle {\n\t\t\tfont-size: 30rpx;\n\t\t}\n\n\t\t.tizidan-content {\n\t\t\tpadding: 30rpx;\n\t\t}\n\n\t\t.tizidan-item-card {\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: flex-start;\n\t\t}\n\n\t\t.tizidan-item-content {\n\t\t\tmargin-bottom: 0;\n\t\t\tflex: 1;\n\t\t\tmax-width: 70%;\n\t\t}\n\n\t\t.tizidan-item-status {\n\t\t\tflex-shrink: 0;\n\t\t\tborder-top: none;\n\t\t\tpadding-top: 0;\n\t\t\tflex-direction: column;\n\t\t\talign-items: flex-end;\n\t\t\tgap: 12rpx;\n\t\t\tmin-width: 180rpx;\n\t\t}\n\n\t\t.tizidan-footer {\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.tizidan-footer-text {\n\t\t\tmargin-bottom: 0;\n\t\t\tflex: 1;\n\t\t\ttext-align: left;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.tizidan-footer .btn {\n\t\t\tflex-shrink: 0;\n\t\t\tmargin-left: 20rpx;\n\t\t}\n\t}\n\n\t/* æ¡Œé¢ç«¯é€‚é… - æœ€å¤§åŒ–å®½åº¦å’Œå­—ä½“ */\n\t@media (min-width: 961px) {\n\n\t\t// å…¨å±€è®¾ç½®\n\t\t.btn--primary:hover {\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(22, 101, 52, .28);\n\t\t}\n\n\t\t.btn--secondary:hover {\n\t\t\tbackground: #eef6f2;\n\t\t\tborder-color: #d7efe4;\n\t\t}\n\n\t\t.btn--ghost:hover {\n\t\t\tbackground: #f7f9fb;\n\t\t}\n\n\t\t.btn--danger:hover {\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(217, 45, 32, .25);\n\t\t}\n\n\t\t.step-item:hover {\n\t\t\tbackground: #f7fafc;\n\t\t}\n\n\t\t.icon-btn:hover {\n\t\t\tbackground: #f3f6fa;\n\t\t}\n\n\t\t.tizidan-container {\n\t\t\tmax-width: 1400rpx;\n\t\t\t/* å¢å¤§æœ€å¤§å®½åº¦ */\n\t\t\tmargin: 0 auto;\n\t\t\twidth: 95%;\n\t\t\t/* ä½¿ç”¨ç™¾åˆ†æ¯”å®½åº¦ï¼Œå……åˆ†åˆ©ç”¨å±å¹•ç©ºé—´ */\n\t\t}\n\n\t\t.tizidan-header {\n\t\t\tpadding: 80rpx 60rpx;\n\t\t\t/* å¢å¤§å¤´éƒ¨å†…è¾¹è· */\n\t\t}\n\n\t\t.tizidan-title {\n\t\t\tfont-size: 48rpx;\n\t\t\t/* å¢å¤§æ ‡é¢˜å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-subtitle {\n\t\t\tfont-size: 36rpx;\n\t\t\t/* å¢å¤§å‰¯æ ‡é¢˜å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-content {\n\t\t\tpadding: 50rpx 60rpx;\n\t\t\t/* å¢å¤§å†…å®¹åŒºåŸŸå†…è¾¹è· */\n\t\t\tgap: 30rpx;\n\t\t\t/* å¢å¤§å¡ç‰‡é—´è· */\n\t\t}\n\n\t\t.tizidan-item-card {\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding: 40rpx;\n\t\t\t/* å¢å¤§å¡ç‰‡å†…è¾¹è· */\n\t\t}\n\n\t\t.tizidan-item-content {\n\t\t\tmargin-bottom: 0;\n\t\t\tflex: 1;\n\t\t\tmax-width: 80%;\n\t\t\t/* å¢å¤§å†…å®¹åŒºåŸŸæœ€å¤§å®½åº¦ */\n\t\t}\n\n\t\t.tizidan-item-number {\n\t\t\tfont-size: 36rpx;\n\t\t\t/* å¢å¤§åºå·å­—ä½“ */\n\t\t\tmin-width: 60rpx;\n\t\t}\n\n\t\t.tizidan-item-text {\n\t\t\tfont-size: 36rpx;\n\t\t\t/* å¢å¤§å†…å®¹å­—ä½“ */\n\t\t\tline-height: 1.7;\n\t\t\t/* å¢å¤§è¡Œé«˜ï¼Œæé«˜å¯è¯»æ€§ */\n\t\t}\n\n\t\t.tizidan-item-status {\n\t\t\tborder-top: none;\n\t\t\tpadding-top: 0;\n\t\t\tflex-shrink: 0;\n\t\t\tmin-width: 220rpx;\n\t\t\t/* å¢å¤§çŠ¶æ€åŒºåŸŸæœ€å°å®½åº¦ */\n\t\t\tjustify-content: flex-end;\n\t\t}\n\n\t\t.tizidan-status-text {\n\t\t\tfont-size: 32rpx;\n\t\t\t/* å¢å¤§çŠ¶æ€å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-submit-btn {\n\t\t\tpadding: 18rpx 36rpx;\n\t\t\t/* å¢å¤§æŒ‰é’®å†…è¾¹è· */\n\t\t\tfont-size: 30rpx;\n\t\t\t/* å¢å¤§æŒ‰é’®å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-footer {\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding: 50rpx 60rpx;\n\t\t\t/* å¢å¤§åº•éƒ¨å†…è¾¹è· */\n\t\t}\n\n\t\t.tizidan-footer-text {\n\t\t\tmargin-bottom: 0;\n\t\t\tflex: 1;\n\t\t\ttext-align: left;\n\t\t\tfont-size: 32rpx;\n\t\t\t/* å¢å¤§åº•éƒ¨æ–‡å­—å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-footer .btn {\n\t\t\tflex-shrink: 0;\n\t\t\tmargin-left: 30rpx;\n\t\t\tpadding: 20rpx 40rpx;\n\t\t\t/* å¢å¤§åº•éƒ¨æŒ‰é’®å†…è¾¹è· */\n\t\t\tfont-size: 30rpx;\n\t\t\t/* å¢å¤§åº•éƒ¨æŒ‰é’®å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-submit-btn:hover {\n\t\t\tbackground-color: #2980b9;\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t/* è¶…å¤§å±å¹•é€‚é… */\n\t@media (min-width: 1200px) {\n\t\t.tizidan-container {\n\t\t\tmax-width: 1600rpx;\n\t\t\t/* åœ¨è¶…å¤§å±å¹•ä¸Šè¿›ä¸€æ­¥å¢å¤§å®½åº¦ */\n\t\t}\n\n\t\t.tizidan-content {\n\t\t\tpadding: 60rpx 80rpx;\n\t\t\t/* è¿›ä¸€æ­¥å¢å¤§å†…è¾¹è· */\n\t\t}\n\n\t\t.tizidan-item-card {\n\t\t\tpadding: 45rpx;\n\t\t\t/* è¿›ä¸€æ­¥å¢å¤§å¡ç‰‡å†…è¾¹è· */\n\t\t}\n\n\t\t.tizidan-item-number {\n\t\t\tfont-size: 38rpx;\n\t\t\t/* è¿›ä¸€æ­¥å¢å¤§åºå·å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-item-text {\n\t\t\tfont-size: 38rpx;\n\t\t\t/* è¿›ä¸€æ­¥å¢å¤§å†…å®¹å­—ä½“ */\n\t\t}\n\n\t\t.tizidan-footer {\n\t\t\tpadding: 60rpx 80rpx;\n\t\t\t/* è¿›ä¸€æ­¥å¢å¤§åº•éƒ¨å†…è¾¹è· */\n\t\t}\n\t}\n\n\t/* ========== æœç´¢æ¡†æ ·å¼ ========== */\n\t.search-box {\n\t\tmargin-bottom: 24rpx;\n\t\tpadding: 20rpx;\n\t\tbackground: #f8faf9;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.search-input {\n\t\twidth: 100%;\n\t}\n\n\t.search-result-text {\n\t\tdisplay: block;\n\t\tmargin-top: 12rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #166534;\n\t\ttext-align: center;\n\t}\n\n\t/* ========== è®¾æ–½/è®¾å¤‡å¡ç‰‡æ ·å¼ ========== */\n\t.facility-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t\tmargin-top: 24rpx;\n\t}\n\n\t.facility-card {\n\t\tbackground: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\toverflow: hidden;\n\t\ttransition: all 0.3s ease;\n\t}\n\n\t.facility-card:hover {\n\t\tbox-shadow: 0 4rpx 20rpx rgba(22, 101, 52, 0.12);\n\t\ttransform: translateY(-2rpx);\n\t}\n\n\t.facility-card__header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 24rpx;\n\t\tbackground: #15803d;\n\t}\n\n\t.facility-card__number {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 56rpx;\n\t\theight: 56rpx;\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tborder-radius: 50%;\n\t\tbackdrop-filter: blur(10rpx);\n\t}\n\n\t.facility-card__number-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #ffffff;\n\t}\n\n\t.facility-card__delete {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 56rpx;\n\t\theight: 56rpx;\n\t\tbackground: rgba(239, 68, 68, 0.1);\n\t\tborder-radius: 50%;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\ttransition: all 0.2s ease;\n\t}\n\n\t.facility-card__delete:hover {\n\t\tbackground: rgba(239, 68, 68, 0.2);\n\t\ttransform: scale(1.1);\n\t}\n\n\t.facility-card__body {\n\t\tpadding: 32rpx 24rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t}\n\n\t.facility-field {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\n\t.facility-field__label {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #374151;\n\t\tmargin-bottom: 4rpx;\n\t}\n\n\t.facility-field__input {\n\t\twidth: 100%;\n\t}\n\n\t.facility-field__picker {\n\t\twidth: 100%;\n\t}\n\n\t.facility-field-row {\n\t\tdisplay: flex;\n\t\tgap: 16rpx;\n\t\twidth: 100%;\n\t}\n\n\t.facility-field--half {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t/* ç§»åŠ¨ç«¯é€‚é… */\n\t@media (max-width: 768px) {\n\t\t.facility-list {\n\t\t\tgap: 20rpx;\n\t\t\tmargin-top: 20rpx;\n\t\t}\n\n\t\t.facility-card {\n\t\t\tborder-radius: 12rpx;\n\t\t}\n\n\t\t.facility-card__header {\n\t\t\tpadding: 16rpx 20rpx;\n\t\t}\n\n\t\t.facility-card__number {\n\t\t\twidth: 48rpx;\n\t\t\theight: 48rpx;\n\t\t}\n\n\t\t.facility-card__number-text {\n\t\t\tfont-size: 24rpx;\n\t\t}\n\n\t\t.facility-card__delete {\n\t\t\twidth: 48rpx;\n\t\t\theight: 48rpx;\n\t\t}\n\n\t\t.facility-card__body {\n\t\t\tpadding: 24rpx 20rpx;\n\t\t\tgap: 20rpx;\n\t\t}\n\n\t\t.facility-field {\n\t\t\tgap: 8rpx;\n\t\t}\n\n\t\t.facility-field__label {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\n\t\t.facility-field-row {\n\t\t\tflex-direction: column;\n\t\t\tgap: 20rpx;\n\t\t}\n\n\t\t.facility-field--half {\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t/* æ¡Œé¢ç«¯é€‚é… */\n\t@media (min-width: 961px) {\n\t\t.facility-list {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(2, 1fr);\n\t\t\tgap: 32rpx;\n\t\t\tmargin-top: 32rpx;\n\t\t}\n\n\t\t.facility-card {\n\t\t\tborder-radius: 20rpx;\n\t\t}\n\n\t\t.facility-card__header {\n\t\t\tpadding: 24rpx 32rpx;\n\t\t}\n\n\t\t.facility-card__number {\n\t\t\twidth: 64rpx;\n\t\t\theight: 64rpx;\n\t\t}\n\n\t\t.facility-card__number-text {\n\t\t\tfont-size: 32rpx;\n\t\t}\n\n\t\t.facility-card__delete {\n\t\t\twidth: 64rpx;\n\t\t\theight: 64rpx;\n\t\t}\n\n\t\t.facility-card__body {\n\t\t\tpadding: 40rpx 32rpx;\n\t\t\tgap: 28rpx;\n\t\t}\n\n\t\t.facility-field {\n\t\t\tgap: 14rpx;\n\t\t}\n\n\t\t.facility-field__label {\n\t\t\tfont-size: 30rpx;\n\t\t}\n\n\t\t.facility-field-row {\n\t\t\tgap: 20rpx;\n\t\t}\n\t}\n\n\t/* è¶…å¤§å±å¹•é€‚é… */\n\t@media (min-width: 1200px) {\n\t\t.facility-list {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\tgap: 40rpx;\n\t\t}\n\n\t\t.facility-card__body {\n\t\t\tpadding: 48rpx 40rpx;\n\t\t}\n\t}\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/reports/acceptance/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","usePlatformInfo","ref","computed","uni","onLoad","onUnmounted","watch","runTask","transformExtractResult","reactive","code","downloadSignboardWord","wx","generateMonitorPlan","downloadMonitorPlan","useFieldSurveyData","generateReport","downloadReport"],"mappings":"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"}