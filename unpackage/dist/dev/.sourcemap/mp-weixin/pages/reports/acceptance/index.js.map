{"version":3,"file":"index.js","sources":["pages/reports/acceptance/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVwb3J0cy9hY2NlcHRhbmNlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n  <app-layout current=\"pages/reports/acceptance/index\">\n    <view class=\"acceptance-page\">\n      <!-- 顶部工具栏 -->\n      <view class=\"acceptance-toolbar\">\n        <view class=\"toolbar-content\">\n          <view class=\"toolbar-left\">\n            <view class=\"progress-section\">\n              <text class=\"progress-label\">完成度</text>\n              <view class=\"progress-bar\">\n                <view class=\"progress-fill\" :style=\"{ width: completionPercent + '%' }\"></view>\n              </view>\n              <text class=\"progress-text\">{{ completionPercent }}%</text>\n            </view>\n          </view>\n          \n          <view class=\"toolbar-right\">\n            <view class=\"toolbar-buttons\">\n              <button class=\"toolbar-btn toolbar-btn--secondary\" @tap=\"saveDraft\">\n                <uni-icons type=\"folder\" size=\"16\" color=\"#64748b\" />\n                <text>保存草稿</text>\n              </button>\n              <button class=\"toolbar-btn toolbar-btn--secondary\" @tap=\"openExportDraft\">\n                <uni-icons type=\"upload\" size=\"16\" color=\"#64748b\" />\n                <text>导出草稿</text>\n              </button>\n              <button class=\"toolbar-btn toolbar-btn--secondary\" @tap=\"openImportDraft\">\n                <uni-icons type=\"download\" size=\"16\" color=\"#64748b\" />\n                <text>导入草稿</text>\n              </button>\n              <button class=\"toolbar-btn toolbar-btn--secondary\" @tap=\"clearDraft\">\n                <uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\n                <text>清空草稿</text>\n              </button>\n              <button class=\"toolbar-btn\" @tap=\"exportDocx\">\n                <uni-icons type=\"file\" size=\"16\" color=\"#276019\" />\n                <text>导出Word</text>\n              </button>\n              <button class=\"toolbar-btn toolbar-btn--primary\" @tap=\"exportPdf\">\n                <uni-icons type=\"pdf\" size=\"16\" color=\"#ffffff\" />\n                <text>导出PDF</text>\n              </button>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 步骤导航 -->\n      <view class=\"acceptance-steps\">\n        <view class=\"steps-container\">\n          <template v-if=\"isMobile\">\n            <uni-data-select \n              v-model=\"currentStep\" \n              :localdata=\"stepSelectOptions\" \n              placeholder=\"选择步骤\"\n              class=\"mobile-step-select\"\n            />\n          </template>\n          <template v-else>\n            <view class=\"desktop-steps\">\n              <view \n                v-for=\"(step, index) in stepNames\" \n                :key=\"index\"\n                class=\"step-item\"\n                :class=\"{\n                  'step-item--active': currentStep === index,\n                  'step-item--completed': stepDone(index)\n                }\"\n                @tap=\"currentStep = index\"\n              >\n                <view class=\"step-indicator\">\n                  <text v-if=\"stepDone(index)\" class=\"step-check\">✓</text>\n                  <text v-else class=\"step-number\">{{ index + 1 }}</text>\n                </view>\n                <text class=\"step-label\">{{ step }}</text>\n                <view v-if=\"stepDone(index)\" class=\"step-completed-line\"></view>\n              </view>\n            </view>\n          </template>\n        </view>\n      </view>\n\n      <!-- 主要内容区域 -->\n      <view class=\"acceptance-content\">\n        <scroll-view class=\"content-scroll\" scroll-y>\n          <!-- 步骤1: 资料上传 -->\n          <view v-show=\"currentStep === 0\" class=\"content-section\">\n            <view class=\"section-card\">\n              <view class=\"section-header\">\n                <uni-icons type=\"cloud-upload\" size=\"20\" color=\"#276019\" />\n                <text class=\"section-title\">资料上传（环评报告）</text>\n              </view>\n              \n              <view class=\"section-body\">\n                <view class=\"form-group\">\n                  <text class=\"form-label\">上传环评报告书/报告表</text>\n                  <text class=\"form-tip\">支持PDF、Word、图片等格式，最多6个文件</text>\n                  <uni-file-picker \n                    v-model=\"eiaFiles\" \n                    fileMediatype=\"all\" \n                    :auto-upload=\"false\" \n                    :limit=\"6\"\n                    class=\"file-uploader\"\n                  />\n                </view>\n                \n                <view class=\"action-buttons\">\n                  <button class=\"action-btn action-btn--primary\" @tap=\"simulateExtract\">\n                    <uni-icons type=\"search\" size=\"16\" color=\"#ffffff\" />\n                    <text>提取项目基本信息</text>\n                  </button>\n                  <button class=\"action-btn action-btn--secondary\" @tap=\"clearExtract\">\n                    <uni-icons type=\"clear\" size=\"16\" color=\"#64748b\" />\n                    <text>清空提取结果</text>\n                  </button>\n                </view>\n\n                <!-- 提取后在第一步直接展示：项目信息表 -->\n                <view v-if=\"baseTable.length\" class=\"subsection\">\n                  <view class=\"subsection-header\">\n                    <uni-icons type=\"list\" size=\"18\" color=\"#276019\" />\n                    <text class=\"subsection-title\">项目信息表</text>\n                  </view>\n                  <view class=\"section-actions\">\n                    <button class=\"action-btn\" @tap=\"openAddField\">\n                      <uni-icons type=\"plus\" size=\"16\" color=\"#276019\" />\n                      <text>新增</text>\n                    </button>\n                    <button class=\"action-btn\" @tap=\"toggleSelectMode\">\n                      <uni-icons :type=\"selectMode ? 'checkbox-filled' : 'checkbox'\" size=\"16\" color=\"#276019\" />\n                      <text>{{ selectMode ? '退出选择' : '选择删除' }}</text>\n                    </button>\n                    <button v-if=\"selectMode\" class=\"action-btn action-btn--danger\" :disabled=\"!selectedIds.length\" @tap=\"removeSelected\">\n                      <uni-icons type=\"trash\" size=\"16\" color=\"#b91c1c\" />\n                      <text>删除选中（{{ selectedIds.length }}）</text>\n                    </button>\n                  </view>\n\n                  <!-- 响应式表单：PC两列，移动端单列，左标题右输入 -->\n                  <view class=\"form-grid form-grid--base\">\n                    <view class=\"form-item\" v-for=\"(r, idx) in baseTable\" :key=\"r.id\">\n                      <view class=\"form-item__row\">\n                        <text class=\"form-item__label\">{{ r.label }}</text>\n                        <uni-easyinput class=\"form-item__input\" v-model=\"r.value\" placeholder=\"填写值\" />\n                        <view v-if=\"selectMode\" class=\"form-item__select\">\n                          <checkbox :checked=\"selectedIds.includes(r.id)\" @tap=\"() => toggleSelected(r.id)\" />\n                        </view>\n                      </view>\n                    </view>\n                  </view>\n\n                  <!-- 基于项目信息表生成排污标识牌文案表 -->\n                  <view class=\"subsection\">\n                    <view class=\"subsection-header\">\n                      <uni-icons type=\"list\" size=\"18\" color=\"#f59e0b\" />\n                      <text class=\"subsection-title\">排污标识牌文案</text>\n                    </view>\n                    <view class=\"section-actions\">\n                      <button class=\"action-btn action-btn--primary\" @tap=\"() => { generateSignboard(); showSignboardStep1 = true }\">\n                        <uni-icons type=\"gear\" size=\"16\" color=\"#ffffff\" />\n                        <text>生成标识牌</text>\n                      </button>\n                      <button v-if=\"showSignboardStep1\" class=\"action-btn action-btn--secondary\" @tap=\"currentStep = 4\">\n                        <uni-icons type=\"right\" size=\"16\" color=\"#64748b\" />\n                        <text>去“标识牌”步骤</text>\n                      </button>\n                    </view>\n\n                    <view v-if=\"showSignboardStep1\" class=\"data-table\">\n                      <view class=\"table-body\">\n                        <template v-for=\"(sec, si) in signboard.sections\" :key=\"'s'+si\">\n                          <view class=\"table-row\">\n                            <text class=\"table-td\" style=\"font-weight:600; color:#0f172a;\">{{ sec.block || '未命名' }}</text>\n                            <view class=\"table-td w80\">\n                              <button class=\"icon-btn\" @tap=\"() => addSignItem(si)\">\n                                <uni-icons type=\"plus\" size=\"16\" color=\"#276019\" />\n                              </button>\n                            </view>\n                          </view>\n                          <view class=\"table-row\" v-for=\"(it, ii) in sec.items\" :key=\"'r'+si+'-'+ii\">\n                            <uni-easyinput class=\"table-td w160\" v-model=\"it.title\" placeholder=\"内容标题\" />\n                            <uni-easyinput class=\"table-td\" v-model=\"it.content\" placeholder=\"内容\" />\n                            <view class=\"table-td w80\">\n                              <button class=\"icon-btn icon-btn--danger\" @tap=\"() => removeSignItem(si, ii)\">\n                                <uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\n                              </button>\n                            </view>\n                          </view>\n                        </template>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n              </view>\n\t\t\t  \r\n\t\t\t  \n            </view>\n          </view>\n\n          <!-- 步骤2: 信息表/提资单 -->\n          <view v-show=\"currentStep === 1\" class=\"content-section\">\n            <view class=\"section-card\">\n              <view class=\"section-header\">\n                <uni-icons type=\"clipboard\" size=\"20\" color=\"#276019\" />\n                <text class=\"section-title\">提资单（需再次提资/需业主核对）</text>\n              </view>\n              \n              <view class=\"section-body\">\n                <view class=\"section-actions\">\n                  <button class=\"action-btn action-btn--primary\" @tap=\"generateDatasheet\">\n                    <uni-icons type=\"gear\" size=\"16\" color=\"#ffffff\" />\n                    <text>生成提资单</text>\n                  </button>\n                </view>\n\n                <!-- 提资单部分 -->\n                <view class=\"subsection\">\n                  <view class=\"subsection-header\">\n                    <uni-icons type=\"clipboard\" size=\"18\" color=\"#f59e0b\" />\n                    <text class=\"subsection-title\">提资单（需再次提资/需业主核对）</text>\n                  </view>\n                  \n                  <view class=\"subsection-actions\">\n                    <button class=\"action-btn\" @tap=\"exportDatasheet\">\n                      <uni-icons type=\"download\" size=\"16\" color=\"#276019\" />\n                      <text>导出提资单</text>\n                    </button>\n                  </view>\n\n                  <view v-if=\"datasheet.length\" class=\"data-table\">\n                    <view class=\"table-header\">\n                      <text class=\"table-th w160\">字段</text>\n                      <text class=\"table-th\">当前值</text>\n                      <text class=\"table-th w140\">类型</text>\n                      <text class=\"table-th w120\">状态</text>\n                      <text class=\"table-th w80\">操作</text>\n                    </view>\n                    \n                    <view class=\"table-body\">\n                      <view class=\"table-row\" v-for=\"(d, i) in datasheet\" :key=\"d.id\">\n                        <uni-easyinput class=\"table-td w160\" v-model=\"d.label\" placeholder=\"字段名\" />\n                        <uni-easyinput class=\"table-td\" v-model=\"d.value\" placeholder=\"值\" />\n                        <uni-data-select class=\"table-td w140\" v-model=\"d.type\" :localdata=\"datasheetTypeOptions\" placeholder=\"类型\" />\n                        <uni-data-select class=\"table-td w120\" v-model=\"d.status\" :localdata=\"verifyOptions\" placeholder=\"状态\" />\n                        <view class=\"table-td w80\">\n                          <button class=\"icon-btn icon-btn--danger\" @tap=\"() => removeDatasheet(i)\">\n                            <uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\n                          </button>\n                        </view>\n                      </view>\n                    </view>\n                  </view>\n                  \n                  <view v-else class=\"empty-state\">\n                    <uni-icons type=\"document\" size=\"48\" color=\"#cbd5e1\" />\n                    <text class=\"empty-text\">尚未生成提资单</text>\n                    <text class=\"empty-tip\">点击上方\"生成提资单\"按钮创建</text>\n                  </view>\n                </view>\n              </view>\n            </view>\n          </view>\n\n          <!-- 其他步骤内容保持类似结构，因篇幅限制省略详细代码 -->\n          <!-- 步骤3-6的内容结构类似，使用相同的卡片和表格组件 -->\n\n        </scroll-view>\n      </view>\n\n      <!-- 底部导航 -->\n      <view class=\"acceptance-navigation\">\n        <view class=\"nav-buttons\">\n          <button class=\"nav-btn nav-btn--secondary\" :disabled=\"currentStep === 0\" @tap=\"prevStep\">\n            <uni-icons type=\"left\" size=\"16\" color=\"#64748b\" />\n            <text>上一步</text>\n          </button>\n          <button class=\"nav-btn nav-btn--primary\" :disabled=\"currentStep === stepNames.length - 1\" @tap=\"nextStep\">\n            <text>下一步</text>\n            <uni-icons type=\"right\" size=\"16\" color=\"#ffffff\" />\n          </button>\n        </view>\n      </view>\n    </view>\n  </app-layout>\n\n  <!-- 草稿导入/导出弹窗 -->\n  <uni-popup ref=\"draftPopup\" type=\"center\" background-color=\"rgba(0,0,0,0.5)\">\n    <view class=\"draft-modal\">\n      <view class=\"modal-header\">\n        <text class=\"modal-title\">{{ draftMode === 'export' ? '导出草稿' : '导入草稿' }}</text>\n        <button class=\"modal-close\" @tap=\"closeDraftPopup\">\n          <uni-icons type=\"close\" size=\"20\" color=\"#64748b\" />\n        </button>\n      </view>\n      \n      <view class=\"modal-body\">\n        <text class=\"modal-description\">\n          {{ draftMode === 'export' ? '复制以下JSON数据以保存草稿' : '粘贴JSON数据以导入草稿' }}\n        </text>\n        \n        <textarea \n          class=\"draft-textarea\" \n          v-model=\"draftText\" \n          placeholder=\"在此处粘贴/查看 JSON 数据...\"\n          :readonly=\"draftMode === 'export'\"\n        />\n      </view>\n      \n      <view class=\"modal-actions\">\n        <button class=\"modal-btn modal-btn--secondary\" @tap=\"closeDraftPopup\">取消</button>\n        <button v-if=\"draftMode==='import'\" class=\"modal-btn modal-btn--primary\" @tap=\"confirmImportDraft\">\n          确认导入\n        </button>\n        <button v-else class=\"modal-btn modal-btn--primary\" @tap=\"copyExportDraft\">\n          复制到剪贴板\n        </button>\n      </view>\n    </view>\n  </uni-popup>\n\n  <!-- 新增字段弹窗 -->\n  <uni-popup ref=\"fieldPopup\" type=\"center\" background-color=\"rgba(0,0,0,0.5)\">\n    <view class=\"draft-modal\">\n      <view class=\"modal-header\">\n        <text class=\"modal-title\">新增字段</text>\n        <button class=\"modal-close\" @tap=\"closeFieldPopup\">\n          <uni-icons type=\"close\" size=\"20\" color=\"#64748b\" />\n        </button>\n      </view>\n      <view class=\"modal-body\">\n        <text class=\"modal-description\">请输入字段名称（标题固定，值可编辑）</text>\n        <uni-easyinput v-model=\"newFieldLabel\" placeholder=\"如：项目名称/单位名称\" />\n      </view>\n      <view class=\"modal-actions\">\n        <button class=\"modal-btn modal-btn--secondary\" @tap=\"closeFieldPopup\">取消</button>\n        <button class=\"modal-btn modal-btn--primary\" @tap=\"confirmAddField\">确定</button>\n      </view>\n    </view>\n  </uni-popup>\n</template>\n\n<script setup>\n// 原有的 script 逻辑保持不变\nimport { ref, reactive, computed } from 'vue'\nimport { usePlatformInfo } from '@/utils/platform'\nimport AppLayout from '@/components/layout/AppLayout.vue'\nimport { onShow, onLoad } from '@dcloudio/uni-app'\nimport { navTitleStore } from '@/stores/navTitle.js'\n\n// 页面标题\nconst navTitle = navTitleStore()\nonShow(() => navTitle.setTitle('验收报告'))\n\n// 设备信息\nconst { isMobile } = usePlatformInfo()\n\n// 步骤（精简骨架）\nconst stepNames = ['上传&提取','提资单','业主比对','差异比对','标识牌','监测方案','最终生成']\nconst currentStep = ref(0)\nconst stepNamesDisplay = computed(() => stepNames.map((n, i) => stepDone(i) ? (n + ' ✓') : n))\nconst stepSelectOptions = computed(() => stepNames.map((n, i) => ({ text: stepDone(i) ? (n + ' ✓') : n, value: i })))\nfunction onStepChange(e) { const idx = Number(e?.currentIndex ?? e?.detail?.currentIndex ?? 0); if (!Number.isNaN(idx)) currentStep.value = idx }\nfunction prevStep() { if (currentStep.value > 0) currentStep.value -= 1 }\nfunction nextStep() { if (currentStep.value < stepNames.length - 1) currentStep.value += 1 }\n\n\r\n// 0. 上传与提取（占位）\r\nconst eiaFiles = ref([])\nfunction simulateExtract() {\n  // 本地示例提取：生成“项目基本信息”基础字段\n  const now = Date.now()\n  baseTable.value = [\n    { id: now+1,  label:'项目名称', value:'某产业园环保技改项目', unit:'', source:'extract', required:true, status:'pending' },\n    { id: now+2,  label:'单位名称', value:'广州市南沙新区产业园区开发建设管理局', unit:'', source:'extract', required:true, status:'pending' },\n    { id: now+3,  label:'项目地址', value:'广州市南沙区××路×号', unit:'', source:'extract', required:true, status:'pending' },\n    { id: now+4,  label:'联系人', value:'张三', unit:'', source:'extract', required:false, status:'pending' },\n    { id: now+5,  label:'联系电话', value:'123456789', unit:'', source:'extract', required:false, status:'require' },\n    { id: now+6,  label:'环评/批复编号', value:'环批〔2024〕001号', unit:'', source:'extract', required:true, status:'pending' },\n    { id: now+7,  label:'主要产品与规模', value:'产品A 年产1000吨', unit:'', source:'extract', required:true, status:'pending' },\n    { id: now+8,  label:'纬度', value:'23.12', unit:'°', source:'extract', required:false, status:'pending' },\n    { id: now+9,  label:'经度', value:'113.22', unit:'°', source:'extract', required:false, status:'pending' },\n    { id: now+10, section:'法规标准', label:'验收依据', value:'建设项目竣工环境保护验收暂行办法', unit:'', source:'extract', required:true, status:'pending' },\n  ]\n  extractionOk.value = true\n  uni.showToast({ title:`提取完成（示例 ${baseTable.value.length} 项）`, icon:'success' })\n  // 不自动跳转，直接在当前步骤展示并可编辑\n}\nfunction clearExtract() { eiaFiles.value = []; extractionOk.value = false; showSignboardStep1.value = false }\nconst extractionOk = ref(false)\nconst showSignboardStep1 = ref(false)\n\r\n// 校验与完成度（占位实现）\r\nfunction stepDone(i) { switch(i) { case 0: return extractionOk.value; default: return false } }\r\nfunction saveDraft() { uni.showToast({ title:'草稿已保存', icon:'success' }) }\r\n// 草稿导入/导出（占位 UI）\r\nconst draftPopup = ref(null)\nconst draftMode = ref('export')\nconst draftText = ref('')\n// 新增字段弹窗\nconst fieldPopup = ref(null)\nconst newFieldLabel = ref('')\nfunction openExportDraft(){ try{ draftMode.value='export'; draftText.value=JSON.stringify({ step: currentStep.value }, null, 2); draftPopup.value?.open?.() }catch(e){ uni.showToast({ title:'导出失败', icon:'none' }) } }\r\nfunction openImportDraft(){ draftMode.value='import'; draftText.value=''; draftPopup.value?.open?.() }\r\nfunction closeDraftPopup(){ draftPopup.value?.close?.() }\r\nfunction confirmImportDraft(){ try{ draftPopup.value?.close?.(); uni.showToast({ title:'导入完成', icon:'success' }) }catch(e){ uni.showToast({ title:'JSON 不合法', icon:'none' }) } }\r\nfunction copyExportDraft(){ try{ /* #ifdef H5 */ navigator.clipboard?.writeText?.(draftText.value||'') /* #endif */ /* #ifndef H5 */ uni.setClipboardData({ data: draftText.value || '' }) /* #endif */; uni.showToast({ title:'已复制', icon:'none' }); draftPopup.value?.close?.() }catch(e){ uni.showToast({ title:'复制失败', icon:'none' }) } }\nfunction clearDraft() { eiaFiles.value = []; extractionOk.value = false; currentStep.value = 0; uni.showToast({ title:'已清空', icon:'none' }) }\nfunction exportDocx() { uni.showToast({ title:'导出Word（占位）', icon:'none' }) }\nfunction exportPdf() { uni.showToast({ title:'导出PDF（占位）', icon:'none' }) }\n// 新增字段（标题固定，仅值可改）\nfunction openAddField(){ newFieldLabel.value = ''; fieldPopup.value?.open?.() }\nfunction closeFieldPopup(){ fieldPopup.value?.close?.() }\nfunction confirmAddField(){ const label = (newFieldLabel.value||'').trim(); if(!label){ uni.showToast({ title:'请输入字段名称', icon:'none' }); return } baseTable.value.push({ id: Date.now()+Math.random(), section:'', label, value:'', unit:'', source:'manual', required:false, status:'pending' }); fieldPopup.value?.close?.() }\n// 1. 信息表/提资单\r\nconst sourceOptions = [ { text: '提取', value: 'extract' }, { text: '手填', value: 'manual' }, { text: '业主', value: 'owner' } ]\r\nconst verifyOptions = [ { text: '待核对', value: 'pending' }, { text: '已核对', value: 'verified' }, { text: '需补充', value: 'require' } ]\r\nconst baseTable = ref([])\r\nconst datasheet = ref([])\nconst datasheetTypeOptions = [ { text:'需再次提资', value:'requireMore' }, { text:'需业主核对', value:'ownerConfirm' } ]\nfunction addBaseRow() { baseTable.value.push({ id: Date.now()+Math.random(), section:'', label:'', value:'', unit:'', source:'manual', required:false, status:'pending' }) }\nfunction removeBaseRow(i) { baseTable.value.splice(i, 1) }\nfunction generateDatasheet() { const list = baseTable.value.filter(r => (r.required && !r.value) || r.status !== 'verified').map(r => ({ id:r.id, label:r.label||'未命名', value:r.value||'', type: r.required && !r.value ? 'requireMore' : 'ownerConfirm', status:'pending' })); datasheet.value = list; uni.showToast({ title:`已生成提资单（${list.length}项）`, icon:'none' }) }\nfunction removeDatasheet(i) { datasheet.value.splice(i, 1) }\nfunction exportDatasheet() { uni.showToast({ title: '待对接：导出提资单', icon: 'none' }) }\n\n// 选择删除模式（批量删除，不在每行放删除按钮）\nconst selectMode = ref(false)\nconst selectedIds = ref([])\nfunction toggleSelectMode(){ selectMode.value = !selectMode.value; if (!selectMode.value) selectedIds.value = [] }\nfunction toggleSelected(id){ const arr = selectedIds.value; const i = arr.indexOf(id); if (i >= 0) arr.splice(i,1); else arr.push(id) }\nfunction removeSelected(){ if(!selectedIds.value.length){ uni.showToast({ title:'未选择字段', icon:'none' }); return } baseTable.value = baseTable.value.filter(r => !selectedIds.value.includes(r.id)); selectedIds.value = []; selectMode.value = false; uni.showToast({ title:'已删除选中字段', icon:'none' }) }\n\r\n// 2. 业主资料比对（占位）\r\nconst ownerFiles = ref([])\r\nconst missingList = ref([])\r\nconst conflictList = ref([])\r\nfunction simulateOwnerCompare() {\r\n  const missing = baseTable.value.filter(r => r.required && !r.value).map(r => ({ id: r.id+'m', label: r.label, desc:'资料缺失，需业主补充', status:'pending' }))\r\n  const conflicts = baseTable.value.filter(r => r.value && r.status !== 'verified').slice(0, 3).map(r => ({ id: r.id+'c', label: r.label, system:r.value, owner:'', resolution:'system' }))\r\n  missingList.value = missing\r\n  conflictList.value = conflicts\r\n  uni.showToast({ title: '比对完成（示例）', icon: 'none' })\r\n}\r\n\r\n// 3. 差异比对（设备/排放口）\r\nconst devices = ref([])\r\nconst outlets = ref([])\r\nconst diffs = ref([])\r\nconst outletTypes = [ { value: 'wastewater', text: '废水总排口' }, { value: 'organized', text: '有组织废气' }, { value: 'fugitive', text: '无组织废气' } ]\r\nfunction addDevice() { devices.value.push({ id: Date.now()+Math.random(), name:'', count:'', spec:'', location:'' }) }\r\nfunction removeDevice(i) { devices.value.splice(i, 1) }\r\nfunction addOutlet() { outlets.value.push({ id: Date.now()+Math.random(), code:'', type:'', location:'', standard:'', permitLimit:'' }) }\r\nfunction removeOutlet(i) { outlets.value.splice(i, 1) }\r\nfunction simulateDiff() {\r\n  const d = devices.value[0]\r\n  const list = []\r\n  if (d) list.push({ id: d.id+'d', category:'设备', field:d.name || '设备', fromEia:(d.count||'3'), fromSite:String(Number(d.count||'3') + 1), fromOwner:'', result:'现场较环评+1 台' })\r\n  const o = outlets.value[0]\r\n  if (o) list.push({ id: o.id+'o', category:'排放口', field:o.code || '排放口', fromEia:o.location, fromSite:o.location, fromOwner:'', result:'一致' })\r\n  diffs.value = list\r\n  uni.showToast({ title: '差异分析完成（示例）', icon: 'none' })\r\n}\r\n\r\n// 4. 标识牌文案\r\nconst signboard = reactive({ sections: [ { block:'废水', items:[ { title:'单位名称', content:'' } ] }, { block:'噪声', items:[ { title:'单位名称', content:'' } ] }, { block:'危险污染物', items:[ { title:'单位名称', content:'' } ] } ] })\r\nfunction generateSignboard() { const unit = findBaseValue('单位名称') || findBaseValue('项目名称') || ''; signboard.sections.forEach(sec => { const item = sec.items.find(i => i.title.includes('单位名称')); if (item) item.content = unit }); uni.showToast({ title: '已生成文案（示例）', icon: 'none' }) }\r\nfunction addSignItem(i) { signboard.sections[i].items.push({ title:'单位名称', content:'' }) }\r\nfunction removeSignItem(i, j) { signboard.sections[i].items.splice(j, 1) }\r\nfunction previewSignboard() { uni.showToast({ title: '预览占位', icon: 'none' }) }\r\nfunction exportSignboard() { uni.showToast({ title: '导出占位', icon: 'none' }) }\r\nfunction findBaseValue(label) { const r = baseTable.value.find(x => x.label === label); return r ? (r.value || '') : '' }\r\n\r\n// 5. 监测方案\r\nconst plan = ref([])\r\nfunction recommendPlan() { const hasWW = outlets.value.some(o => o.type === 'wastewater'); const hasWA = outlets.value.some(o => o.type === 'organized' || o.type === 'fugitive'); const now = Date.now(); if (hasWW) plan.value.push({ id: now+1, factor:'COD', point:'废水总排口', method:'GB/T 11914-2020', frequency:'3天×2次/天', qaqc:'平行/空白', remark:'' }); if (hasWA) plan.value.push({ id: now+2, factor:'颗粒物', point:'下风向', method:'HJ 836-2017', frequency:'2天×2次/天', qaqc:'平行', remark:'' }); if (!hasWW && !hasWA) plan.value.push({ id: now+3, factor:'噪声', point:'厂界四角', method:'GB 12348-2008', frequency:'昼/夜各1次', qaqc:'', remark:'' }); uni.showToast({ title: '已推荐方案（示例）', icon: 'none' }) }\r\nfunction addPlanItem() { plan.value.push({ id: Date.now()+Math.random(), factor:'', point:'', method:'', frequency:'', qaqc:'', remark:'' }) }\r\nfunction removePlanItem(i) { plan.value.splice(i, 1) }\r\nfunction duplicatePlanItem(i){ try { const src = plan.value[i]; plan.value.splice(i+1,0, { ...JSON.parse(JSON.stringify(src)), id: Date.now()+Math.random() }) } catch(e){} }\r\nfunction movePlanItem(i, dir) { if (i+dir<0 || i+dir>=plan.value.length) return; const it = plan.value.splice(i,1)[0]; plan.value.splice(i+dir,0,it) }\r\nfunction downloadMonitorTemplate() { uni.showToast({ title: '待后端提供模板', icon: 'none' }) }\r\n\r\n// 6. 最终生成\r\nfunction generateFinal() { const issues = validateAllSteps(); if (!issues.length) { uni.showToast({ title: '可生成（占位）', icon: 'none' }); return } const count = issues.reduce((s,it)=>s+it.messages.length,0); uni.showToast({ title: `仍有 ${count} 项待完善`, icon: 'none' }) }\r\nfunction preflight(type){ const issues=validateAllSteps(); if(!issues.length){ uni.showToast({ title:`可导出${type}（待后端）`, icon:'none' }); return } const count=issues.reduce((s,it)=>s+it.messages.length,0); const first=issues[0]; const msg=`共 ${count} 项待补充，涉及：`+issues.map(it=>`${stepNames[it.step]}(${it.messages.length})`).join('，'); uni.showModal({ title:'预检查提示', content:msg, confirmText:'去完善', cancelText:'继续导出', success:(res)=>{ if(res.confirm){ currentStep.value=first.step } else { uni.showToast({ title:`模拟导出${type}，待对接`, icon:'none' }) } } }) }\r\nconst preflightSummary = computed(() => { const xs = validateAllSteps(); if (!xs.length) return '已满足生成条件（示例）。'; return xs.map(it => `· ${stepNames[it.step]}：${it.messages.join('，')}`).join('\\n') })\r\n\r\n// 校验\r\nfunction validateStep(i){ const misses=[]; if (i===0){ if(!eiaFiles.value.length && !extractionOk.value) misses.push('上传至少1个文件或使用示例提取') } else if (i===1){ if(!baseTable.value.length) misses.push('未生成项目信息表') } else if (i===3){ if(!devices.value.length && !outlets.value.length) misses.push('请完善设备或排放口') } else if (i===4){ if(!signboard.sections.some(sec => sec.items.some(it => it.content))) misses.push('标识牌至少填写一项内容') } else if (i===5){ if(!plan.value.length) misses.push('请新增或推荐至少1条方案') } return misses }\r\nfunction validateAllSteps(){ const issues=[]; for(let i=0;i<stepNames.length;i++){ const m=validateStep(i); if(m.length) issues.push({step:i,messages:m}) } return issues }\r\n\r\n// 完成度（粗略）\r\nconst completionPercent = computed(() => {\r\n  let total=0, done=0\r\n  total+=1; if (extractionOk.value) done+=1\r\n  total+=1; if (baseTable.value.length>0) done+=1\r\n  total+=1; done+=1 // 业主比对先计入\r\n  const pct=Math.round((done/Math.max(total,7))*100)\r\n  return Math.min(100, Math.max(0, pct))\r\n})\r\nonLoad(() => {})\n</script>\n\n<style lang=\"scss\" scoped>\n.acceptance-page {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n}\n\n/* 顶部工具栏 */\n.acceptance-toolbar {\n  background: #ffffff;\n  border-bottom: 1rpx solid #e2e8f0;\n  box-shadow: 0 2rpx 12rpx rgba(15, 23, 42, 0.06);\n  padding: 24rpx 32rpx;\n}\n\n.toolbar-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 32rpx;\n}\n\n.toolbar-left {\n  display: flex;\n  align-items: center;\n  gap: 24rpx;\n}\n\n.progress-section {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n}\n\n.progress-label {\n  font-size: 26rpx;\n  color: #64748b;\n  font-weight: 500;\n}\n\n.progress-bar {\n  width: 200rpx;\n  height: 8rpx;\n  background: #e2e8f0;\n  border-radius: 4rpx;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(135deg, #276019, #3aa34b);\n  border-radius: 4rpx;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 24rpx;\n  color: #276019;\n  font-weight: 600;\n  min-width: 60rpx;\n}\n\n.toolbar-right {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.toolbar-buttons {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n}\n\n.toolbar-btn {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  padding: 0 20rpx;\n  height: 64rpx;\n  border-radius: 12rpx;\n  font-size: 24rpx;\n  font-weight: 500;\n  border: 1rpx solid #e2e8f0;\n  background: #ffffff;\n  color: #374151;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n}\n\n.toolbar-btn:active {\n  transform: translateY(1rpx);\n}\n\n.toolbar-btn--secondary {\n  background: #f8fafc;\n  border-color: #f1f5f9;\n}\n\n.toolbar-btn--secondary:active {\n  background: #f1f5f9;\n}\n\n.toolbar-btn--primary {\n  background: linear-gradient(135deg, #276019, #3aa34b);\n  border-color: #276019;\n  color: #ffffff;\n  box-shadow: 0 4rpx 12rpx rgba(39, 96, 25, 0.3);\n}\n\n.toolbar-btn--primary:active {\n  box-shadow: 0 2rpx 8rpx rgba(39, 96, 25, 0.4);\n}\n\n/* 步骤导航 */\n.acceptance-steps {\n  background: #ffffff;\n  border-bottom: 1rpx solid #f1f5f9;\n  padding: 24rpx 32rpx;\n}\n\n.steps-container {\n  max-width: 1200rpx;\n  margin: 0 auto;\n}\n\n.mobile-step-select {\n  width: 100%;\n}\n\n.desktop-steps {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8rpx;\n}\n\n.step-item {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  padding: 16rpx 24rpx;\n  border-radius: 12rpx;\n  transition: all 0.3s ease;\n  position: relative;\n  flex: 1;\n  cursor: pointer;\n}\n\n.step-item:active {\n  background: #f8fafc;\n}\n\n.step-item--active {\n  background: rgba(39, 96, 25, 0.08);\n  border: 1rpx solid rgba(39, 96, 25, 0.2);\n}\n\n.step-item--completed {\n  .step-indicator {\n    background: #10b981;\n    color: #ffffff;\n  }\n  \n  .step-label {\n    color: #10b981;\n    font-weight: 600;\n  }\n}\n\n.step-indicator {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 50%;\n  background: #f1f5f9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20rpx;\n  font-weight: 600;\n  color: #64748b;\n  transition: all 0.3s ease;\n  flex-shrink: 0;\n}\n\n.step-item--active .step-indicator {\n  background: #276019;\n  color: #ffffff;\n}\n\n.step-check {\n  font-size: 18rpx;\n}\n\n.step-label {\n  font-size: 26rpx;\n  color: #64748b;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.step-item--active .step-label {\n  color: #276019;\n  font-weight: 600;\n}\n\n.step-completed-line {\n  position: absolute;\n  top: 50%;\n  right: -12rpx;\n  width: 24rpx;\n  height: 2rpx;\n  background: #10b981;\n}\n\n/* 主要内容区域 */\n.acceptance-content {\n  flex: 1;\n  padding: 24rpx 32rpx;\n  min-height: 0;\n}\n\n.content-scroll {\n  height: 100%;\n}\n\n.content-section {\n  margin-bottom: 24rpx;\n}\n\n.section-card {\n  background: #ffffff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.08);\n  border: 1rpx solid #f1f5f9;\n  overflow: hidden;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  padding: 32rpx 32rpx 0;\n  margin-bottom: 24rpx;\n}\n\n.section-title {\n  font-size: 32rpx;\n  color: #0f172a;\n  font-weight: 600;\n}\n\n.section-body {\n  padding: 0 32rpx 32rpx;\n}\n\n/* 表单样式 */\n.form-group {\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n  margin-bottom: 32rpx;\n}\n\n.form-label {\n  font-size: 28rpx;\n  color: #0f172a;\n  font-weight: 600;\n}\n\n.form-tip {\n  font-size: 24rpx;\n  color: #64748b;\n}\n\n.file-uploader {\n  margin-top: 8rpx;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 16rpx;\n  margin-top: 24rpx;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  padding: 0 24rpx;\n  height: 72rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  font-weight: 500;\n  border: 1rpx solid #e2e8f0;\n  background: #ffffff;\n  color: #374151;\n  transition: all 0.2s ease;\n}\n\n.action-btn:active {\n  transform: translateY(1rpx);\n}\n\n.action-btn--primary {\n  background: #3aa34b;\n  color: #ffffff;\n  box-shadow: 0 4rpx 12rpx rgba(92, 169, 91, 0.3);\n}\n\n.action-btn--primary:active {\n  box-shadow: 0 2rpx 8rpx rgba(39, 96, 25, 0.4);\n}\n\n.action-btn--secondary {\n  background: #f8fafc;\n  border-color: #f1f5f9;\n}\n\n.action-btn--secondary:active {\n  background: #f1f5f9;\n}\n\n.section-actions {\n  display: flex;\n  gap: 16rpx;\n  margin-bottom: 24rpx;\n}\n\n/* 表格样式 */\n.data-table {\n  border: 1rpx solid #e2e8f0;\n  border-radius: 12rpx;\n  overflow: hidden;\n  margin-bottom: 32rpx;\n}\n\n.table-header {\n  display: grid;\n  grid-template-columns: 160rpx 220rpx 1fr 120rpx 150rpx 140rpx 160rpx 120rpx;\n  background: #f8fafc;\n  border-bottom: 1rpx solid #e2e8f0;\n}\n\n.table-th {\n  padding: 20rpx 16rpx;\n  font-size: 24rpx;\n  color: #475569;\n  font-weight: 600;\n  text-align: left;\n  border-right: 1rpx solid #e2e8f0;\n  \n  &:last-child {\n    border-right: none;\n  }\n}\n\n.table-body {\n  background: #ffffff;\n}\n\n.table-row {\n  display: grid;\n  grid-template-columns: 160rpx 220rpx 1fr 120rpx 150rpx 140rpx 160rpx 120rpx;\n  border-bottom: 1rpx solid #f1f5f9;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n}\n\n.table-td {\n  padding: 20rpx 16rpx;\n  border-right: 1rpx solid #f1f5f9;\n  min-height: 80rpx;\n  display: flex;\n  align-items: center;\n  \n  &:last-child {\n    border-right: none;\n  }\n}\n\n.table-label {\n  font-weight: 600;\n  color: #334155;\n}\n\n/* 新的响应式表单布局（项目信息表） */\n.form-grid--base {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16rpx 24rpx;\n}\n\n.form-item__row {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  background: #ffffff;\n  border: 1rpx solid #e2e8f0;\n  border-radius: 12rpx;\n  padding: 16rpx;\n}\n\n.form-item__label {\n  // width: 200rpx;\n  min-width: 180rpx;\n  color: #334155;\n  font-weight: 600;\n}\n\n.form-item__input {\n  flex: 1;\n}\n\n.form-item__select {\n  width: 56rpx;\n  display: flex;\n  justify-content: center;\n}\n\n/* 移动端/小程序：单列布局，标题在左，输入在右（保持一行） */\n@media (max-width: 768px) {\n  .form-grid--base {\n    grid-template-columns: 1fr;\n    gap: 12rpx;\n  }\n  .form-item__label {\n    width: 160rpx;\n    min-width: 140rpx;\n  }\n}\n\n/* 危险态按钮 */\n.action-btn--danger {\n  background: #fef2f2;\n  border-color: #fee2e2;\n  color: #b91c1c;\n}\n.action-btn--danger:active {\n  background: #fee2e2;\n}\n\n/* 宽度工具类 */\n.w80 { min-width: 160rpx; max-width: 160rpx; }\n.w100 { min-width: 180rpx; max-width: 180rpx; }\n.w120 { min-width: 220rpx; max-width: 220rpx; }\n.w140 { min-width: 260rpx; max-width: 260rpx; }\n.w160 { min-width: 300rpx; max-width: 300rpx; }\n.w200 { min-width: 360rpx; max-width: 360rpx; }\n\n/* 图标按钮 */\n.icon-btn {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 8rpx;\n  background: transparent;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n\n.icon-btn:active {\n  background: #f1f5f9;\n}\n\n.icon-btn--danger:active {\n  background: rgba(239, 68, 68, 0.1);\n}\n\n/* 子章节样式 */\n.subsection {\n  margin-top: 32rpx;\n  padding-top: 32rpx;\n  border-top: 1rpx solid #f1f5f9;\n}\n\n.subsection-header {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  margin-bottom: 20rpx;\n}\n\n.subsection-title {\n  font-size: 28rpx;\n  color: #0f172a;\n  font-weight: 600;\n}\n\n.subsection-actions {\n  margin-bottom: 20rpx;\n}\n\n/* 空状态 */\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16rpx;\n  padding: 60rpx 32rpx;\n  text-align: center;\n  color: #cbd5e1;\n}\n\n.empty-text {\n  font-size: 28rpx;\n  color: #64748b;\n  font-weight: 500;\n}\n\n.empty-tip {\n  font-size: 24rpx;\n  color: #94a3b8;\n}\n\n/* 底部导航 */\n.acceptance-navigation {\n  background: #ffffff;\n  border-top: 1rpx solid #e2e8f0;\n  padding: 24rpx 32rpx;\n  box-shadow: 0 -2rpx 12rpx rgba(15, 23, 42, 0.06);\n}\n\n.nav-buttons {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1200rpx;\n  margin: 0 auto;\n}\n\n.nav-btn {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  padding: 0 32rpx;\n  height: 80rpx;\n  border-radius: 12rpx;\n  font-size: 28rpx;\n  font-weight: 600;\n  border: 1rpx solid #e2e8f0;\n  background: #ffffff;\n  color: #374151;\n  transition: all 0.3s ease;\n}\n\n.nav-btn:active:not(:disabled) {\n  transform: translateY(1rpx);\n}\n\n.nav-btn:disabled {\n  background: #f8fafc;\n  color: #cbd5e1;\n  border-color: #f1f5f9;\n}\n\n.nav-btn--secondary {\n  background: #f8fafc;\n  border-color: #f1f5f9;\n}\n\n.nav-btn--secondary:active:not(:disabled) {\n  background: #f1f5f9;\n}\n\n.nav-btn--primary {\n  background: #3aa34b;\n  color: #ffffff;\n  box-shadow: 0 4rpx 16rpx rgba(60, 148, 60, 0.3);\n}\n\n.nav-btn--primary:active:not(:disabled) {\n  box-shadow: 0 2rpx 8rpx rgba(39, 96, 25, 0.4);\n}\n\n/* 草稿模态框 */\n.draft-modal {\n  background: #ffffff;\n  border-radius: 20rpx;\n  width: 80vw;\n  max-width: 600rpx;\n  overflow: hidden;\n  box-shadow: 0 20rpx 60rpx rgba(15, 23, 42, 0.2);\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 32rpx;\n  border-bottom: 1rpx solid #f1f5f9;\n}\n\n.modal-title {\n  font-size: 32rpx;\n  color: #0f172a;\n  font-weight: 600;\n}\n\n.modal-close {\n  width: 48rpx;\n  height: 48rpx;\n  border-radius: 8rpx;\n  background: transparent;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n\n.modal-close:active {\n  background: #f1f5f9;\n}\n\n.modal-body {\n  padding: 32rpx;\n}\n\n.modal-description {\n  font-size: 26rpx;\n  color: #64748b;\n  margin-bottom: 20rpx;\n  display: block;\n}\n\n.draft-textarea {\n  width: 100%;\n  min-height: 400rpx;\n  padding: 20rpx;\n  border: 1rpx solid #e2e8f0;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  line-height: 1.5;\n  background: #fafafa;\n  box-sizing: border-box;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 16rpx;\n  padding: 0 32rpx 32rpx;\n  justify-content: flex-end;\n}\n\n.modal-btn {\n  padding: 0 32rpx;\n  height: 72rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  font-weight: 500;\n  border: 1rpx solid #e2e8f0;\n  background: #ffffff;\n  color: #374151;\n  transition: all 0.2s ease;\n}\n\n.modal-btn:active {\n  transform: translateY(1rpx);\n}\n\n.modal-btn--secondary {\n  background: #f8fafc;\n  border-color: #f1f5f9;\n}\n\n.modal-btn--secondary:active {\n  background: #f1f5f9;\n}\n\n.modal-btn--primary {\n  background: linear-gradient(135deg, #276019, #3aa34b);\n  border-color: #276019;\n  color: #ffffff;\n  box-shadow: 0 4rpx 12rpx rgba(39, 96, 25, 0.3);\n}\n\n.modal-btn--primary:active {\n  box-shadow: 0 2rpx 8rpx rgba(39, 96, 25, 0.4);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .acceptance-toolbar {\n    padding: 20rpx 24rpx;\n  }\n  \n  .toolbar-content {\n    flex-direction: column;\n    gap: 20rpx;\n  }\n  \n  .toolbar-left {\n    width: 100%;\n    justify-content: space-between;\n  }\n  \n  .toolbar-right {\n    width: 100%;\n    justify-content: flex-start;\n  }\n  \n  .toolbar-buttons {\n    width: 100%;\n    justify-content: flex-start;\n    overflow-x: auto;\n    padding-bottom: 8rpx;\n  }\n  \n  .acceptance-steps {\n    padding: 20rpx 24rpx;\n  }\n  \n  .acceptance-content {\n    padding: 20rpx 24rpx;\n  }\n  \n  .section-header {\n    padding: 24rpx 24rpx 0;\n  }\n  \n  .section-body {\n    padding: 0 24rpx 24rpx;\n  }\n  \n  .table-header,\n  .table-row {\n    grid-template-columns: 1fr;\n    gap: 0;\n  }\n  \n  .table-th,\n  .table-td {\n    border-right: none;\n    border-bottom: 1rpx solid #f1f5f9;\n    min-width: auto;\n    max-width: none;\n  }\n  \n  .table-th:last-child,\n  .table-td:last-child {\n    border-bottom: none;\n  }\n  \n  .acceptance-navigation {\n    padding: 20rpx 24rpx;\n  }\n  \n  .draft-modal {\n    width: 90vw;\n    margin: 0 20rpx;\n  }\n}\n\n/* 桌面端悬停效果 */\n@media (min-width: 769px) {\n  .toolbar-btn:hover {\n    background: #f8fafc;\n  }\n  \n  .toolbar-btn--secondary:hover {\n    background: #f1f5f9;\n  }\n  \n  .toolbar-btn--primary:hover {\n    box-shadow: 0 6rpx 16rpx rgba(39, 96, 25, 0.4);\n  }\n  \n  .step-item:hover {\n    background: #f8fafc;\n  }\n  \n  .action-btn:hover {\n    background: #00aaff;\n  }\n  \n  .action-btn--primary:hover {\n    // box-shadow: 0 6rpx 16rpx rgba(39, 96, 25, 0.4);\n  }\n  \n  .action-btn--secondary:hover {\n    background: #f1f5f9;\n  }\n  \n  .icon-btn:hover {\n    background: #f1f5f9;\n  }\n  \n  .icon-btn--danger:hover {\n    background: rgba(239, 68, 68, 0.1);\n  }\n  \n  .nav-btn:hover:not(:disabled) {\n    background: #55aaff;\n  }\n  \n  .nav-btn--primary:hover:not(:disabled) {\n    box-shadow: 0 6rpx 20rpx rgba(39, 96, 25, 0.4);\n  }\n  \n  .modal-close:hover {\n    background: #f1f5f9;\n  }\n  \n  .modal-btn:hover {\n    background: #f8fafc;\n  }\n  \n  .modal-btn--secondary:hover {\n    background: #f1f5f9;\n  }\n  \n  .modal-btn--primary:hover {\n    box-shadow: 0 6rpx 16rpx rgba(39, 96, 25, 0.4);\n  }\n}\n</style>\n","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/reports/acceptance/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","usePlatformInfo","ref","computed","uni","reactive","onLoad"],"mappings":"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"}