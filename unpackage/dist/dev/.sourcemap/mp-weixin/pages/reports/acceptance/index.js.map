{"version":3,"file":"index.js","sources":["pages/reports/acceptance/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVwb3J0cy9hY2NlcHRhbmNlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<app-layout current=\"pages/reports/acceptance/index\">\n\t\t<view class=\"acceptance-page\">\n\t\t\t<!-- 步骤导航 -->\n\t\t\t<view class=\"acceptance-steps\">\n\t\t\t\t<view class=\"steps-container\">\n\t\t\t\t\t<template v-if=\"isMobile\">\n\t\t\t\t\t\t<uni-data-select v-model=\"currentStep\" :localdata=\"stepSelectOptions\" placeholder=\"选择步骤\"\n\t\t\t\t\t\t\tclass=\"mobile-step-select\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<view class=\"desktop-steps\" role=\"tablist\">\n\t\t\t\t\t\t\t<view v-for=\"(step, index) in stepNames\" :key=\"index\" class=\"step-item\" :class=\"{\n                  'step-item--active': currentStep === index,\n                  'step-item--completed': stepDone(index)\n                }\" role=\"tab\" :aria-selected=\"currentStep === index\" @tap=\"currentStep = index\">\n\t\t\t\t\t\t\t\t<view class=\"step-indicator\">\n\t\t\t\t\t\t\t\t\t<text v-if=\"stepDone(index)\" class=\"step-check\">✓</text>\n\t\t\t\t\t\t\t\t\t<text v-else class=\"step-number\">{{ index + 1 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<text class=\"step-label\">{{ step }}</text>\n\t\t\t\t\t\t\t\t<view v-if=\"index < stepNames.length - 1\" class=\"step-connector\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 主要内容区域 -->\n\t\t\t<view class=\"acceptance-content\">\n\t\t\t\t<scroll-view class=\"content-scroll\" scroll-y>\n\t\t\t\t\t<!-- 步骤1: 资料上传 -->\n\t\t\t\t\t<view v-show=\"currentStep === 0\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-upload\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">资料上传</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t\t\t\t<text class=\"form-label\">请上传环评报告书/报告表/批复文件/其他资料等</text>\n\t\t\t\t\t\t\t\t\t<text class=\"form-tip\">支持 PDF、Word、图片等格式，单次上传最多 9 个文件</text>\n\t\t\t\t\t\t\t\t\t<ecoFilePicker file-mediatype=\"all\"\n\t\t\t\t\t\t\t\t\t\tfile-extname=\"pdf,docx,md,doc,ppt,pptx,png,jpg,jpeg\" v-model=\"eiaFiles\"\n\t\t\t\t\t\t\t\t\t\tfileMediatype=\"all\" :auto-upload=\"false\" limit=\"50\" @select=\"handleFileSelect\"\n\t\t\t\t\t\t\t\t\t\t@delete=\"handleFileDelete\">\n\t\t\t\t\t\t\t\t\t</ecoFilePicker>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"action-row\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"simulateExtract\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"search\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t<text>提取项目基本信息</text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<!-- 项目信息表和标识牌信息 -->\n\t\t\t\t\t\t\t\t<view v-if=\"baseTable.length\" class=\"subsection\">\n\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">项目信息表</text>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"openAddBase\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>新增</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t<button v-if=\"selectMode\" class=\"btn btn--danger\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!selectedIds.length\" @tap=\"removeSelected\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>删除选中（{{ selectedIds.length }}）</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"toggleSelectMode\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons :type=\"selectMode ? 'clear' : 'checkbox'\" size=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#155e3b\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>{{ selectMode ? '取消' : '选择删除' }}</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<!-- 项目信息表 -->\n\t\t\t\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(item, idx) in baseTable\" :key=\"item.id\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- 污染物表格特殊渲染 -->\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.id === 'pollutants_emission' && item.type === 'table'\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"pollutants-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants_baseinfo_row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"form-item__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.label }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.source === 'extracted'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"extract-tag\">已提取</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 污染物表格 -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-table\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 表格头部 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">污染物类型</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">产生环节</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">污染物名称</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">污染治理措施\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">排放去向\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">执行标准\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 表格内容 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 水污染物 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.水污染物 && item.value.水污染物.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(water, index) in item.value.水污染物\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'water-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">水污染物\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.产生环节 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.污染物名称 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.污染治理措施 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.排放去向 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ water.执行标准 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 大气污染物 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.大气污染物 && item.value.大气污染物.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(air, index) in item.value.大气污染物\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'air-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">大气污染物\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.产生环节 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.污染物名称 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.污染治理措施 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.排放去向 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ air.执行标准 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 噪声 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.value.噪声 && item.value.噪声.length\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(noise, index) in item.value.噪声\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'noise-' + index\" class=\"pollutants-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--type\">噪声</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--link\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.产生环节 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.污染物名称 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--measure\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.污染治理措施 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--direction\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.排放去向 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"pollutants-col pollutants-col--standard\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ noise.执行标准 || '-' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- 选择模式下的复选框 -->\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectMode\" class=\"pollutants-select\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"selectedIds.includes(item.id)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => toggleSelected(item.id)\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\n\t\t\t\t\t\t\t\t\t\t\t<view v-else class=\"baseinfo__row\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"form-item__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ item.label }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--  如果是提取的数据，显示绿色小标签 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.source === 'extracted'\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"extract-tag\">已提取</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"form-item__input\" v-model=\"item.value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入具体的值\" :clearable=\"true\" />\n\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectMode\" class=\"form-item__select\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"selectedIds.includes(item.id)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => toggleSelected(item.id)\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<!-- 标识牌信息生成 -->\n\t\t\t\t\t\t\t\t\t<view class=\"subsection\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#fb923c\" />\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">排污标识牌（下载与业主确认排污口信息）</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => { generateSignboard(); showSignboard = true }\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"eye-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>标识牌信息</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"showSignboard\" class=\"btn btn--primary\" @tap=\"downBiaoShi\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"download-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>下载</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"showSignboard\" class=\"btn btn--primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"currentStep = 1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"redo-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<text>生成监测方案</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t<!-- 标识牌信息列表 -->\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"showSignboard\" class=\"data-table\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-for=\"(sec, si) in signboard.sections\" :key=\"'s'+si\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row table-row--simple\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-td table-td--section\">{{ sec.block }}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 只有噪声才可以新增 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"sec.block == '噪声'\" class=\"pw-ico icon-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => addSignItem(si)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>新增</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 按组渲染，每组 3 条，除了危废以外 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"(group, gi) in groupItems(sec.items, sec.block)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'g'+si+'-'+gi\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 普通 3 条 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(it, ii) in group\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'r'+si+'-'+gi+'-'+ii\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"it.title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"内容标题\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput v-model=\"it.content\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入具体的值\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 删除按钮：只有「非危险废物」才显示 -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"sec.block !== '危险废物'\" class=\"form-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin-bottom:12px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"justify-content:flex-end;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn icon-btn--danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => removeGroup(sec, gi)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#d92d20\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 步骤1: 监测方案 -->\n\t\t\t\t\t<view v-show=\"currentStep === 1\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"eye\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">监测方案</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<view class=\"empty-state\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"eye\" size=\"48\" color=\"#cbd5e1\" />\n\t\t\t\t\t\t\t\t\t<text class=\"empty-text\">AI帮您制定监测方案</text>\n\t\t\t\t\t\t\t\t\t<text class=\"empty-tip\">请点击下方按钮为您生成智能检测方案</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"action-row\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"saveMonitorPlan\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-download-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t<text>生成监测方案</text>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<view v-if=\"plan\" class=\"paln-preview\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-header\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"checkmark-circle\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"preview-title\">环保验收监测方案已为您已生成！</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-content\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"preview-text\">环保验收监测方案已生成，包含以下内容：</text>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"preview-sections\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 项目基本情况</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 环保设施建设情况</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 污染物详细情况</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 方案已下载，到文件保存位置查看</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\n\t\t\t\t\t<!-- 步骤2: 提资单比对 -->\n\t\t\t\t\t<view v-show=\"currentStep === 2\" class=\"content-section\">\n\t\t\t\t\t\t<!-- 环保资料提交管理系统界面 -->\n\t\t\t\t\t\t<view class=\"tizidan-container\">\n\t\t\t\t\t\t\t<view class=\"tizidan-header\">\n\t\t\t\t\t\t\t\t<text class=\"tizidan-title\">环保资料提交管理系统</text>\n\t\t\t\t\t\t\t\t<text class=\"tizidan-subtitle\">请按要求提交相关环保资料</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"tizidan-content\">\n\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in tizidanItems\" \n\t\t\t\t\t\t\t\t\t:key=\"index\" \n\t\t\t\t\t\t\t\t\tclass=\"tizidan-item-card\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<view class=\"tizidan-item-content\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"tizidan-item-number\">{{ index + 1 }}.</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"tizidan-item-text\">{{ item.text }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<view class=\"tizidan-item-status\">\n\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\tclass=\"tizidan-status-text\" \n\t\t\t\t\t\t\t\t\t\t\t:class=\"item.submitted ? 'tizidan-submitted' : 'tizidan-unsubmitted'\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ item.submitted ? '已提交' : '未提交' }}\n\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\t\tv-if=\"!item.submitted\" \n\t\t\t\t\t\t\t\t\t\t\tclass=\"tizidan-submit-btn\" \n\t\t\t\t\t\t\t\t\t\t\t@click=\"submitTizidanItem(index)\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t提交\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"tizidan-footer\">\n\t\t\t\t\t\t\t\t<text class=\"tizidan-footer-text\">请确保所有资料完整准确</text>\n\t\t\t\t\t\t\t\t<button>下载验收报告的提资单文档</button>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 步骤3: 现场踏勘比对 -->\n\t\t\t\t\t<view v-show=\"currentStep === 3\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">现场踏勘比对</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<view class=\"form-group\">\n\t\t\t\t\t\t\t\t\t<text class=\"form-label\">现场踏勘记录</text>\n\t\t\t\t\t\t\t\t\t<text class=\"form-tip\">记录现场踏勘发现的问题和差异</text>\n\t\t\t\t\t\t\t\t\t<textarea class=\"fieldwork-textarea\" v-model=\"fieldworkRecord\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入现场踏勘记录...\" />\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"subsection\">\n\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">现场踏勘比对清单</text>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"generateFieldworkComparison\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>生成详细比对清单</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"addComparisonItem\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#155e3b\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>新增比对项</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view v-if=\"fieldworkComparison.length\" class=\"data-table\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"table-header\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w120\">比对项目</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-th\">环评要求</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-th\">现场情况</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w120\">差异说明</text>\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w80\">操作</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"table-body\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row\" v-for=\"(item, index) in fieldworkComparison\"\n\t\t\t\t\t\t\t\t\t\t\t\t:key=\"item.id\">\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"table-td w120\" v-model=\"item.project\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"项目名称\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"table-td\" v-model=\"item.eiaRequirement\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"环评要求\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"table-td\" v-model=\"item.fieldSituation\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"现场情况\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"table-td w120\" v-model=\"item.difference\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"差异说明\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-td w80\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn icon-btn--danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => removeComparisonItem(index)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#d92d20\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view v-else class=\"empty-state\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"map-pin-ellipse\" size=\"48\" color=\"#cbd5e1\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"empty-text\">尚未生成现场踏勘比对清单</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"empty-tip\">点击上方按钮生成或新增比对项</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"subsection\">\n\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"refresh\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">基本信息更新确认</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"update-confirm\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"update-label\">是否根据现场踏勘结果更新项目基本信息表？</text>\n\t\t\t\t\t\t\t\t\t\t<view class=\"update-actions\">\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"updateBaseInfo(false)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text>否，继续下一步</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"updateBaseInfo(true)\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text>是，更新基本信息</text>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 步骤5: 竣工验收报告 -->\n\t\t\t\t\t<view v-show=\"currentStep === 4\" class=\"content-section\">\n\t\t\t\t\t\t<view class=\"section-card\">\n\t\t\t\t\t\t\t<view class=\"section-header\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"document\" size=\"20\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t<text class=\"section-title\">竣工验收报告</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"section-body\">\n\t\t\t\t\t\t\t\t<view class=\"report-generation\">\n\t\t\t\t\t\t\t\t\t<view class=\"generation-options\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"option-group\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"option-label\">报告类型</text>\n\t\t\t\t\t\t\t\t\t\t\t<radio-group class=\"radio-group\" @change=\"onReportTypeChange\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"radio-item\" v-for=\"type in reportTypes\" :key=\"type.value\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<radio :value=\"type.value\" :checked=\"reportType === type.value\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"radio-text\">{{ type.text }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</radio-group>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"option-group\" v-if=\"reportType === 'withData'\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"option-label\"> 上传监测报告</text>\n\t\t\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"testReportFiles\" fileMediatype=\"all\"\n\t\t\t\t\t\t\t\t\t\t\t\t:auto-upload=\"false\" :limit=\"3\">\n\t\t\t\t\t\t\t\t\t\t\t</uni-file-picker>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view class=\"generation-actions\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"generateAcceptanceReport\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-download-filled\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t\t\t\t\t\t\t<text>生成验收报告</text>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<view v-if=\"reportGenerated\" class=\"report-preview\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-header\">\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"checkmark-circle\" size=\"18\" color=\"#166534\" />\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"preview-title\">报告生成完成</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"preview-content\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"preview-text\">竣工验收报告已生成，包含以下内容：</text>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"preview-sections\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 项目基本情况</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 环保设施建设情况</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 监测结果分析</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"section-item\">• 验收结论</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"reportType === 'withData'\" class=\"section-item\">•\n\t\t\t\t\t\t\t\t\t\t\t\t\t检测数据附件</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t</view>\n\n\t\t\t<!-- 底部导航 -->\n\t\t\t<view class=\"acceptance-navigation\">\n\t\t\t\t<view class=\"nav-buttons\">\n\t\t\t\t\t<button class=\"btn btn--ghost\" :disabled=\"currentStep === 0\" @tap=\"prevStep\">\n\t\t\t\t\t\t<uni-icons type=\"left\" size=\"16\" color=\"#5b6b7b\" />\n\t\t\t\t\t\t<text>上一步</text>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"btn btn--primary\" :disabled=\"currentStep === stepNames.length - 1\" @tap=\"nextStep\">\n\t\t\t\t\t\t<text>下一步</text>\n\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#ffffff\" />\n\t\t\t\t\t</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</app-layout>\n\n\t<!-- 新增项目基本信息弹窗 -->\n\t<uni-popup ref=\"newBaseInfoPopup\" type=\"center\">\n\t\t<view class=\"modal\">\n\t\t\t<view class=\"modal-header\">\n\t\t\t\t<text class=\"modal-title\">新增项目基本信息</text>\n\t\t\t</view>\n\t\t\t<view class=\"modal-body\">\n\t\t\t\t<text class=\"modal-description\">请在下方输入信息名称</text>\n\t\t\t\t<uni-easyinput v-model=\"newBaseInfoLabel\" placeholder=\"如：项目名称/单位名称\" />\n\t\t\t</view>\n\t\t\t<view class=\"modal-actions\">\n\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"closeBaseInfo\">取消</button>\n\t\t\t\t<button class=\"btn btn--primary\" @tap=\"confirmAddBaseInfo\">确定</button>\n\t\t\t</view>\n\t\t</view>\n\t</uni-popup>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\treactive,\n\t\tcomputed,\n\t\tnextTick\n\t} from 'vue'\n\timport {\n\t\tusePlatformInfo\n\t} from '@/utils/platform'\n\timport AppLayout from '@/components/layout/AppLayout.vue'\n\timport {\n\t\tonShow,\n\t\tonLoad\n\t} from '@dcloudio/uni-app'\n\timport ecoFilePicker from '@/components/eco-file-picker/uni-file-picker.vue'\n\timport {\n\t\tnavTitleStore\n\t} from '@/stores/navTitle.js'\n\timport {\n\t\tuploadFileToBackend,\n\t\trunTask,\n\t\ttransformExtractResult,\n\t\tdownloadSignboardWord,\n\t\tfetchUploadedFiles,\n\t\tdeleteFile,\n\t\tdownloadMonitorPlan\n\t} from '@/api/acceptance.js'\n\n\t//手机端头部页面标题\n\tconst navTitle = navTitleStore()\n\tonShow(() => navTitle.setTitle('环评项目竣工验收'))\n\n\t//手机页面规定\n\tconst {\n\t\tisMobile\n\t} = usePlatformInfo()\n\n\n\t// 每个步骤定义--------------------------\n\t// 步骤标题\n\tconst stepNames = ['资料上传与基本信息', '监测方案', '提资单比对', '现场踏勘比对', '竣工验收报告']\n\n\t// 默认从第一步开始(0)\n\tconst currentStep = ref(0)\n\n\t// 手机端步骤选择\n\tconst stepNamesDisplay = computed(() => stepNames.map((n, i) => stepDone(i) ? (n + ' ✓') : n))\n\tconst stepSelectOptions = computed(() => stepNames.map((n, i) => ({\n\t\ttext: stepDone(i) ? (n + ' ✓') : n,\n\t\tvalue: i\n\t})))\n\n\t// 步骤更改时\n\tfunction onStepChange(e) {\n\t\tconst idx = Number(e?.currentIndex ?? e?.detail?.currentIndex ?? 0);\n\t\tif (!Number.isNaN(idx)) currentStep.value = idx\n\t}\n\n\t// 上一步按钮\n\tfunction prevStep() {\n\t\tif (currentStep.value > 0) currentStep.value -= 1\n\t}\n\t// 下一步按钮\n\tfunction nextStep() {\n\t\tif (currentStep.value < stepNames.length - 1) currentStep.value += 1\n\t}\n\n\t// 步骤完成值\n\tconst extractionOk = ref(false)\n\n\t// 所有步骤的完成度\n\tfunction stepDone(i) {\n\t\tswitch (i) {\n\t\t\tcase 0:\n\t\t\t\treturn extractionOk.value;\n\t\t\tcase 1:\n\t\t\t\treturn datasheet.value.length > 0;\n\t\t\tcase 2:\n\t\t\t\treturn tizidanItems.value.some(item => item.submitted);\n\t\t\tcase 3:\n\t\t\t\treturn fieldworkComparison.value.length > 0;\n\t\t\tcase 4:\n\t\t\t\treturn reportGenerated.value;\n\t\t\tdefault:\n\t\t\t\treturn false\n\t\t}\n\t}\n\n\t// 提资单数据\n\tconst tizidanItems = ref([\n\t\t{ text: \"请提供营业执照、法人身份证、主要负责人姓名、电话、邮箱（账号注册用）\", submitted: false },\n\t\t{ text: \"项目所有的环评报告及批复\", submitted: false },\n\t\t{ text: \"部分已完成环保验收的，需提供所有验收报告及批复\", submitted: true },\n\t\t{ text: \"（房地产项目需提供）项目施工证、规划许可证、规划验收合格证（如有）\", submitted: false },\n\t\t{ text: \"建设项目废水、废气环保设施设计方案及竣工图纸（cad版，如有）\", submitted: false },\n\t\t{ text: \"厂区总平面图、各层平面图（cad版）\", submitted: false },\n\t\t{ text: \"厂区雨水、污水管线及流向示意图、厂区排水设计图等（cad版，如有）\", submitted: false },\n\t\t{ text: \"建设项目排污许可证（如有）\", submitted: true },\n\t\t{ text: \"如项目污水排入市政管网，请提供排水许可证\", submitted: false },\n\t\t{ text: \"如项目有产生危险废物，请提供危废处置协议、相应处置资质等\", submitted: false }\n\t])\n\n\t// 提交提资单项\n\tfunction submitTizidanItem(index) {\n\t  uni.showModal({\n\t\ttitle: '确认提交',\n\t\tcontent: '您确定要提交此项资料吗？',\n\t\tsuccess: (res) => {\n\t\t  if (res.confirm) {\n\t\t\ttizidanItems.value[index].submitted = true;\n\t\t\tuni.showToast({\n\t\t\t  title: '提交成功',\n\t\t\t  icon: 'success',\n\t\t\t  duration: 2000\n\t\t\t});\n\t\t  }\n\t\t}\n\t  });\n\t}\n\n\t// 以下提取项目基本信息模块的方法--------------------------\n\t// 限制文件格式\n\tconst ALLOWED_EXTS = [\n\t\t'pdf', 'doc', 'docx', 'txt', 'md',\n\t\t'jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'\n\t]\n\n\t// 最大上传个数\n\tconst MAX_FILES = 100\n\n\t// 上传文件与提取信息\n\tconst eiaFiles = ref([])\n\n\n\t// 刷新已上传的文件列表\n\tasync function loadFileListOnMount() {\n\t\tconst files = await fetchUploadedFiles()\n\t\teiaFiles.value = files\n\t}\n\n\tconst extracting = ref(false) // 提取状态\n\tconst extractError = ref('') // 提取错误状态\n\n\t// 文件类型检查\n\tfunction checkFileType(fileName) {\n\t\tconst ext = (fileName || '').split('.').pop().toLowerCase()\n\t\treturn {\n\t\t\tisSupported: ALLOWED_EXTS.includes(ext), // 是否支持解析\n\t\t\text,\n\t\t\tdisplayName: fileName\n\t\t}\n\t}\n\n\t// 统一提示逻辑\n\tfunction showUploadResult({\n\t\tsuccessCount,\n\t\tfailCount,\n\t\ttotal\n\t}) {\n\t\tif (failCount === 0 && successCount === total) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: `上传成功 (${successCount}个文件)`,\n\t\t\t\ticon: 'success',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t} else if (failCount === total) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: `全部上传失败 (${failCount}个)`,\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: `完成: 成功${successCount}, 失败${failCount}`,\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\t// 上传文件\n\tasync function handleFileSelect(e) {\n\t\tconst selectedFiles = e.tempFiles || (e.tempFile ? [e.tempFile] : [])\n\t\tif (!selectedFiles?.length) return\n\n\t\tconst remaining = MAX_FILES - eiaFiles.value.length\n\t\tif (remaining <= 0) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: `最多只能上传${MAX_FILES}个文件`,\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tconst unsupportedFiles = []\n\t\tconst supportedFiles = selectedFiles\n\t\t\t.filter(file => {\n\t\t\t\tconst ext = (file.name || file.filename || '').split('.').pop().toLowerCase()\n\t\t\t\tconst isAllowed = ALLOWED_EXTS.includes(ext)\n\t\t\t\tif (!isAllowed) unsupportedFiles.push(file.name || file.filename)\n\t\t\t\treturn isAllowed\n\t\t\t})\n\t\t\t.slice(0, remaining)\n\n\t\tif (unsupportedFiles.length > 0) {\n\t\t\tconst names = unsupportedFiles.slice(0, 3).join(', ')\n\t\t\tconst more = unsupportedFiles.length > 3 ? ` 等${unsupportedFiles.length}个` : '文件'\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '不支持的文件格式',\n\t\t\t\tcontent: `以下${more}不支持上传：\\n${names}${unsupportedFiles.length > 3 ? '...' : ''}`,\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: '知道了'\n\t\t\t})\n\t\t}\n\n\t\tif (supportedFiles.length > 0) {\n\t\t\teiaFiles.value = [...eiaFiles.value, ...supportedFiles]\n\t\t}\n\t\tif (supportedFiles.length === 0) return\n\n\t\t// 显示上传中提示\n\t\tuni.showLoading({\n\t\t\ttitle: '正在上传文件...',\n\t\t\tmask: true\n\t\t})\n\n\t\tconst stats = {\n\t\t\tsuccessCount: 0,\n\t\t\tfailCount: 0,\n\t\t\ttotal: supportedFiles.length\n\t\t}\n\n\t\tfor (let i = 0; i < supportedFiles.length; i++) {\n\t\t\tconst file = supportedFiles[i]\n\t\t\ttry {\n\t\t\t\tconst result = await uploadFileToBackend(file)\n\t\t\t\tstats.successCount++\n\t\t\t\tawait loadFileListOnMount()\n\t\t\t\tconsole.log(`文件已上传: ${result.filename}`)\n\t\t\t} catch (error) {\n\t\t\t\tstats.failCount++\n\t\t\t\tconsole.error(`❌ 文件 ${i + 1} 上传失败:`, error)\n\n\t\t\t\tuni.hideLoading()\n\n\t\t\t\tif (supportedFiles.length === 1) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: error.message || '上传失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tuni.hideLoading()\n\n\t\t// 显示上传结果\n\t\tshowUploadResult(stats)\n\t}\n\n\t// 删除上传的文件\n\tasync function handleFileDelete(e) {\n\t\tconst file = e.tempFile // ecoFilePicker 返回被删文件对象\n\t\tif (!file || !file.document_id) return\n\n\t\t/* 1. 删除前确认（组件已经自动删除了文件）*/\n\t\tconst confirm = await new Promise(resolve => {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认删除？',\n\t\t\t\tcontent: `确定删除文件 \"${file.name}\" 吗？`,\n\t\t\t\tconfirmText: '删除',\n\t\t\t\tconfirmColor: '#E64340',\n\t\t\t\tsuccess: res => resolve(res.confirm)\n\t\t\t})\n\t\t})\n\n\t\tif (!confirm) {\n\t\t\t// 用户取消删除，从后端重新加载文件列表恢复界面\n\t\t\tawait loadFileListOnMount()\n\t\t\treturn\n\t\t}\n\n\t\t// 用户确认删除，继续执行删除操作（文件已经从界面消失了）\n\n\t\ttry {\n\t\t\t/* 2. 调后端真正删除 */\n\t\t\tawait deleteFile(file.document_id)\n\n\t\t\t/* 3. 删除成功后刷新列表（保证与后端一致）*/\n\t\t\tawait loadFileListOnMount()\n\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '文件已删除',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('删除失败:', err)\n\n\t\t\t/* 4. 删除失败，重新加载列表恢复正确状态 */\n\t\t\tawait loadFileListOnMount()\n\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '删除失败，请重试',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\t}\n\n\t/* 提取信息的进度条 */\n\t// 1. 先声明计时器句柄和状态变量\n\tlet extractProgressTimer = null\n\tlet extractCurrentPercent = 0\n\tlet extractSprintTimer = null\n\tlet extractProgressDone = false\n\n\t// 2. 开始\"假进度\" - 2分30秒到99%\n\tfunction startExtractFakeProgress(totalTime = 150000) { // 2分30秒\n\t\textractCurrentPercent = 0\n\t\textractProgressDone = false\n\n\t\t// 计算步长：99% / (总时间/间隔时间)\n\t\tconst step = 99 / (totalTime / 200) // 每200ms更新一次\n\n\t\textractProgressTimer = setInterval(() => {\n\t\t\tif (extractProgressDone) {\n\t\t\t\tclearInterval(extractProgressTimer)\n\t\t\t\textractProgressTimer = null\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\textractCurrentPercent += step\n\t\t\tif (extractCurrentPercent >= 99) {\n\t\t\t\textractCurrentPercent = 99\n\t\t\t\tclearInterval(extractProgressTimer)\n\t\t\t\textractProgressTimer = null\n\t\t\t}\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: `正在提取项目信息，提取进度：${Math.floor(extractCurrentPercent)}%`,\n\t\t\t\tmask: true\n\t\t\t})\n\t\t}, 200)\n\t}\n\n\t// 3. 冲刺到100%并完成\n\tfunction sprintExtractToComplete() {\n\t\textractProgressDone = true\n\n\t\t// 清除假进度计时器\n\t\tif (extractProgressTimer) {\n\t\t\tclearInterval(extractProgressTimer)\n\t\t\textractProgressTimer = null\n\t\t}\n\n\t\t// 2秒内从当前进度冲到100%\n\t\tconst startPercent = extractCurrentPercent\n\t\tconst targetPercent = 100\n\t\tconst duration = 2000 // 2秒\n\t\tconst stepTime = 10 // 每10ms更新一次\n\t\tconst totalSteps = duration / stepTime\n\t\tconst stepValue = (targetPercent - startPercent) / totalSteps\n\n\t\tlet currentStep = 0\n\t\textractSprintTimer = setInterval(() => {\n\t\t\tcurrentStep++\n\t\t\textractCurrentPercent = startPercent + (stepValue * currentStep)\n\n\t\t\tif (extractCurrentPercent >= 100) {\n\t\t\t\textractCurrentPercent = 100\n\t\t\t\tclearInterval(extractSprintTimer)\n\t\t\t\textractSprintTimer = null\n\n\t\t\t\t// 显示100%并停留1秒\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: `提取成功，提取进度：100%`,\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t// 显示提取成功弹窗\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '信息提取完成',\n\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t}, 1000)\n\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: `正在提取项目信息，提取进度：${Math.floor(extractCurrentPercent)}%`,\n\t\t\t\tmask: true\n\t\t\t})\n\t\t}, stepTime)\n\t}\n\n\t// 提取信息到项目基本表\n\tasync function simulateExtract() {\n\t\t// 1. 前置检查：没上传文件直接弹窗\n\t\tuni.showLoading({\n\t\t\ttitle: '检查文件...',\n\t\t\tmask: true\n\t\t})\n\t\tawait loadFileListOnMount()\n\t\tuni.hideLoading()\n\n\t\tif (eiaFiles.value.length === 0) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '请先上传环评报告文件',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: '知道了'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\textracting.value = true // 开始提取，按钮显示loading\n\n\t\t// 2. 启动假进度条（2分30秒到99%）\n\t\tstartExtractFakeProgress(150000)\n\n\t\t// 3. 显示初始loading\n\t\tuni.showLoading({\n\t\t\ttitle: '请稍作等待，正在提取项目信息，预计2~3分钟哦',\n\t\t\tmask: true\n\t\t})\n\n\t\ttry {\n\t\t\t// 4. 调用后端，超时设为15分钟（900000毫秒），避免大文件超时\n\t\t\tconst result = await runTask({\n\t\t\t\thideLoading: true, // 我们用uni.showLoading，所以这里隐藏\n\t\t\t\ttimeout: 900000 // 15分钟，足够解析100页PDF\n\t\t\t})\n\n\t\t\t// 5. 收到后端成功响应，开始冲刺到100%\n\t\t\tsprintExtractToComplete()\n\n\t\t\t// 6. 数据校验：确保后端真的返回了数据\n\t\t\tif (result?.status !== 'success' || !result.result) {\n\t\t\t\tthrow new Error(result?.message || '提取失败：后端未返回有效数据')\n\t\t\t}\n\n\t\t\t// 7. 转换数据并填充表格（核心操作）\n\t\t\tbaseTable.value = transformExtractResult(result.result)\n\n\t\t\t// 8. 缓存到本地（关键！刷新页面不丢失）\n\t\t\tuni.setStorageSync('project_base_info', JSON.stringify(baseTable.value))\n\n\t\t\tconsole.log('[Extract] 提取成功:', result)\n\t\t\t// console.log('[Debug] baseTable:', baseTable.value.水污染物)\n\n\t\t} catch (error) {\n\t\t\t// 错误时清除所有进度条\n\t\t\textractProgressDone = true\n\t\t\tif (extractProgressTimer) {\n\t\t\t\tclearInterval(extractProgressTimer)\n\t\t\t\textractProgressTimer = null\n\t\t\t}\n\t\t\tif (extractSprintTimer) {\n\t\t\t\tclearInterval(extractSprintTimer)\n\t\t\t\textractSprintTimer = null\n\t\t\t}\n\t\t\tuni.hideLoading()\n\n\t\t\t// 9. 错误分类处理，给用户看得懂的提示\n\t\t\tconsole.error('[Extract] 提取失败:', error)\n\n\t\t\tif (error.message.includes('超时')) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提取超时',\n\t\t\t\t\tcontent: '文档过大或网络较慢，建议：\\n1. 拆分成多个文件上传\\n2. 检查网络连接\\n3. 联系管理员',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: '知道了'\n\t\t\t\t})\n\t\t\t} else if (error.message.includes('未提取到')) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提取失败',\n\t\t\t\t\tcontent: '文档中未找到项目信息，请检查：\\n1. 文件是否为完整的环评报告\\n2. 文件内容是否清晰可读',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: '知道了'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提取失败',\n\t\t\t\t\tcontent: error.message || '无法从文档中提取项目信息，请稍后重试',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: '知道了'\n\t\t\t\t})\n\t\t\t}\n\t\t} finally {\n\t\t\textracting.value = false // 无论成功失败，都要结束loading状态\n\t\t}\n\t}\n\n\t// 新增项目基本信息弹窗\n\tconst newBaseInfoPopup = ref(null)\n\n\t// 新增项目基本信息的标题\n\tconst newBaseInfoLabel = ref('')\n\n\t// 新增项目基本信息\n\tfunction openAddBase() {\n\t\tnewBaseInfoLabel.value = '';\n\t\tnewBaseInfoPopup.value?.open?.()\n\t}\n\n\t// 确认新增项目基本信息\n\tfunction confirmAddBaseInfo() {\n\t\tconst label = (newBaseInfoLabel.value || '').trim();\n\t\tif (!label) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请输入字段名称',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t\tbaseTable.value.push({\n\t\t\tid: Date.now() + Math.random(),\n\t\t\tsection: '',\n\t\t\tlabel,\n\t\t\tvalue: '',\n\t\t\tsource: 'manual',\n\t\t\trequired: false,\n\t\t});\n\t\tnewBaseInfoPopup.value?.close?.()\n\t}\n\n\t// 关闭新增项目基本信息弹窗\n\tfunction closeBaseInfo() {\n\t\tnewBaseInfoPopup.value?.close?.()\n\t}\n\n\t// 以下标识牌模块的方法--------------------------\n\t//展示标识牌列表\n\tconst showSignboard = ref(false)\n\n\t// 标识牌模块名称以及列表信息\n\tconst signboard = reactive({\n\t\tsections: [{\n\t\t\t\tblock: '废水',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t},\n\t\t\t{\n\t\t\t\tblock: '废气',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t},\n\t\t\t{\n\t\t\t\tblock: '噪声',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t}, {\n\t\t\t\tblock: '危险废物',\n\t\t\t\titems: [{\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tcontent: ''\n\t\t\t\t}]\n\t\t\t}\n\t\t]\n\t})\n\n\t// 生成标识牌信息(从项目基本信息提取)\n\tfunction generateSignboard() {\n\t\tconst unitName = findBaseValue('建设单位名称') || findBaseValue('单位名称') || '';\n\t\tconst emissionData = baseTable.value.find(x => x.id === 'pollutants_emission')?.value;\n\n\t\tif (!emissionData || typeof emissionData !== 'object') {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '未提取到污染物信息',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\t// 清空旧数据\n\t\tsignboard.sections.forEach(sec => (sec.items = []));\n\n\t\t// 废水\n\t\tconst waterList = emissionData['水污染物'] || [];\n\t\twaterList.forEach((w, index) => {\n\t\t\tconst code = `DW${String(index + 1).padStart(3, '0')}`;\n\t\t\tsignboard.sections.find(s => s.block === '废水').items.push({\n\t\t\t\ttitle: '单位名称',\n\t\t\t\tcontent: unitName\n\t\t\t}, {\n\t\t\t\ttitle: '排放口编号',\n\t\t\t\tcontent: code\n\t\t\t}, {\n\t\t\t\ttitle: '污染物种类',\n\t\t\t\tcontent: w['污染物名称']\n\t\t\t});\n\t\t});\n\n\t\t// 废气\n\t\tconst gasList = emissionData['大气污染物'] || [];\n\t\tgasList.forEach((g, index) => {\n\t\t\tconst code = `DA${String(index + 1).padStart(3, '0')}`;\n\t\t\tsignboard.sections.find(s => s.block === '废气').items.push({\n\t\t\t\ttitle: '单位名称',\n\t\t\t\tcontent: unitName\n\t\t\t}, {\n\t\t\t\ttitle: '排放口编号',\n\t\t\t\tcontent: code\n\t\t\t}, {\n\t\t\t\ttitle: '污染物种类',\n\t\t\t\tcontent: g['污染物名称']\n\t\t\t});\n\t\t});\n\n\t\t// 噪声\n\t\tconst noiseList = emissionData['噪声'] || [];\n\t\tnoiseList.forEach((n, index) => {\n\t\t\tconst code = `ZS-${String(index + 1).padStart(2, '0')}`;\n\t\t\tsignboard.sections.find(s => s.block === '噪声').items.push({\n\t\t\t\ttitle: '单位名称',\n\t\t\t\tcontent: unitName\n\t\t\t}, {\n\t\t\t\ttitle: '排放口编号',\n\t\t\t\tcontent: code\n\t\t\t}, {\n\t\t\t\ttitle: '污染物种类',\n\t\t\t\tcontent: '设备噪声'\n\t\t\t});\n\t\t});\n\n\t\t// 危险废物\n\t\tconst WFItems = [{\n\t\t\t\ttitle: '主要成分',\n\t\t\t\tcontent: 'HW49其他废物'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '化学名称',\n\t\t\t\tcontent: '实验室废弃物、实验室废水污泥、医疗废物、废活性炭'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '危险情况',\n\t\t\t\tcontent: '毒性/腐蚀性'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '安全措施',\n\t\t\t\tcontent: '接触时佩戴个人防护用品（全面罩/丁晴手套）'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '废物产生单位',\n\t\t\t\tcontent: unitName\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '地址',\n\t\t\t\tcontent: findBaseValue('建设地点')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '电话',\n\t\t\t\tcontent: findBaseValue('联系方式')\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '联系人',\n\t\t\t\tcontent: findBaseValue('单位联系人')\n\t\t\t},\n\t\t];\n\t\tsignboard.sections.find(s => s.block === '危险废物').items = WFItems;\n\n\t\tuni.showToast({\n\t\t\ttitle: '已生成标识牌',\n\t\t\ticon: 'success'\n\t\t});\n\t}\n\n\t// 添加一组（3 项）排污标识牌\n\tfunction addSignItem(sectionIdx) {\n\t\tconst sec = signboard.sections[sectionIdx];\n\t\tconst block = sec.block; // 废水 / 废气 / 噪声\n\t\tconst unitName = findBaseValue('建设单位名称') || findBaseValue('单位名称') || '';\n\n\t\t/* 计算下一个排放口编号 */\n\t\t// 先统计当前块里已经有几组（每 3 项算 1 组）\n\t\tconst groupCount = Math.floor(sec.items.length / 3) + 1;\n\n\t\tlet code = '';\n\t\tif (block === '废水') code = `DW${String(groupCount).padStart(3,'0')}`;\n\t\telse if (block === '废气') code = `DA${String(groupCount).padStart(3,'0')}`;\n\t\telse if (block === '噪声') code = `ZS-${String(groupCount).padStart(2,'0')}`;\n\n\t\t/* 组装一组 */\n\t\tconst group = [{\n\t\t\t\ttitle: '单位名称',\n\t\t\t\tcontent: unitName\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '排放口编号',\n\t\t\t\tcontent: code\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '污染物种类',\n\t\t\t\tcontent: block === '噪声' ? '设备噪声' : ''\n\t\t\t}\n\t\t];\n\n\t\t/* 追加到当前块 */\n\t\tsec.items.push(...group);\n\t}\n\n\t// 按块决定是否 3 条一组\n\tfunction groupItems(items, block) {\n\t\tif (block === '危险废物') return [items]; // 整包\n\t\tconst groups = [];\n\t\tfor (let i = 0; i < items.length; i += 3) {\n\t\t\tgroups.push(items.slice(i, i + 3));\n\t\t}\n\t\treturn groups;\n\t}\n\n\t// 删除指定组标识牌信息（3 条）\n\tfunction removeGroup(section, groupIndex) {\n\t\t// 取本组排放口编号用于提示\n\t\tconst start = groupIndex * 3;\n\t\tconst codeItem = section.items.slice(start, start + 3)\n\t\t\t.find(it => it.title === '排放口编号');\n\t\tconst code = codeItem?.content || '未知编号';\n\n\t\tuni.showModal({\n\t\t\ttitle: '永久删除',\n\t\t\tcontent: `确定删除排污口  ${code}  所有信息吗？`,\n\t\t\tconfirmText: '确定',\n\t\t\tcancelText: '取消',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tsection.items.splice(start, 3);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// 从baseTable中提取基本信息\n\tfunction findBaseValue(label) {\n\t\tconst r = baseTable.value.find(x => x.label === label);\n\t\treturn r ? (r.value || '') : ''\n\t}\n\n\t// 标识牌下载(数据json交给后端)\n\tfunction downBiaoShi() {\n\t\tuni.showLoading({\n\t\t\ttitle: '正在生成文档…'\n\t\t});\n\t\tdownloadSignboardWord(signboard)\n\t\t\t.then(buf => {\n\t\t\t\tconst fileName = '排污标识牌.docx';\n\t\t\t\t// #ifdef H5\n\t\t\t\tconst blob = new Blob([buf], {\n\t\t\t\t\ttype: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t});\n\t\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\t\tconst a = document.createElement('a');\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = '排污标识牌.docx';\n\t\t\t\tdocument.body.appendChild(a);\n\t\t\t\ta.click();\n\t\t\t\tdocument.body.removeChild(a);\n\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t// 微信小程序：先写临时文件再打开预览\n\t\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${fileName}`;\n\t\t\t\twx.getFileSystemManager().writeFile({\n\t\t\t\t\tfilePath,\n\t\t\t\t\tdata: buf,\n\t\t\t\t\tencoding: 'binary',\n\t\t\t\t\tsuccess: () => wx.openDocument({\n\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\tfileType: 'docx'\n\t\t\t\t\t}),\n\t\t\t\t\tfail: e => uni.showToast({\n\t\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t// App 端：保存到 downloads 目录\n\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, fs => {\n\t\t\t\t\tconst fileEntry = fs.root.getFile(fileName, {\n\t\t\t\t\t\tcreate: true\n\t\t\t\t\t}, entry => {\n\t\t\t\t\t\tentry.createWriter(writer => {\n\t\t\t\t\t\t\twriter.write(buf);\n\t\t\t\t\t\t\twriter.onwrite = () => uni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已保存到下载目录'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: err.message || '生成失败',\n\t\t\t\t\tshowCancel: false\n\t\t\t\t});\n\t\t\t})\n\t\t\t.finally(() => uni.hideLoading());\n\t}\n\n\n\t// 以下监测方案模块的方法--------------------------\n\tconst plan = ref(false)\n\n\t/* 监测方案生成进度条 */\n\t// 1. 先声明计时器句柄和状态变量\n\tlet monitorProgressTimer = null\n\tlet monitorCurrentPercent = 0\n\tlet monitorSprintTimer = null\n\tlet monitorProgressDone = false\n\n\t// 2. 开始\"假进度\" - 3分钟到99%\n\tfunction startMonitorFakeProgress(totalTime = 180000) { // 3分钟\n\t\tmonitorCurrentPercent = 0\n\t\tmonitorProgressDone = false\n\n\t\t// 计算步长：99% / (总时间/间隔时间)\n\t\tconst step = 99 / (totalTime / 200) // 每200ms更新一次\n\n\t\tmonitorProgressTimer = setInterval(() => {\n\t\t\tif (monitorProgressDone) {\n\t\t\t\tclearInterval(monitorProgressTimer)\n\t\t\t\tmonitorProgressTimer = null\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tmonitorCurrentPercent += step\n\t\t\tif (monitorCurrentPercent >= 99) {\n\t\t\t\tmonitorCurrentPercent = 99\n\t\t\t\tclearInterval(monitorProgressTimer)\n\t\t\t\tmonitorProgressTimer = null\n\t\t\t}\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: `正在生成监测方案... ${Math.floor(monitorCurrentPercent)}%`,\n\t\t\t\tmask: true\n\t\t\t})\n\t\t}, 200)\n\t}\n\n\t// 3. 冲刺到100%并完成\n\tfunction sprintMonitorToComplete() {\n\t\tmonitorProgressDone = true\n\n\t\t// 清除假进度计时器\n\t\tif (monitorProgressTimer) {\n\t\t\tclearInterval(monitorProgressTimer)\n\t\t\tmonitorProgressTimer = null\n\t\t}\n\n\t\t// 1秒内从当前进度冲到100%\n\t\tconst startPercent = monitorCurrentPercent\n\t\tconst targetPercent = 100\n\t\tconst duration = 1000 // 1秒\n\t\tconst stepTime = 10 // 每10ms更新一次\n\t\tconst totalSteps = duration / stepTime\n\t\tconst stepValue = (targetPercent - startPercent) / totalSteps\n\n\t\tlet currentStep = 0\n\t\tmonitorSprintTimer = setInterval(() => {\n\t\t\tcurrentStep++\n\t\t\tmonitorCurrentPercent = startPercent + (stepValue * currentStep)\n\n\t\t\tif (monitorCurrentPercent >= 100) {\n\t\t\t\tmonitorCurrentPercent = 100\n\t\t\t\tclearInterval(monitorSprintTimer)\n\t\t\t\tmonitorSprintTimer = null\n\n\t\t\t\t// 显示100%并停留0.5秒\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: `正在生成监测方案... 100%`,\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t// 显示成功提示\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '监测方案已下载',\n\t\t\t\t\t\tcontent: '文件已下载，请到下载目录或保存路径查看！',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: '确定'\n\t\t\t\t\t})\n\t\t\t\t}, 500)\n\t\t\t\tplan.value = true\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: `正在生成监测方案... ${Math.floor(monitorCurrentPercent)}%`,\n\t\t\t\tmask: true\n\t\t\t})\n\t\t}, stepTime)\n\t}\n\n\t// 下载检测方案\n\tasync function saveMonitorPlan() {\n\t\t// 1. 启动假进度（3分钟到99%）\n\t\tstartMonitorFakeProgress(180000)\n\n\t\ttry {\n\t\t\t// 2. 调用接口获取文件数据\n\t\t\tconst arrayBuffer = await downloadMonitorPlan({\n\t\t\t\ttimeout: 300000\n\t\t\t})\n\n\t\t\t// 3. 收到后端响应，开始冲刺到100%\n\t\t\tsprintMonitorToComplete()\n\n\t\t\t// 4. 保存文件\n\t\t\tawait saveMonitorPlanFile(arrayBuffer)\n\n\t\t} catch (error) {\n\t\t\t// 错误时清除所有进度条\n\t\t\tmonitorProgressDone = true\n\t\t\tif (monitorProgressTimer) {\n\t\t\t\tclearInterval(monitorProgressTimer)\n\t\t\t\tmonitorProgressTimer = null\n\t\t\t}\n\t\t\tif (monitorSprintTimer) {\n\t\t\t\tclearInterval(monitorSprintTimer)\n\t\t\t\tmonitorSprintTimer = null\n\t\t\t}\n\t\t\tuni.hideLoading()\n\n\t\t\tconsole.error('生成监测方案失败:', error)\n\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '生成失败',\n\t\t\t\tcontent: error.message || '监测方案生成失败，请稍后重试',\n\t\t\t\tshowCancel: false\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * 保存监测方案文件到本地\n\t * @param {ArrayBuffer} arrayBuffer - 文件二进制数据\n\t */\n\tasync function saveMonitorPlanFile(arrayBuffer) {\n\t\t// #ifdef H5\n\t\t// H5 环境：使用 Blob + a 标签下载\n\t\tconst blob = new Blob([arrayBuffer], {\n\t\t\ttype: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t})\n\t\tconst url = window.URL.createObjectURL(blob)\n\t\tconst a = document.createElement('a')\n\t\ta.href = url\n\t\ta.download = '监测方案.docx'\n\t\tdocument.body.appendChild(a)\n\t\ta.click()\n\t\tdocument.body.removeChild(a)\n\t\twindow.URL.revokeObjectURL(url)\n\t\t// #endif\n\n\t\t// #ifndef H5\n\t\t// 小程序、App 环境：保存到本地文件系统\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst fs = uni.getFileSystemManager()\n\t\t\tconst fileName = '监测方案.docx'\n\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${fileName}`\n\n\t\t\t// 写入文件\n\t\t\tfs.writeFile({\n\t\t\t\tfilePath: filePath,\n\t\t\t\tdata: arrayBuffer,\n\t\t\t\tencoding: 'binary',\n\t\t\t\tsuccess: () => {\n\t\t\t\t\t// 打开文档\n\t\t\t\t\tuni.openDocument({\n\t\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\t\tfileType: 'docx',\n\t\t\t\t\t\tsuccess: () => resolve(),\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('打开文档失败:', err)\n\t\t\t\t\t\t\treject(new Error('文件已保存，但打开失败'))\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('保存文件失败:', err)\n\t\t\t\t\treject(new Error('保存文件失败'))\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t\t// #endif\n\t}\n\n\n\t// 1. 信息表/提资单------------\n\tconst verifyOptions = [{\n\t\ttext: '待核对',\n\t\tvalue: 'pending'\n\t}, {\n\t\ttext: '已核对',\n\t\tvalue: 'verified'\n\t}, {\n\t\ttext: '需补充',\n\t\tvalue: 'require'\n\t}]\n\tconst baseTable = ref([])\n\tconst datasheet = ref([])\n\tconst datasheetTypeOptions = [{\n\t\ttext: '需再次提资',\n\t\tvalue: 'requireMore'\n\t}, {\n\t\ttext: '需业主核对',\n\t\tvalue: 'ownerConfirm'\n\t}]\n\n\tfunction generateDatasheet() {\n\t\tconst list = baseTable.value.filter(r => (r.required && !r.value) || r.status !== 'verified').map(r => ({\n\t\t\tid: r.id,\n\t\t\tlabel: r.label || '未命名',\n\t\t\tvalue: r.value || '',\n\t\t\ttype: r.required && !r.value ? 'requireMore' : 'ownerConfirm',\n\t\t}));\n\t\tdatasheet.value = list;\n\t\tuni.showToast({\n\t\t\ttitle: `已生成提资单（${list.length}项）`,\n\t\t\ticon: 'none'\n\t\t})\n\t}\n\n\tfunction removeDatasheet(i) {\n\t\tdatasheet.value.splice(i, 1)\n\t}\n\n\tfunction exportDatasheet() {\n\t\tuni.showToast({\n\t\t\ttitle: '待对接：导出提资单',\n\t\t\ticon: 'none'\n\t\t})\n\t}\n\n\t// 选择删除模式\n\tconst selectMode = ref(false)\n\tconst selectedIds = ref([])\n\n\tfunction toggleSelectMode() {\n\t\tselectMode.value = !selectMode.value;\n\t\tif (!selectMode.value) selectedIds.value = []\n\t}\n\n\tfunction toggleSelected(id) {\n\t\tconst arr = selectedIds.value;\n\t\tconst i = arr.indexOf(id);\n\t\tif (i >= 0) arr.splice(i, 1);\n\t\telse arr.push(id)\n\t}\n\n\tfunction removeSelected() {\n\t\tif (!selectedIds.value.length) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '未选择',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tconst names = baseTable.value\n\t\t\t.filter(r => selectedIds.value.includes(r.id))\n\t\t\t.map(r => (r.label || '（未命名）').trim())\n\n\t\tconst preview =\n\t\t\tnames.length === 1 ?\n\t\t\t`确认要删除「${names[0]}」吗？` :\n\t\t\t(() => {\n\t\t\t\tconst max = 8\n\t\t\t\tconst head = names.slice(0, max).map(n => `• ${n}`).join('\\n')\n\t\t\t\tconst tail = names.length > max ? `\\n… 等 ${names.length} 项` : ''\n\t\t\t\treturn `确认要删除以下 ${names.length} 个信息吗？\\n${head}${tail}`\n\t\t\t})()\n\n\t\tuni.showModal({\n\t\t\ttitle: '确认删除',\n\t\t\tcontent: preview,\n\t\t\tconfirmText: '删除',\n\t\t\tcancelText: '取消',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tbaseTable.value = baseTable.value.filter(\n\t\t\t\t\t\tr => !selectedIds.value.includes(r.id)\n\t\t\t\t\t)\n\t\t\t\t\tselectedIds.value = []\n\t\t\t\t\tselectMode.value = false\n\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `已删除 ${names.length} 项`,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t// 2. 现场踏勘比对------------------------\n\tconst fieldworkRecord = ref('')\n\tconst fieldworkComparison = ref([])\n\n\tfunction generateFieldworkComparison() {\n\t\t// 基于提资单和基本信息生成现场踏勘比对清单\n\t\tconst comparison = datasheet.value.map(item => ({\n\t\t\tid: Date.now() + Math.random(),\n\t\t\tproject: item.label,\n\t\t\teiaRequirement: item.value || '待确认',\n\t\t\tfieldSituation: '',\n\t\t\tdifference: '待现场核实'\n\t\t}))\n\n\t\tfieldworkComparison.value = comparison\n\t\tuni.showToast({\n\t\t\ttitle: `已生成比对清单（${comparison.length}项）`,\n\t\t\ticon: 'success'\n\t\t})\n\t}\n\n\tfunction addComparisonItem() {\n\t\tfieldworkComparison.value.push({\n\t\t\tid: Date.now() + Math.random(),\n\t\t\tproject: '',\n\t\t\teiaRequirement: '',\n\t\t\tfieldSituation: '',\n\t\t\tdifference: ''\n\t\t})\n\t}\n\n\tfunction removeComparisonItem(index) {\n\t\tfieldworkComparison.value.splice(index, 1)\n\t}\n\n\tfunction updateBaseInfo(shouldUpdate) {\n\t\tif (shouldUpdate) {\n\t\t\t// 根据现场踏勘结果更新基本信息\n\t\t\tfieldworkComparison.value.forEach(comparison => {\n\t\t\t\tconst baseItem = baseTable.value.find(item => item.label === comparison.project)\n\t\t\t\tif (baseItem && comparison.fieldSituation) {\n\t\t\t\t\tbaseItem.value = comparison.fieldSituation\n\t\t\t\t\tbaseItem.status = 'verified'\n\t\t\t\t}\n\t\t\t})\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '基本信息已更新',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t}\n\t\t// 进入下一步：监测方案\n\t\tcurrentStep.value = 3\n\t}\n\n\n\n\t// 4. 竣工验收报告\n\tconst reportType = ref('withoutData')\n\tconst testReportFiles = ref([])\n\n\n\n\t//选择有无监测方案报告\n\tconst reportGenerated = ref(false)\n\tconst reportTypes = [{\n\t\t\tvalue: 'withoutData',\n\t\t\ttext: '无检测数据报告'\n\t\t},\n\t\t{\n\t\t\tvalue: 'withData',\n\t\t\ttext: '有检测数据报告'\n\t\t}\n\t]\n\n\t// 切换报告类型\n\tfunction onReportTypeChange(e) {\n\t\treportType.value = e.detail.value\n\t}\n\n\t// 验证有无上传环评报告\n\tfunction generateAcceptanceReport() {\n\t\t// 验证必要数据\n\t\tif (!eiaFiles.value.length) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请上传环评报告、批复文件等基本资料',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tif (reportType.value === 'withData' && !testReportFiles.value.length) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '有监测数据报告，必须要先上传监测报告',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// 模拟生成报告\n\t\tsetTimeout(() => {\n\t\t\treportGenerated.value = true\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '验收报告生成成功',\n\t\t\t\ticon: 'success'\n\t\t\t})\n\t\t}, 1500)\n\t}\n\n\n\n\n\n\n\n\n\t// 在页面加载时，恢复基本信息表缓存\n\tonLoad(() => {\n\t\tloadFileListOnMount()\n\t\tconst cached = uni.getStorageSync('project_base_info')\n\t\tif (cached) {\n\t\t\ttry {\n\t\t\t\tbaseTable.value = JSON.parse(cached)\n\t\t\t\tconsole.log('[Cache] 恢复缓存的项目信息，共', baseTable.value.length, '条')\n\t\t\t\t// console.log('baseTable项目信息，', baseTable.value)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('[Cache] 缓存数据解析失败:', e)\n\t\t\t}\n\t\t}\n\t})\n</script>\n\n<style lang=\"scss\" scoped>\n\t/* ========== 设计令牌（统一风格） ========== */\n\t$brand: #166534; // 主色（深绿）\n\t$brand-600: #17834a;\n\t$brand-50: #ecfdf5;\n\t$ink: #0f172a; // 标题\n\t$muted: #5b6b7b; // 次文本\n\t$line: #e6eaf0; // 细线\n\t$bg: #f6f8fb; // 背景\n\t$white: #ffffff;\n\t$danger: #d92d20;\n\t$warning: #fb923c;\n\n\t$radius: 14rpx;\n\t$radius-lg: 18rpx;\n\t$shadow-sm: 0 2rpx 10rpx rgba(16, 24, 40, .06);\n\t$shadow-md: 0 6rpx 24rpx rgba(16, 24, 40, .08);\n\n\t/* ========== 页面框架 ========== */\n\t.acceptance-page {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t\tbackground: $bg;\n\t}\n\n\n\t/* 统一按钮体系 */\n\t.btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 0 22rpx;\n\t\theight: 64rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t\tbackground: $white;\n\t\tcolor: #374151;\n\t\ttransition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;\n\t}\n\n\t:deep(.uni-button.btn.btn--secondary::after) {\n\t\tborder-radius: $radius;\n\t}\n\n\t.btn:active {\n\t\ttransform: translateY(1rpx);\n\t}\n\n\t.btn[disabled] {\n\t\topacity: .6;\n\t\tpointer-events: none;\n\t}\n\n\t.btn--primary {\n\t\tbackground: $brand;\n\t\tcolor: $white;\n\t\tborder-color: $brand;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(22, 101, 52, .22);\n\t}\n\n\t.btn--secondary {\n\t\tbackground: #f8fafc;\n\t\tcolor: #155e3b;\n\t\tborder-color: #dbe3ea;\n\t}\n\n\t.btn--ghost {\n\t\tbackground: $white;\n\t\tcolor: $muted;\n\t\tborder-color: #e9edf2;\n\t}\n\n\t.btn--danger {\n\t\tbackground: $danger;\n\t\tcolor: $white;\n\t\tborder-color: $danger;\n\t}\n\n\t.btn--danger-ghost {\n\t\tbackground: #fef3f2;\n\t\tcolor: $danger;\n\t\tborder-color: #fde2e1;\n\t}\n\n\t/* 步骤导航 */\n\t.acceptance-steps {\n\t\tbackground: $white;\n\t\tborder-bottom: 1rpx solid #f2f4f7;\n\t\tpadding: 18rpx 24rpx;\n\t}\n\n\t.steps-container {\n\t\tmax-width: 1200rpx;\n\t\tmargin: 0 auto;\n\t}\n\n\t.mobile-step-select {\n\t\twidth: 100%;\n\t}\n\n\t.desktop-steps {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.step-item {\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tpadding: 14rpx 18rpx;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid transparent;\n\t\ttransition: background .2s ease, border-color .2s ease;\n\t}\n\n\t.step-item--active {\n\t\tbackground: #f3faf6;\n\t\tborder-color: #def7ec;\n\t}\n\n\t.step-item--completed .step-indicator {\n\t\tbackground: #10b981;\n\t\tcolor: $white;\n\t}\n\n\t.step-indicator {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: #eef2f6;\n\t\tcolor: $muted;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 20rpx;\n\t\tfont-weight: 700;\n\t\tflex-shrink: 0;\n\t}\n\n\t.step-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: #344054;\n\t\tfont-weight: 600;\n\t}\n\n\t.step-connector {\n\t\twidth: 20rpx;\n\t\theight: 2rpx;\n\t\tbackground: #e3e8ef;\n\t\tmargin-left: 4rpx;\n\t\tborder-radius: 1rpx;\n\t}\n\n\t/* 主体 */\n\t.acceptance-content {\n\t\tflex: 1;\n\t\tpadding: 20rpx 24rpx;\n\t\tmin-height: 0;\n\t}\n\n\t.content-scroll {\n\t\theight: 100%;\n\t}\n\n\t.content-section {\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.section-card {\n\t\tbackground: $white;\n\t\tborder-radius: $radius-lg;\n\t\tbox-shadow: $shadow-md;\n\t\tborder: 1rpx solid #eef2f6;\n\t\toverflow: hidden;\n\t}\n\n\t.section-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tpadding: 24rpx 24rpx 0;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t\tletter-spacing: .2rpx;\n\t}\n\n\t.section-body {\n\t\tpadding: 0 24rpx 24rpx;\n\t}\n\n\t/* 表单 */\n\t.form-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.form-label {\n\t\tfont-size: 28rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t.form-tip {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t}\n\n\t.action-row {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tmargin-top: 16rpx;\n\t}\n\n\t.section-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tmargin: 12rpx 0 18rpx;\n\t\tflex-wrap: wrap;\n\t}\n\n\t/* 子块标题 */\n\t.subsection {\n\t\tmargin-top: 24rpx;\n\t\tpadding-top: 24rpx;\n\t\tborder-top: 1rpx solid #f1f5f9;\n\t}\n\n\t.subsection-head {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tmargin-bottom: 14rpx;\n\t}\n\n\t.subsection-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t/* 表格（桌面网格、移动卡片化） */\n\t.data-table {\n\t\tborder: 1rpx solid #e6ebf1;\n\t\tborder-radius: $radius;\n\t\toverflow: hidden;\n\t}\n\n\t.table-header {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 120rpx 1fr 120rpx 80rpx;\n\t\tbackground: #f8fafc;\n\t\tborder-bottom: 1rpx solid #e6ebf1;\n\t}\n\n\t.table-header--dense {\n\t\tgrid-template-columns: 160rpx 1fr 140rpx 120rpx 100rpx;\n\t}\n\n\t.table-th {\n\t\tpadding: 18rpx 14rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #475569;\n\t\tfont-weight: 700;\n\t\tborder-right: 1rpx solid #e6ebf1;\n\t}\n\n\t.table-th:last-child {\n\t\tborder-right: none;\n\t}\n\n\t.table-body {\n\t\tbackground: $white;\n\t}\n\n\t.table-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 120rpx 1fr 120rpx 80rpx;\n\t\tborder-bottom: 1rpx solid #f2f4f7;\n\t}\n\n\t.table-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t.table-row--simple {\n\t\tgrid-template-columns: 1fr 100rpx;\n\t}\n\n\t.table-td {\n\t\tpadding: 16rpx 14rpx;\n\t\tborder-right: 1rpx solid #f7f8fa;\n\t\tmin-height: 76rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.table-td:last-child {\n\t\tborder-right: none;\n\t}\n\n\t.table-td--section {\n\t\tfont-weight: 700;\n\t\tcolor: #0f172a;\n\t}\n\n\t/* 图标按钮（表格内） */\n\t.icon-btn {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tborder-radius: 10rpx;\n\t\tborder: 1rpx solid #edf1f5;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground: $white;\n\t}\n\n\t.icon-btn:active {\n\t\tbackground: #f3f6fa;\n\t}\n\n\t/* 基本信息表：响应式行 */\n\n\t.form-grid--base {\n\t\tdisplay: grid;\n\t\t// grid-template-columns: 1fr 1fr;\n\t\tgap: 12rpx 16rpx;\n\t}\n\n\t.pollutants_baseinfo_row {\n\t\tpadding: 14rpx;\n\t\tborder-bottom: 1rpx solid #e7ecf2;\n\t}\n\n\t.baseinfo__row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tbackground: $white;\n\t\tborder: 1rpx solid #e7ecf2;\n\t\tborder-radius: $radius;\n\t\tpadding: 14rpx;\n\t}\n\n\t.form-item__row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tbackground: $white;\n\t\tborder: 1rpx solid #e7ecf2;\n\t\tborder-radius: $radius;\n\t\tpadding: 14rpx;\n\t}\n\n\t.form-item__label {\n\t\tmin-width: 180rpx;\n\t\tcolor: #334155;\n\t\tfont-weight: 700;\n\t}\n\n\t/* 污染物表格样式 */\n\t.pollutants-container {\n\t\twidth: 100%;\n\t\tmargin-bottom: 24rpx;\n\t\tborder: 1rpx solid #e7ecf2;\n\t\tborder-radius: $radius;\n\t\toverflow: hidden;\n\t\tgrid-column: 1 / -1;\n\t\t/* 让表格占据整行 */\n\t}\n\n\t.pollutants-table {\n\t\twidth: 100%;\n\t\tbackground: #fff;\n\t}\n\n\t/* 表格头部 */\n\t.pollutants-header {\n\t\tdisplay: flex;\n\t\tbackground: #f8fafc;\n\t\tborder-bottom: 1px solid #e5e7eb;\n\t\tfont-weight: 600;\n\t\tfont-size: 26rpx;\n\t\tcolor: #374151;\n\t}\n\n\t/* 表格行 */\n\t.pollutants-row {\n\t\tdisplay: flex;\n\t\tborder-bottom: 1px solid #f3f4f6;\n\t}\n\n\t.pollutants-row:last-child {\n\t\tborder-bottom: none;\n\t}\n\n\t/* 表格列 */\n\t.pollutants-col {\n\t\tpadding: 20rpx 12rpx;\n\t\tword-break: break-word;\n\t\tline-height: 1.5;\n\t\tfont-size: 26rpx;\n\t\tborder-right: 1px solid #f3f4f6;\n\t}\n\n\t.pollutants-col:last-child {\n\t\tborder-right: none;\n\t}\n\n\t/* 列宽度分配 */\n\t.pollutants-col--type {\n\t\tflex: 0.8;\n\t\tmin-width: 120rpx;\n\t\tbackground: #f0f9ff;\n\t\tcolor: #0369a1;\n\t\tfont-weight: 500;\n\t}\n\n\t.pollutants-col--link {\n\t\tflex: 1.2;\n\t\tmin-width: 150rpx;\n\t}\n\n\t.pollutants-col--name {\n\t\tflex: 1;\n\t\tmin-width: 140rpx;\n\t}\n\n\t.pollutants-col--measure {\n\t\tflex: 1.5;\n\t\tmin-width: 180rpx;\n\t}\n\n\t.pollutants-col--direction {\n\t\tflex: 1;\n\t\tmin-width: 140rpx;\n\t}\n\n\t.pollutants-col--standard {\n\t\tflex: 1.2;\n\t\tmin-width: 160rpx;\n\t}\n\n\t/* 表格选择框 */\n\t.pollutants-select {\n\t\tpadding: 20rpx;\n\t\tborder-top: 1px solid #e5e7eb;\n\t\tbackground: #fafafa;\n\t}\n\n\n\t/* 小标签的样式 */\n\t.extract-tag {\n\t\tdisplay: inline-block;\n\t\tmargin-left: 8px;\n\t\tpadding: 2px 6px;\n\t\tbackground-color: #52c41a;\n\t\tcolor: #fff;\n\t\tfont-size: 10px;\n\t\tborder-radius: 3px;\n\t\tvertical-align: middle;\n\t}\n\n\t/* 标识牌：左侧标题输入，固定宽度以避免与值重叠 */\n\t.pw-ico {\n\t\twidth: 140rpx;\n\t\theight: 64rpx;\n\t\tborder-radius: 10rpx;\n\t\tborder: 1rpx solid #edf1f5;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground: $white;\n\t\tmargin-left: -100rpx;\n\t\tmargin-top: 24rpx;\n\t}\n\n\t.pw-ico text {\n\t\tfont-size: 22rpx;\n\t}\n\n\n\t.form-item__title {\n\t\twidth: 180rpx;\n\t}\n\n\t.form-item__input {\n\t\tflex: 1;\n\t}\n\n\t.form-item__select {\n\t\twidth: 56rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n\n\t/* 空状态 */\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tpadding: 50rpx 24rpx;\n\t\tcolor: #cbd5e1;\n\t\ttext-align: center;\n\t}\n\n\t.empty-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #64748b;\n\t\tfont-weight: 600;\n\t}\n\n\t.empty-tip {\n\t\tfont-size: 24rpx;\n\t\tcolor: #9aa8b6;\n\t}\n\n\t/* 底部导航 */\n\t.acceptance-navigation {\n\t\tbackground: $white;\n\t\tborder-top: 1rpx solid $line;\n\t\tpadding: 18rpx 24rpx;\n\t\tbox-shadow: 0 -2rpx 10rpx rgba(16, 24, 40, .06);\n\t}\n\n\t.nav-buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmax-width: 1200rpx;\n\t\tmargin: 0 auto;\n\t}\n\n\t/* 弹窗 */\n\t.modal {\n\t\tbackground: $white;\n\t\tborder-radius: 20rpx;\n\t\twidth: 86vw;\n\t\tmax-width: 620rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 18rpx 52rpx rgba(15, 23, 42, .18);\n\t}\n\n\t.modal-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 24rpx;\n\t\tborder-bottom: 1rpx solid #eff3f7;\n\t}\n\n\t.modal-title {\n\t\tfont-size: 30rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 700;\n\t}\n\n\t.modal-close {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tborder-radius: 10rpx;\n\t\tbackground: transparent;\n\t\tborder: 1rpx solid #eef2f6;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.modal-body {\n\t\tpadding: 24rpx;\n\t}\n\n\t.modal-description {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t\tmargin-bottom: 14rpx;\n\t\tdisplay: block;\n\t}\n\n\t.draft-textarea {\n\t\twidth: 100%;\n\t\tmin-height: 360rpx;\n\t\tpadding: 16rpx;\n\t\tborder: 1rpx solid #e6ebf1;\n\t\tborder-radius: $radius;\n\t\tfont-size: 26rpx;\n\t\tline-height: 1.5;\n\t\tbackground: #fafafa;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.modal-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tpadding: 0 24rpx 24rpx;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.fieldwork-textarea {\n\t\twidth: 100%;\n\t\tmin-height: 200rpx;\n\t\tpadding: 16rpx;\n\t\tborder: 1rpx solid #e6ebf1;\n\t\tborder-radius: $radius;\n\t\tfont-size: 26rpx;\n\t\tline-height: 1.5;\n\t\tbackground: $white;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.update-confirm {\n\t\tpadding: 20rpx;\n\t\tbackground: #f8fafc;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid #e9edf2;\n\t}\n\n\t.update-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 600;\n\t\tmargin-bottom: 16rpx;\n\t\tdisplay: block;\n\t}\n\n\t.update-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t}\n\n\t.action-buttons {\n\t\tdisplay: flex;\n\t\tgap: 8rpx;\n\t\tjustify-content: center;\n\t}\n\n\t.report-generation {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t}\n\n\t.generation-options {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 20rpx;\n\t}\n\n\t.option-group {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\n\t.option-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: $ink;\n\t\tfont-weight: 600;\n\t}\n\n\t.radio-group {\n\t\tdisplay: flex;\n\t\tgap: 24rpx;\n\t}\n\n\t.radio-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t}\n\n\t.radio-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: $muted;\n\t}\n\n\t.generation-actions {\n\t\tdisplay: flex;\n\t\tgap: 12rpx;\n\t\tflex-wrap: wrap;\n\t}\n\n\t.report-preview {\n\t\tpadding: 24rpx;\n\t\tbackground: #f0fdf4;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid #dcfce7;\n\t}\n\t.paln-preview {\n\t\tpadding: 24rpx;\n\t\tbackground: #f0fdf4;\n\t\tborder-radius: $radius;\n\t\tborder: 1rpx solid #dcfce7;\n\t\tmargin-top: 20rpx;\n\t}\n\n\t.preview-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.preview-title {\n\t\tfont-size: 28rpx;\n\t\tcolor: $brand;\n\t\tfont-weight: 700;\n\t}\n\n\t.preview-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\n\t.preview-text {\n\t\tfont-size: 24rpx;\n\t\tcolor: #374151;\n\t}\n\n\t.preview-sections {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 8rpx;\n\t\tpadding-left: 20rpx;\n\t}\n\n\t.section-item {\n\t\tfont-size: 24rpx;\n\t\tcolor: #475569;\n\t}\n\n\t/* 提资单界面样式 */\n\t.tizidan-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 80vh;\n\t\tbackground-color: #f8f9fa;\n\t\tpadding: 20rpx;\n\t}\n\n\t.tizidan-header {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 40rpx 20rpx;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\tmargin-bottom: 30rpx;\n\t}\n\n\t.tizidan-title {\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #2c3e50;\n\t\tmargin-bottom: 10rpx;\n\t}\n\n\t.tizidan-subtitle {\n\t\tfont-size: 28rpx;\n\t\tcolor: #7f8c8d;\n\t}\n\n\t.tizidan-content {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t}\n\n\t.tizidan-item-card {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground-color: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 30rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\ttransition: transform 0.2s;\n\t}\n\n\t.tizidan-item-card:hover {\n\t\ttransform: translateY(-4rpx);\n\t}\n\n\t.tizidan-item-content {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.tizidan-item-number {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #3498db;\n\t\tmargin-right: 10rpx;\n\t}\n\n\t.tizidan-item-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #2c3e50;\n\t\tline-height: 1.5;\n\t\tflex: 1;\n\t}\n\n\t.tizidan-item-status {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\talign-items: center;\n\t\tgap: 20rpx;\n\t}\n\n\t.tizidan-status-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t.tizidan-status-text.tizidan-submitted {\n\t\tcolor: #27ae60;\n\t}\n\n\t.tizidan-status-text.tizidan-unsubmitted {\n\t\tcolor: #e74c3c;\n\t}\n\n\t.tizidan-submit-btn {\n\t\tbackground-color: #3498db;\n\t\tcolor: #ffffff;\n\t\tborder: none;\n\t\tborder-radius: 8rpx;\n\t\tpadding: 12rpx 24rpx;\n\t\tfont-size: 26rpx;\n\t\tbox-shadow: 0 2rpx 6rpx rgba(52, 152, 219, 0.3);\n\t\ttransition: background-color 0.3s;\n\t}\n\n\t.tizidan-submit-btn:active {\n\t\tbackground-color: #2980b9;\n\t}\n\n\t.tizidan-footer {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tpadding: 30rpx 20rpx;\n\t\tmargin-top: 30rpx;\n\t}\n\n\t.tizidan-footer-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #95a5a6;\n\t\ttext-align: center;\n\t}\n\n\t/* 宽度工具类 */\n\t.w80 {\n\t\tmin-width: 120rpx;\n\t\tmax-width: 120rpx;\n\t}\n\n\t.w100 {\n\t\tmin-width: 140rpx;\n\t\tmax-width: 140rpx;\n\t}\n\n\t.w120 {\n\t\tmin-width: 160rpx;\n\t\tmax-width: 160rpx;\n\t}\n\n\t.w140 {\n\t\tmin-width: 200rpx;\n\t\tmax-width: 200rpx;\n\t}\n\n\t.w160 {\n\t\tmin-width: 260rpx;\n\t\tmax-width: 260rpx;\n\t}\n\n\t.w200 {\n\t\tmin-width: 320rpx;\n\t\tmax-width: 320rpx;\n\t}\n\n\t/* 响应式（小屏） */\n\t@media (max-width: 768px) {\n\n\t\t// 项目基本信息表\n\t\t.baseinfo__row {\n\t\t\tdisplay: block;\n\t\t\twidth: 50%;\n\t\t}\n\n\t\t.pollutants-container {\n\t\t\tmargin-bottom: 20rpx;\n\t\t\twidth: 52.2%;\n\t\t}\n\n\t\t.pollutants-table {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.pollutants-header,\n\t\t.pollutants-row {\n\t\t\tmin-width: 1200rpx;\n\t\t\t/* 保证表格有足够宽度可以横向滚动 */\n\t\t}\n\n\t\t.pollutants-col {\n\t\t\tpadding: 16rpx 10rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\n\t\t.pw-ico {\n\t\t\twidth: 140rpx;\n\t\t\theight: 64rpx;\n\t\t\tborder: none;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbackground: $white;\n\t\t\tmargin: 5rpx 0 0rpx 0;\n\n\t\t}\n\n\t\t.pw-ico text {\n\t\t\tfont-size: 22rpx;\n\t\t}\n\n\t\t.toolbar-content {\n\t\t\tflex-direction: column;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.toolbar-left,\n\t\t.toolbar-right {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.toolbar-buttons {\n\t\t\twidth: 100%;\n\t\t\toverflow-x: auto;\n\t\t\tpadding-bottom: 6rpx;\n\t\t}\n\n\t\t.acceptance-content {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.section-header {\n\t\t\tpadding: 20rpx 20rpx 0;\n\t\t}\n\n\t\t.section-body {\n\t\t\tpadding: 0 20rpx 20rpx;\n\t\t}\n\n\t\t.form-grid--base {\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tgap: 10rpx;\n\t\t}\n\n\t\t.form-item__label {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.form-item__title {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t}\n\n\t\t/* 表格卡片化：自动加标签（无须改模板） */\n\t\t.table-header {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.table-row {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t\t\tpadding: 10rpx 8rpx;\n\t\t\tgap: 0;\n\t\t}\n\n\t\t.table-td {\n\t\t\tposition: relative;\n\t\t\tpadding: 14rpx 14rpx 14rpx 120rpx;\n\t\t\tborder-right: none;\n\t\t\tborder-bottom: 1rpx solid #f7f8fa;\n\t\t\tmin-height: 64rpx;\n\t\t}\n\n\t\t.table-td:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\n\t\t/* 用 nth-child 给出列标题（与 header 顺序一致） */\n\t\t.table-row .table-td:nth-child(1)::before {\n\t\t\tcontent: '字段';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(2)::before {\n\t\t\tcontent: '当前值';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(3)::before {\n\t\t\tcontent: '类型';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(4)::before {\n\t\t\tcontent: '状态';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(5)::before {\n\t\t\tcontent: '操作';\n\t\t}\n\n\t\t.table-td::before {\n\t\t\tposition: absolute;\n\t\t\tleft: 14rpx;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #6b7a8a;\n\t\t\tfont-weight: 600;\n\t\t\twidth: 96rpx;\n\t\t\ttext-align-last: justify;\n\t\t}\n\n\t\t/* 简化型行（标识牌）不需要五列标签 */\n\t\t.table-row--simple .table-td {\n\t\t\tpadding: 14rpx;\n\t\t}\n\n\t\t.table-row--simple .table-td::before {\n\t\t\tcontent: '';\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.acceptance-navigation {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.modal {\n\t\t\twidth: 92vw;\n\t\t}\n\n\t\t.update-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.generation-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.radio-group {\n\t\t\tflex-direction: column;\n\t\t\tgap: 12rpx;\n\t\t}\n\n\t\t.action-buttons {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: flex-start;\n\t\t}\n\n\t\t/* 提资单移动端适配 */\n\t\t.tizidan-container {\n\t\t\tpadding: 16rpx;\n\t\t}\n\t\t\n\t\t.tizidan-header {\n\t\t\tpadding: 30rpx 20rpx;\n\t\t}\n\t\t\n\t\t.tizidan-title {\n\t\t\tfont-size: 36rpx;\n\t\t}\n\t\t\n\t\t.tizidan-subtitle {\n\t\t\tfont-size: 26rpx;\n\t\t}\n\t\t\n\t\t.tizidan-item-card {\n\t\t\tpadding: 24rpx;\n\t\t}\n\t\t\n\t\t.tizidan-item-text {\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t}\n\n\t/* 桌面端：移除突兀 hover 色，保持轻影与对比 */\n\t@media (min-width: 769px) {\n\t\t.btn--primary:hover {\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(22, 101, 52, .28);\n\t\t}\n\n\t\t.btn--secondary:hover {\n\t\t\tbackground: #eef6f2;\n\t\t\tborder-color: #d7efe4;\n\t\t}\n\n\t\t.btn--ghost:hover {\n\t\t\tbackground: #f7f9fb;\n\t\t}\n\n\t\t.btn--danger:hover {\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(217, 45, 32, .25);\n\t\t}\n\n\t\t.step-item:hover {\n\t\t\tbackground: #f7fafc;\n\t\t}\n\n\t\t.icon-btn:hover {\n\t\t\tbackground: #f3f6fa;\n\t\t}\n\t\t\n\t\t/* 提资单桌面端适配 */\n\t\t.tizidan-item-card {\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t}\n\t\t\n\t\t.tizidan-item-content {\n\t\t\tmargin-bottom: 0;\n\t\t\tflex: 1;\n\t\t\tmax-width: 80%;\n\t\t}\n\t\t\n\t\t.tizidan-item-status {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t\t\n\t\t.tizidan-submit-btn {\n\t\t\tpadding: 16rpx 32rpx;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\t\t\n\t\t.tizidan-submit-btn:hover {\n\t\t\tbackground-color: #2980b9;\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t/* 平板端：769px - 960px */\n\t@media (min-width: 769px) and (max-width: 960px) {\n\n\t\t// 步骤导航\n\t\t.desktop-steps {\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.step-connector {\n\t\t\twidth: 0;\n\t\t}\n\n\t\t// 项目基本信息表\n\t\t.baseinfo__row {\n\t\t\tdisplay: block;\n\t\t\twidth: 50%;\n\t\t}\n\n\t\t.pollutants-container {\n\t\t\tmargin-bottom: 20rpx;\n\t\t\twidth: 52.2%;\n\t\t}\n\n\t\t.pollutants-table {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t.pollutants-header,\n\t\t.pollutants-row {\n\t\t\tmin-width: 1200rpx;\n\t\t\t/* 保证表格有足够宽度可以横向滚动 */\n\t\t}\n\n\t\t.pollutants-col {\n\t\t\tpadding: 16rpx 10rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\n\t\t.pw-ico {\n\t\t\twidth: 140rpx;\n\t\t\theight: 64rpx;\n\t\t\tborder: none;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbackground: $white;\n\t\t\tmargin: 5rpx 0 0rpx 0;\n\n\t\t}\n\n\t\t.pw-ico text {\n\t\t\tfont-size: 22rpx;\n\t\t}\n\n\t\t.toolbar-content {\n\t\t\tflex-direction: column;\n\t\t\tgap: 16rpx;\n\t\t}\n\n\t\t.toolbar-left,\n\t\t.toolbar-right {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t.toolbar-buttons {\n\t\t\twidth: 100%;\n\t\t\toverflow-x: auto;\n\t\t\tpadding-bottom: 6rpx;\n\t\t}\n\n\t\t.acceptance-content {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.section-header {\n\t\t\tpadding: 20rpx 20rpx 0;\n\t\t}\n\n\t\t.section-body {\n\t\t\tpadding: 0 20rpx 20rpx;\n\t\t}\n\n\t\t.form-grid--base {\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tgap: 10rpx;\n\t\t}\n\n\t\t.form-item__label {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t\tfont-weight: 600;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\n\t\t.form-item__title {\n\t\t\twidth: 160rpx;\n\t\t\tmin-width: 140rpx;\n\t\t}\n\n\t\t/* 表格卡片化：自动加标签（无须改模板） */\n\t\t.table-header {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.table-row {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tborder-bottom: 1rpx solid #f1f5f9;\n\t\t\tpadding: 10rpx 8rpx;\n\t\t\tgap: 0;\n\t\t}\n\n\t\t.table-td {\n\t\t\tposition: relative;\n\t\t\tpadding: 14rpx 14rpx 14rpx 120rpx;\n\t\t\tborder-right: none;\n\t\t\tborder-bottom: 1rpx solid #f7f8fa;\n\t\t\tmin-height: 64rpx;\n\t\t}\n\n\t\t.table-td:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\n\t\t/* 用 nth-child 给出列标题（与 header 顺序一致） */\n\t\t.table-row .table-td:nth-child(1)::before {\n\t\t\tcontent: '字段';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(2)::before {\n\t\t\tcontent: '当前值';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(3)::before {\n\t\t\tcontent: '类型';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(4)::before {\n\t\t\tcontent: '状态';\n\t\t}\n\n\t\t.table-row .table-td:nth-child(5)::before {\n\t\t\tcontent: '操作';\n\t\t}\n\n\t\t.table-td::before {\n\t\t\tposition: absolute;\n\t\t\tleft: 14rpx;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #6b7a8a;\n\t\t\tfont-weight: 600;\n\t\t\twidth: 96rpx;\n\t\t\ttext-align-last: justify;\n\t\t}\n\n\t\t/* 简化型行（标识牌）不需要五列标签 */\n\t\t.table-row--simple .table-td {\n\t\t\tpadding: 14rpx;\n\t\t}\n\n\t\t.table-row--simple .table-td::before {\n\t\t\tcontent: '';\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.acceptance-navigation {\n\t\t\tpadding: 16rpx;\n\t\t}\n\n\t\t.modal {\n\t\t\twidth: 92vw;\n\t\t}\n\n\t\t.update-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.generation-actions {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.radio-group {\n\t\t\tflex-direction: column;\n\t\t\tgap: 12rpx;\n\t\t}\n\n\t\t.action-buttons {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: flex-start;\n\t\t}\n\n\t}\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/reports/acceptance/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","usePlatformInfo","ref","computed","uni","fetchUploadedFiles","uploadFileToBackend","deleteFile","currentStep","runTask","transformExtractResult","reactive","downloadSignboardWord","wx","downloadMonitorPlan","onLoad"],"mappings":"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"}