{"version":3,"file":"index.js","sources":["pages/reports/acceptance/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVwb3J0cy9hY2NlcHRhbmNlL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<app-layout current=\"pages/reports/acceptance/index\">\r\n\t\t<view class=\"acceptance-page\">\r\n\t\t\t<!-- 顶部工具栏 -->\r\n\t\t\t<view class=\"acceptance-toolbar\">\r\n\t\t\t\t<view class=\"toolbar-content\">\r\n\t\t\t\t\t<view class=\"toolbar-left\">\r\n\t\t\t\t\t\t<view class=\"progress-section\" aria-label=\"完成度\">\r\n\t\t\t\t\t\t\t<text class=\"progress-label\">完成度</text>\r\n\t\t\t\t\t\t\t<view class=\"progress-bar\" role=\"progressbar\" :aria-valuenow=\"completionPercent\"\r\n\t\t\t\t\t\t\t\taria-valuemin=\"0\" aria-valuemax=\"100\">\r\n\t\t\t\t\t\t\t\t<view class=\"progress-fill\" :style=\"{ width: completionPercent + '%' }\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"progress-text\">{{ completionPercent }}%</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"toolbar-right\">\r\n\t\t\t\t\t\t<view class=\"toolbar-buttons\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"saveDraft\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"folder\" size=\"16\" color=\"#5b6b7b\" />\r\n\t\t\t\t\t\t\t\t<text>保存草稿</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"openExportDraft\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"upload\" size=\"16\" color=\"#5b6b7b\" />\r\n\t\t\t\t\t\t\t\t<text>导出草稿</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"openImportDraft\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"download\" size=\"16\" color=\"#5b6b7b\" />\r\n\t\t\t\t\t\t\t\t<text>导入草稿</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button class=\"btn btn--danger-ghost\" @tap=\"clearDraft\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#d92d20\" />\r\n\t\t\t\t\t\t\t\t<text>清空草稿</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"exportDocx\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"file\" size=\"16\" color=\"#155e3b\" />\r\n\t\t\t\t\t\t\t\t<text>导出Word</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"exportPdf\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"pdf\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t\t<text>导出PDF</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 步骤导航 -->\r\n\t\t\t<view class=\"acceptance-steps\">\r\n\t\t\t\t<view class=\"steps-container\">\r\n\t\t\t\t\t<template v-if=\"isMobile\">\r\n\t\t\t\t\t\t<uni-data-select v-model=\"currentStep\" :localdata=\"stepSelectOptions\" placeholder=\"选择步骤\"\r\n\t\t\t\t\t\t\tclass=\"mobile-step-select\" />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<view class=\"desktop-steps\" role=\"tablist\">\r\n\t\t\t\t\t\t\t<view v-for=\"(step, index) in stepNames\" :key=\"index\" class=\"step-item\" :class=\"{\r\n                  'step-item--active': currentStep === index,\r\n                  'step-item--completed': stepDone(index)\r\n                }\" role=\"tab\" :aria-selected=\"currentStep === index\" @tap=\"currentStep = index\">\r\n\t\t\t\t\t\t\t\t<view class=\"step-indicator\">\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"stepDone(index)\" class=\"step-check\">✓</text>\r\n\t\t\t\t\t\t\t\t\t<text v-else class=\"step-number\">{{ index + 1 }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"step-label\">{{ step }}</text>\r\n\t\t\t\t\t\t\t\t<view v-if=\"index < stepNames.length - 1\" class=\"step-connector\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 主要内容区域 -->\r\n\t\t\t<view class=\"acceptance-content\">\r\n\t\t\t\t<scroll-view class=\"content-scroll\" scroll-y>\r\n\t\t\t\t\t<!-- 步骤1: 资料上传 -->\r\n\t\t\t\t\t<view v-show=\"currentStep === 0\" class=\"content-section\">\r\n\t\t\t\t\t\t<view class=\"section-card\">\r\n\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-upload\" size=\"20\" color=\"#166534\" />\r\n\t\t\t\t\t\t\t\t<text class=\"section-title\">资料上传</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"section-body\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"form-label\">请上传环评报告书/报告表/批复文件等</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"form-tip\">支持 PDF、Word、图片等格式，最多 6 个文件</text>\r\n\t\t\t\t\t\t\t\t\t<uni-file-picker v-model=\"eiaFiles\" fileMediatype=\"all\" :auto-upload=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t:limit=\"6\">\r\n\t\t\t\t\t\t\t\t\t</uni-file-picker>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"action-row\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"simulateExtract\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"search\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t\t\t\t<text>提取项目基本信息</text>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<!-- 项目信息表 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"baseTable.length\" class=\"subsection\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#166534\" />\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">项目信息表</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"openAddField\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<text>新增</text>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button v-if=\"selectMode\" class=\"btn btn--danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!selectedIds.length\" @tap=\"removeSelected\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<text>删除选中（{{ selectedIds.length }}）</text>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"toggleSelectMode\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons :type=\"selectMode ? 'clear' : 'checkbox'\" size=\"16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#155e3b\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<text>{{ selectMode ? '取消' : '选择删除' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t<!-- 响应式表单：PC 两列，移动端单列 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(r, idx) in baseTable\" :key=\"r.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"form-item__label\">{{ r.label }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"form-item__input\" v-model=\"r.value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入具体的值\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"selectMode\" class=\"form-item__select\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<checkbox :checked=\"selectedIds.includes(r.id)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => toggleSelected(r.id)\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t<!-- 标识牌文案预生成 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"subsection\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"subsection-head\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"18\" color=\"#fb923c\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"subsection-title\">排污标识牌文案</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"section-actions\">\r\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => { generateSignboard(); showSignboardStep1 = true }\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>生成标识牌文案</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button v-if=\"showSignboardStep1\" class=\"btn btn--ghost\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"currentStep = 4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#5b6b7b\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>去“标识牌”步骤</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"showSignboardStep1\" class=\"data-table\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-for=\"(sec, si) in signboard.sections\" :key=\"'s'+si\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-row table-row--simple\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"table-td table-td--section\">{{ sec.block || '未命名' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-td w80\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn\" @tap=\"() => addSignItem(si)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#166534\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-grid form-grid--base\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item\" v-for=\"(it, ii) in sec.items\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"'r'+si+'-'+ii\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"form-item__title\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"it.title\" placeholder=\"内容标题\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"form-item__input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"it.content\" placeholder=\"请输入具体的值\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"form-item__select\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn icon-btn--danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => removeSignItem(si, ii)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"#d92d20\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 步骤2: 信息表/提资单 -->\r\n\t\t\t\t\t<view v-show=\"currentStep === 1\" class=\"content-section\">\r\n\t\t\t\t\t\t<view class=\"section-card\">\r\n\t\t\t\t\t\t\t<view class=\"section-header\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"clipboard\" size=\"20\" color=\"#166534\" />\r\n\t\t\t\t\t\t\t\t<text class=\"section-title\">提资单比对清单</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"section-body\">\r\n\t\t\t\t\t\t\t\t<view class=\"section-actions\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--primary\" @tap=\"generateDatasheet\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t\t\t\t<text>生成比对清单</text>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn--secondary\" @tap=\"exportDatasheet\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"download\" size=\"16\" color=\"#155e3b\" />\r\n\t\t\t\t\t\t\t\t\t\t<text>导出比对清单</text>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view v-if=\"datasheet.length\" class=\"data-table\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"table-header table-header--dense\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w160\">字段</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"table-th\">当前值</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w140\">类型</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w120\">状态</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"table-th w80\">操作</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"table-body\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"table-row\" v-for=\"(d, i) in datasheet\" :key=\"d.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"table-td w160\" v-model=\"d.label\" placeholder=\"字段名\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-easyinput class=\"table-td\" v-model=\"d.value\" placeholder=\"值\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-data-select class=\"table-td w140\" v-model=\"d.type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:localdata=\"datasheetTypeOptions\" placeholder=\"类型\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<uni-data-select class=\"table-td w120\" v-model=\"d.status\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:localdata=\"verifyOptions\" placeholder=\"状态\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"table-td w80\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"icon-btn icon-btn--danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@tap=\"() => removeDatasheet(i)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#d92d20\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view v-else class=\"empty-state\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"document\" size=\"48\" color=\"#cbd5e1\" />\r\n\t\t\t\t\t\t\t\t\t<text class=\"empty-text\">尚未生成提资单</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"empty-tip\">点击上方“生成提资单”按钮创建</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 其他步骤（结构不变，样式沿用上面规范） -->\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 底部导航 -->\r\n\t\t\t<view class=\"acceptance-navigation\">\r\n\t\t\t\t<view class=\"nav-buttons\">\r\n\t\t\t\t\t<button class=\"btn btn--ghost\" :disabled=\"currentStep === 0\" @tap=\"prevStep\">\r\n\t\t\t\t\t\t<uni-icons type=\"left\" size=\"16\" color=\"#5b6b7b\" />\r\n\t\t\t\t\t\t<text>上一步</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button class=\"btn btn--primary\" :disabled=\"currentStep === stepNames.length - 1\" @tap=\"nextStep\">\r\n\t\t\t\t\t\t<text>下一步</text>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</app-layout>\r\n\r\n\t<!-- 草稿导入/导出弹窗 -->\r\n\t<uni-popup ref=\"draftPopup\" type=\"center\" background-color=\"rgba(0,0,0,0.5)\">\r\n\t\t<view class=\"modal\">\r\n\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t<text class=\"modal-title\">{{ draftMode === 'export' ? '导出草稿' : '导入草稿' }}</text>\r\n\t\t\t\t<button class=\"modal-close\" @tap=\"closeDraftPopup\">\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#5b6b7b\" />\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"modal-body\">\r\n\t\t\t\t<text class=\"modal-description\">\r\n\t\t\t\t\t{{ draftMode === 'export' ? '复制以下 JSON 数据以保存草稿' : '粘贴 JSON 数据以导入草稿' }}\r\n\t\t\t\t</text>\r\n\t\t\t\t<textarea class=\"draft-textarea\" v-model=\"draftText\" placeholder=\"在此处粘贴/查看 JSON 数据...\"\r\n\t\t\t\t\t:readonly=\"draftMode === 'export'\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"modal-actions\">\r\n\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"closeDraftPopup\">取消</button>\r\n\t\t\t\t<button v-if=\"draftMode==='import'\" class=\"btn btn--primary\" @tap=\"confirmImportDraft\">\r\n\t\t\t\t\t确认导入\r\n\t\t\t\t</button>\r\n\t\t\t\t<button v-else class=\"btn btn--primary\" @tap=\"copyExportDraft\">\r\n\t\t\t\t\t复制到剪贴板\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n\r\n\t<!-- 新增信息弹窗 -->\r\n\t<uni-popup ref=\"fieldPopup\" type=\"center\">\r\n\t\t<view class=\"modal\">\r\n\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t<text class=\"modal-title\">新增项目基本信息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"modal-body\">\r\n\t\t\t\t<text class=\"modal-description\">请在下方输入信息名称</text>\r\n\t\t\t\t<uni-easyinput v-model=\"newFieldLabel\" placeholder=\"如：项目名称/单位名称\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"modal-actions\">\r\n\t\t\t\t<button class=\"btn btn--ghost\" @tap=\"closeFieldPopup\">取消</button>\r\n\t\t\t\t<button class=\"btn btn--primary\" @tap=\"confirmAddField\">确定</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\treactive,\r\n\t\tcomputed\r\n\t} from 'vue'\r\n\timport {\r\n\t\tusePlatformInfo\r\n\t} from '@/utils/platform'\r\n\timport AppLayout from '@/components/layout/AppLayout.vue'\r\n\timport {\r\n\t\tonShow,\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tnavTitleStore\r\n\t} from '@/stores/navTitle.js'\r\n\r\n\tconst navTitle = navTitleStore()\r\n\tonShow(() => navTitle.setTitle('验收报告'))\r\n\r\n\tconst {\r\n\t\tisMobile\r\n\t} = usePlatformInfo()\r\n\r\n\tconst stepNames = ['项目基本信息', '提资单比对',  '监测方案', '生成竣工验收报告']\r\n\tconst currentStep = ref(0)\r\n\tconst stepNamesDisplay = computed(() => stepNames.map((n, i) => stepDone(i) ? (n + ' ✓') : n))\r\n\tconst stepSelectOptions = computed(() => stepNames.map((n, i) => ({\r\n\t\ttext: stepDone(i) ? (n + ' ✓') : n,\r\n\t\tvalue: i\r\n\t})))\r\n\r\n\tfunction onStepChange(e) {\r\n\t\tconst idx = Number(e?.currentIndex ?? e?.detail?.currentIndex ?? 0);\r\n\t\tif (!Number.isNaN(idx)) currentStep.value = idx\r\n\t}\r\n\r\n\tfunction prevStep() {\r\n\t\tif (currentStep.value > 0) currentStep.value -= 1\r\n\t}\r\n\r\n\tfunction nextStep() {\r\n\t\tif (currentStep.value < stepNames.length - 1) currentStep.value += 1\r\n\t}\r\n\r\n\t// 0. 上传与提取\r\n\tconst eiaFiles = ref([])\r\n\r\n\tfunction simulateExtract() {\r\n\t\tconst now = Date.now()\r\n\t\tbaseTable.value = [\r\n\t\t\t// 基本信息\r\n\t\t\t{\r\n\t\t\t\tid: now + 101,\r\n\t\t\t\tsection: '基本信息',\r\n\t\t\t\tlabel: '建设项目名称',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 102,\r\n\t\t\t\tsection: '基本信息',\r\n\t\t\t\tlabel: '建设单位名称',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 103,\r\n\t\t\t\tsection: '基本信息',\r\n\t\t\t\tlabel: '建设项目性质',\r\n\t\t\t\tvalue: '新建 / 改扩建 / 技改 / 迁建（勾选其一）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 104,\r\n\t\t\t\tsection: '基本信息',\r\n\t\t\t\tlabel: '建设地点',\r\n\t\t\t\tvalue: 'XX（中心经纬度：）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 105,\r\n\t\t\t\tsection: '基本信息',\r\n\t\t\t\tlabel: '经度',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '°',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: false,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 106,\r\n\t\t\t\tsection: '基本信息',\r\n\t\t\t\tlabel: '纬度',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '°',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: false,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\r\n\t\t\t// 产品与能力\r\n\t\t\t{\r\n\t\t\t\tid: now + 201,\r\n\t\t\t\tsection: '产品及产能',\r\n\t\t\t\tlabel: '产品及产能',\r\n\t\t\t\tvalue: '（可直接使用环评中的产品产能表粘贴）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\r\n\t\t\t// 审批及编制信息\r\n\t\t\t{\r\n\t\t\t\tid: now + 301,\r\n\t\t\t\tsection: '环评信息',\r\n\t\t\t\tlabel: '环评报表审批部门',\r\n\t\t\t\tvalue: '广州市生态环境局',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 302,\r\n\t\t\t\tsection: '环评信息',\r\n\t\t\t\tlabel: '环评报告表编制单位',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\r\n\t\t\t// 投资概算\r\n\t\t\t{\r\n\t\t\t\tid: now + 401,\r\n\t\t\t\tsection: '投资概算',\r\n\t\t\t\tlabel: '投资总概算',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '万元',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 402,\r\n\t\t\t\tsection: '投资概算',\r\n\t\t\t\tlabel: '环保投资总概算',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '万元',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 403,\r\n\t\t\t\tsection: '投资概算',\r\n\t\t\t\tlabel: '环保投资比例',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tunit: '%',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: false,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\r\n\t\t\t// 建设内容与工艺\r\n\t\t\t{\r\n\t\t\t\tid: now + 501,\r\n\t\t\t\tsection: '建设内容',\r\n\t\t\t\tlabel: '主要建设内容',\r\n\t\t\t\tvalue: '（可将环评内主要建设内容段落复制粘贴）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 502,\r\n\t\t\t\tsection: '建设内容',\r\n\t\t\t\tlabel: '改扩建项目变动情况',\r\n\t\t\t\tvalue: '（改扩建前后工程组成、产能变化的总览）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: false,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 503,\r\n\t\t\t\tsection: '建设内容',\r\n\t\t\t\tlabel: '生产工艺',\r\n\t\t\t\tvalue: '（可粘贴简化工艺流程/文字说明）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\r\n\t\t\t// 污染物产生情况（按你图中提示，允许直接粘贴表格）\r\n\t\t\t{\r\n\t\t\t\tid: now + 601,\r\n\t\t\t\tsection: '污染物产生情况',\r\n\t\t\t\tlabel: '水污染物（产生环节/污染物名/治理措施/排放去向/执行标准）',\r\n\t\t\t\tvalue: '（可将环评里的水污染物表格粘贴在此）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 602,\r\n\t\t\t\tsection: '污染物产生情况',\r\n\t\t\t\tlabel: '大气污染物（产生环节/污染物名/治理措施/排放去向/执行标准）',\r\n\t\t\t\tvalue: '（可将环评里的大气污染物表格粘贴在此）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\r\n\t\t\t// 噪声与固废\r\n\t\t\t{\r\n\t\t\t\tid: now + 701,\r\n\t\t\t\tsection: '环境标准',\r\n\t\t\t\tlabel: '噪声执行标准',\r\n\t\t\t\tvalue: '（填写相应标准，如 GB 12348 等，并注明类别限值）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tid: now + 702,\r\n\t\t\t\tsection: '固体废物',\r\n\t\t\t\tlabel: '固体废物产生情况',\r\n\t\t\t\tvalue: '（可将环评里的固体废物表格粘贴过来）',\r\n\t\t\t\tunit: '',\r\n\t\t\t\tsource: 'extract',\r\n\t\t\t\trequired: true,\r\n\t\t\t\tstatus: 'pending'\r\n\t\t\t},\r\n\t\t]\r\n\t\textractionOk.value = true\r\n\t\tuni.showToast({\r\n\t\t\ttitle: `提取完成（示例 ${baseTable.value.length} 项）`,\r\n\t\t\ticon: 'success'\r\n\t\t})\r\n\t}\r\n\tconst extractionOk = ref(false)\r\n\tconst showSignboardStep1 = ref(false)\r\n\r\n\t// 校验与完成度\r\n\tfunction stepDone(i) {\r\n\t\tswitch (i) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn extractionOk.value;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tfunction saveDraft() {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '草稿已保存',\r\n\t\t\ticon: 'success'\r\n\t\t})\r\n\t}\r\n\tconst draftPopup = ref(null)\r\n\tconst draftMode = ref('export')\r\n\tconst draftText = ref('')\r\n\r\n\tconst fieldPopup = ref(null)\r\n\tconst newFieldLabel = ref('')\r\n\r\n\tfunction openExportDraft() {\r\n\t\ttry {\r\n\t\t\tdraftMode.value = 'export';\r\n\t\t\tdraftText.value = JSON.stringify({\r\n\t\t\t\tstep: currentStep.value\r\n\t\t\t}, null, 2);\r\n\t\t\tdraftPopup.value?.open?.()\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '导出失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction openImportDraft() {\r\n\t\tdraftMode.value = 'import';\r\n\t\tdraftText.value = '';\r\n\t\tdraftPopup.value?.open?.()\r\n\t}\r\n\r\n\tfunction closeDraftPopup() {\r\n\t\tdraftPopup.value?.close?.()\r\n\t}\r\n\r\n\tfunction confirmImportDraft() {\r\n\t\ttry {\r\n\t\t\tdraftPopup.value?.close?.();\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '导入完成',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: 'JSON 不合法',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction copyExportDraft() {\r\n\t\ttry {\r\n\t\t\t/* #ifdef H5 */\r\n\t\t\tnavigator.clipboard?.writeText?.(draftText.value || '');\r\n\t\t\t/* #endif */\r\n\t\t\t/* #ifndef H5 */\r\n\t\t\tuni.setClipboardData({\r\n\t\t\t\tdata: draftText.value || ''\r\n\t\t\t});\r\n\t\t\t/* #endif */\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '已复制',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\tdraftPopup.value?.close?.()\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '复制失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction clearDraft() {\r\n\t\teiaFiles.value = [];\r\n\t\textractionOk.value = false;\r\n\t\tcurrentStep.value = 0;\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '已清空',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction exportDocx() {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '导出Word（占位）',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction exportPdf() {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '导出PDF（占位）',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction openAddField() {\r\n\t\tnewFieldLabel.value = '';\r\n\t\tfieldPopup.value?.open?.()\r\n\t}\r\n\r\n\tfunction closeFieldPopup() {\r\n\t\tfieldPopup.value?.close?.()\r\n\t}\r\n\r\n\tfunction confirmAddField() {\r\n\t\tconst label = (newFieldLabel.value || '').trim();\r\n\t\tif (!label) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请输入字段名称',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t\tbaseTable.value.push({\r\n\t\t\tid: Date.now() + Math.random(),\r\n\t\t\tsection: '',\r\n\t\t\tlabel,\r\n\t\t\tvalue: '',\r\n\r\n\t\t\tsource: 'manual',\r\n\t\t\trequired: false,\r\n\r\n\t\t});\r\n\t\tfieldPopup.value?.close?.()\r\n\t}\r\n\r\n\t// 1. 信息表/提资单\r\n\tconst verifyOptions = [{\r\n\t\ttext: '待核对',\r\n\t\tvalue: 'pending'\r\n\t}, {\r\n\t\ttext: '已核对',\r\n\t\tvalue: 'verified'\r\n\t}, {\r\n\t\ttext: '需补充',\r\n\t\tvalue: 'require'\r\n\t}]\r\n\tconst baseTable = ref([])\r\n\tconst datasheet = ref([])\r\n\tconst datasheetTypeOptions = [{\r\n\t\ttext: '需再次提资',\r\n\t\tvalue: 'requireMore'\r\n\t}, {\r\n\t\ttext: '需业主核对',\r\n\t\tvalue: 'ownerConfirm'\r\n\t}]\r\n\r\n\tfunction generateDatasheet() {\r\n\t\tconst list = baseTable.value.filter(r => (r.required && !r.value) || r.status !== 'verified').map(r => ({\r\n\t\t\tid: r.id,\r\n\t\t\tlabel: r.label || '未命名',\r\n\t\t\tvalue: r.value || '',\r\n\t\t\ttype: r.required && !r.value ? 'requireMore' : 'ownerConfirm',\r\n\r\n\t\t}));\r\n\t\tdatasheet.value = list;\r\n\t\tuni.showToast({\r\n\t\t\ttitle: `已生成提资单（${list.length}项）`,\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction removeDatasheet(i) {\r\n\t\tdatasheet.value.splice(i, 1)\r\n\t}\r\n\r\n\tfunction exportDatasheet() {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '待对接：导出提资单',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\t// 选择删除模式\r\n\tconst selectMode = ref(false)\r\n\tconst selectedIds = ref([])\r\n\r\n\tfunction toggleSelectMode() {\r\n\t\tselectMode.value = !selectMode.value;\r\n\t\tif (!selectMode.value) selectedIds.value = []\r\n\t}\r\n\r\n\tfunction toggleSelected(id) {\r\n\t\tconst arr = selectedIds.value;\r\n\t\tconst i = arr.indexOf(id);\r\n\t\tif (i >= 0) arr.splice(i, 1);\r\n\t\telse arr.push(id)\r\n\t}\r\n\r\n\t// 选择删除基本详细项\r\n\tfunction removeSelected() {\r\n\t\tif (!selectedIds.value.length) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '未选择',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// 找到被选中的字段名（用于展示）\r\n\t\tconst names = baseTable.value\r\n\t\t\t.filter(r => selectedIds.value.includes(r.id))\r\n\t\t\t.map(r => (r.label || '（未命名）').trim())\r\n\r\n\t\t// 预览文案（单项与多项分别处理，长列表做截断）\r\n\t\tconst preview =\r\n\t\t\tnames.length === 1 ?\r\n\t\t\t`确认要删除「${names[0]}」吗？` :\r\n\t\t\t(() => {\r\n\t\t\t\tconst max = 8 // 预览最多展示8条，避免弹窗太长\r\n\t\t\t\tconst head = names.slice(0, max).map(n => `• ${n}`).join('\\n')\r\n\t\t\t\tconst tail = names.length > max ? `\\n… 等 ${names.length} 项` : ''\r\n\t\t\t\treturn `确认要删除以下 ${names.length} 个信息吗？\\n${head}${tail}`\r\n\t\t\t})()\r\n\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '确认删除',\r\n\t\t\tcontent: preview,\r\n\t\t\tconfirmText: '删除',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t// 执行删除\r\n\t\t\t\t\tbaseTable.value = baseTable.value.filter(\r\n\t\t\t\t\t\tr => !selectedIds.value.includes(r.id)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t// 收尾：退出选择模式并清空选中\r\n\t\t\t\t\tselectedIds.value = []\r\n\t\t\t\t\tselectMode.value = false\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: `已删除 ${names.length} 项`,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 取消不做处理，可选给个轻提示\r\n\t\t\t\t\t// uni.showToast({ title: '已取消', icon: 'none' })\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 2/3/4/5/6（保持原逻辑）\r\n\tconst ownerFiles = ref([]);\r\n\tconst missingList = ref([]);\r\n\tconst conflictList = ref([])\r\n\r\n\tfunction simulateOwnerCompare() {\r\n\t\tconst missing = baseTable.value.filter(r => r.required && !r.value).map(r => ({\r\n\t\t\tid: r.id + 'm',\r\n\t\t\tlabel: r.label,\r\n\t\t\tdesc: '资料缺失，需业主补充',\r\n\r\n\t\t}));\r\n\t\tconst conflicts = baseTable.value.filter(r => r.value && r.status !== 'verified').slice(0, 3).map(r => ({\r\n\t\t\tid: r.id + 'c',\r\n\t\t\tlabel: r.label,\r\n\t\t\tsystem: r.value,\r\n\t\t\towner: '',\r\n\t\t\tresolution: 'system'\r\n\t\t}));\r\n\t\tmissingList.value = missing;\r\n\t\tconflictList.value = conflicts;\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '比对完成（示例）',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tconst devices = ref([]);\r\n\tconst outlets = ref([]);\r\n\tconst diffs = ref([])\r\n\tconst outletTypes = [{\r\n\t\tvalue: 'wastewater',\r\n\t\ttext: '废水总排口'\r\n\t}, {\r\n\t\tvalue: 'organized',\r\n\t\ttext: '有组织废气'\r\n\t}, {\r\n\t\tvalue: 'fugitive',\r\n\t\ttext: '无组织废气'\r\n\t}]\r\n\r\n\tfunction addDevice() {\r\n\t\tdevices.value.push({\r\n\t\t\tid: Date.now() + Math.random(),\r\n\t\t\tname: '',\r\n\t\t\tcount: '',\r\n\t\t\tspec: '',\r\n\t\t\tlocation: ''\r\n\t\t})\r\n\t}\r\n\r\n\tfunction removeDevice(i) {\r\n\t\tdevices.value.splice(i, 1)\r\n\t}\r\n\r\n\tfunction addOutlet() {\r\n\t\toutlets.value.push({\r\n\t\t\tid: Date.now() + Math.random(),\r\n\t\t\tcode: '',\r\n\t\t\ttype: '',\r\n\t\t\tlocation: '',\r\n\t\t\tstandard: '',\r\n\t\t\tpermitLimit: ''\r\n\t\t})\r\n\t}\r\n\r\n\tfunction removeOutlet(i) {\r\n\t\toutlets.value.splice(i, 1)\r\n\t}\r\n\r\n\tfunction simulateDiff() {\r\n\t\tconst d = devices.value[0];\r\n\t\tconst list = [];\r\n\t\tif (d) list.push({\r\n\t\t\tid: d.id + 'd',\r\n\t\t\tcategory: '设备',\r\n\t\t\tfield: d.name || '设备',\r\n\t\t\tfromEia: (d.count || '3'),\r\n\t\t\tfromSite: String(Number(d.count || '3') + 1),\r\n\t\t\tfromOwner: '',\r\n\t\t\tresult: '现场较环评+1 台'\r\n\t\t});\r\n\t\tconst o = outlets.value[0];\r\n\t\tif (o) list.push({\r\n\t\t\tid: o.id + 'o',\r\n\t\t\tcategory: '排放口',\r\n\t\t\tfield: o.code || '排放口',\r\n\t\t\tfromEia: o.location,\r\n\t\t\tfromSite: o.location,\r\n\t\t\tfromOwner: '',\r\n\t\t\tresult: '一致'\r\n\t\t});\r\n\t\tdiffs.value = list;\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '差异分析完成（示例）',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tconst signboard = reactive({\r\n\t\tsections: [{\r\n\t\t\tblock: '废水',\r\n\t\t\titems: [{\r\n\t\t\t\ttitle: '单位名称',\r\n\t\t\t\tcontent: ''\r\n\t\t\t}]\r\n\t\t}, \r\n\t\t{\r\n\t\t\tblock: '废气',\r\n\t\t\titems: [{\r\n\t\t\t\ttitle: '单位名称',\r\n\t\t\t\tcontent: ''\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\tblock: '噪声',\r\n\t\t\titems: [{\r\n\t\t\t\ttitle: '单位名称',\r\n\t\t\t\tcontent: ''\r\n\t\t\t}]\r\n\t\t}, {\r\n\t\t\tblock: '危险污染物',\r\n\t\t\titems: [{\r\n\t\t\t\ttitle: '单位名称',\r\n\t\t\t\tcontent: ''\r\n\t\t\t}]\r\n\t\t}]\r\n\t})\r\n\r\n\tfunction generateSignboard() {\r\n\t\tconst unit = findBaseValue('单位名称') || findBaseValue('项目名称') || '';\r\n\t\tsignboard.sections.forEach(sec => {\r\n\t\t\tconst item = sec.items.find(i => i.title.includes('单位名称'));\r\n\t\t\tif (item) item.content = unit\r\n\t\t});\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '已生成文案（示例）',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\t// 导出标识牌Word文档\r\n\tfunction exportSignboardWord() {\r\n\t\t// 检查是否有内容\r\n\t\tconst hasContent = signboard.sections.some(sec => \r\n\t\t\tsec.items.some(it => it.content && it.content.trim())\r\n\t\t);\r\n\t\t\r\n\t\tif (!hasContent) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '标识牌内容为空，请先填写',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// 构建Word文档内容（简化版，实际需要后端支持）\r\n\t\tlet content = '排污标识牌文案\\n\\n';\r\n\t\tsignboard.sections.forEach(sec => {\r\n\t\t\tcontent += `【${sec.block}】\\n`;\r\n\t\t\tsec.items.forEach(it => {\r\n\t\t\t\tif (it.title && it.content) {\r\n\t\t\t\t\tcontent += `${it.title}：${it.content}\\n`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcontent += '\\n';\r\n\t\t});\r\n\r\n\t\t// 这里需要调用后端API生成Word文档\r\n\t\t// 临时方案：复制到剪贴板或显示提示\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '导出标识牌Word',\r\n\t\t\tcontent: '此功能需要后端支持。当前可以：\\n1. 复制文案到剪贴板\\n2. 等待后端接口开发完成',\r\n\t\t\tconfirmText: '复制文案',\r\n\t\t\tcancelText: '取消',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t/* #ifdef H5 */\r\n\t\t\t\t\t\tnavigator.clipboard?.writeText?.(content);\r\n\t\t\t\t\t\t/* #endif */\r\n\t\t\t\t\t\t/* #ifndef H5 */\r\n\t\t\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\t\t\tdata: content\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t/* #endif */\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已复制到剪贴板',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '复制失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction addSignItem(i) {\r\n\t\tsignboard.sections[i].items.push({\r\n\t\t\ttitle: '',\r\n\t\t\tcontent: ''\r\n\t\t})\r\n\t}\r\n\r\n\tfunction removeSignItem(i, j) {\r\n\t\tsignboard.sections[i].items.splice(j, 1)\r\n\t}\r\n\r\n\tfunction findBaseValue(label) {\r\n\t\tconst r = baseTable.value.find(x => x.label === label);\r\n\t\treturn r ? (r.value || '') : ''\r\n\t}\r\n\r\n\tconst plan = ref([])\r\n\r\n\tfunction recommendPlan() {\r\n\t\tconst hasWW = outlets.value.some(o => o.type === 'wastewater');\r\n\t\tconst hasWA = outlets.value.some(o => o.type === 'organized' || o.type === 'fugitive');\r\n\t\tconst now = Date.now();\r\n\t\tif (hasWW) plan.value.push({\r\n\t\t\tid: now + 1,\r\n\t\t\tfactor: 'COD',\r\n\t\t\tpoint: '废水总排口',\r\n\t\t\tmethod: 'GB/T 11914-2020',\r\n\t\t\tfrequency: '3天×2次/天',\r\n\t\t\tqaqc: '平行/空白',\r\n\t\t\tremark: ''\r\n\t\t});\r\n\t\tif (hasWA) plan.value.push({\r\n\t\t\tid: now + 2,\r\n\t\t\tfactor: '颗粒物',\r\n\t\t\tpoint: '下风向',\r\n\t\t\tmethod: 'HJ 836-2017',\r\n\t\t\tfrequency: '2天×2次/天',\r\n\t\t\tqaqc: '平行',\r\n\t\t\tremark: ''\r\n\t\t});\r\n\t\tif (!hasWW && !hasWA) plan.value.push({\r\n\t\t\tid: now + 3,\r\n\t\t\tfactor: '噪声',\r\n\t\t\tpoint: '厂界四角',\r\n\t\t\tmethod: 'GB 12348-2008',\r\n\t\t\tfrequency: '昼/夜各1次',\r\n\t\t\tqaqc: '',\r\n\t\t\tremark: ''\r\n\t\t});\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '已推荐方案（示例）',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction addPlanItem() {\r\n\t\tplan.value.push({\r\n\t\t\tid: Date.now() + Math.random(),\r\n\t\t\tfactor: '',\r\n\t\t\tpoint: '',\r\n\t\t\tmethod: '',\r\n\t\t\tfrequency: '',\r\n\t\t\tqaqc: '',\r\n\t\t\tremark: ''\r\n\t\t})\r\n\t}\r\n\r\n\tfunction removePlanItem(i) {\r\n\t\tplan.value.splice(i, 1)\r\n\t}\r\n\r\n\tfunction duplicatePlanItem(i) {\r\n\t\ttry {\r\n\t\t\tconst src = plan.value[i];\r\n\t\t\tplan.value.splice(i + 1, 0, {\r\n\t\t\t\t...JSON.parse(JSON.stringify(src)),\r\n\t\t\t\tid: Date.now() + Math.random()\r\n\t\t\t})\r\n\t\t} catch (e) {}\r\n\t}\r\n\r\n\tfunction movePlanItem(i, dir) {\r\n\t\tif (i + dir < 0 || i + dir >= plan.value.length) return;\r\n\t\tconst it = plan.value.splice(i, 1)[0];\r\n\t\tplan.value.splice(i + dir, 0, it)\r\n\t}\r\n\r\n\tfunction downloadMonitorTemplate() {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '待后端提供模板',\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction generateFinal() {\r\n\t\tconst issues = validateAllSteps();\r\n\t\tif (!issues.length) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '可生成（占位）',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst count = issues.reduce((s, it) => s + it.messages.length, 0);\r\n\t\tuni.showToast({\r\n\t\t\ttitle: `仍有 ${count} 项待完善`,\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction preflight(type) {\r\n\t\tconst issues = validateAllSteps();\r\n\t\tif (!issues.length) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: `可导出${type}（待后端）`,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst count = issues.reduce((s, it) => s + it.messages.length, 0);\r\n\t\tconst first = issues[0];\r\n\t\tconst msg = `共 ${count} 项待补充，涉及：` + issues.map(it => `${stepNames[it.step]}(${it.messages.length})`).join('，');\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '预检查提示',\r\n\t\t\tcontent: msg,\r\n\t\t\tconfirmText: '去完善',\r\n\t\t\tcancelText: '继续导出',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tcurrentStep.value = first.step\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: `模拟导出${type}，待对接`,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tconst preflightSummary = computed(() => {\r\n\t\tconst xs = validateAllSteps();\r\n\t\tif (!xs.length) return '已满足生成条件（示例）。';\r\n\t\treturn xs.map(it => `· ${stepNames[it.step]}：${it.messages.join('，')}`).join('\\n')\r\n\t})\r\n\r\n\tfunction validateStep(i) {\r\n\t\tconst misses = [];\r\n\t\tif (i === 0) {\r\n\t\t\tif (!eiaFiles.value.length && !extractionOk.value) misses.push('上传至少1个文件或使用示例提取')\r\n\t\t} else if (i === 1) {\r\n\t\t\tif (!baseTable.value.length) misses.push('未生成项目信息表')\r\n\t\t} else if (i === 3) {\r\n\t\t\tif (!devices.value.length && !outlets.value.length) misses.push('请完善设备或排放口')\r\n\t\t} else if (i === 4) {\r\n\t\t\tif (!signboard.sections.some(sec => sec.items.some(it => it.content))) misses.push('标识牌至少填写一项内容')\r\n\t\t} else if (i === 5) {\r\n\t\t\tif (!plan.value.length) misses.push('请新增或推荐至少1条方案')\r\n\t\t}\r\n\t\treturn misses\r\n\t}\r\n\r\n\tfunction validateAllSteps() {\r\n\t\tconst issues = [];\r\n\t\tfor (let i = 0; i < stepNames.length; i++) {\r\n\t\t\tconst m = validateStep(i);\r\n\t\t\tif (m.length) issues.push({\r\n\t\t\t\tstep: i,\r\n\t\t\t\tmessages: m\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn issues\r\n\t}\r\n\r\n\tconst completionPercent = computed(() => {\r\n\t\tlet total = 0,\r\n\t\t\tdone = 0\r\n\t\ttotal += 1;\r\n\t\tif (extractionOk.value) done += 1\r\n\t\ttotal += 1;\r\n\t\tif (baseTable.value.length > 0) done += 1\r\n\t\ttotal += 1;\r\n\t\tdone += 1\r\n\t\tconst pct = Math.round((done / Math.max(total, 7)) * 100)\r\n\t\treturn Math.min(100, Math.max(0, pct))\r\n\t})\r\n\tonLoad(() => {})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t/* ========== 设计令牌（统一风格） ========== */\r\n\t$brand: #166534; // 主色（深绿）\r\n\t$brand-600: #17834a;\r\n\t$brand-50: #ecfdf5;\r\n\t$ink: #0f172a; // 标题\r\n\t$muted: #5b6b7b; // 次文本\r\n\t$line: #e6eaf0; // 细线\r\n\t$bg: #f6f8fb; // 背景\r\n\t$white: #ffffff;\r\n\t$danger: #d92d20;\r\n\t$warning: #fb923c;\r\n\r\n\t$radius: 14rpx;\r\n\t$radius-lg: 18rpx;\r\n\t$shadow-sm: 0 2rpx 10rpx rgba(16, 24, 40, .06);\r\n\t$shadow-md: 0 6rpx 24rpx rgba(16, 24, 40, .08);\r\n\r\n\t/* ========== 页面框架 ========== */\r\n\t.acceptance-page {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: $bg;\r\n\t}\r\n\r\n\t/* 顶部工具栏 */\r\n\t.acceptance-toolbar {\r\n\t\tbackground: $white;\r\n\t\tborder-bottom: 1rpx solid $line;\r\n\t\tbox-shadow: $shadow-sm;\r\n\t\tpadding: 20rpx 28rpx;\r\n\t}\r\n\r\n\t.toolbar-content {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tgap: 24rpx;\r\n\t}\r\n\r\n\t.toolbar-left {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\r\n\t.progress-section {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.progress-label {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: $muted;\r\n\t}\r\n\r\n\t.progress-bar {\r\n\t\twidth: 220rpx;\r\n\t\theight: 8rpx;\r\n\t\tbackground: #edf1f5;\r\n\t\tborder-radius: 999rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.progress-fill {\r\n\t\theight: 100%;\r\n\t\tbackground: linear-gradient(90deg, $brand, $brand-600);\r\n\t\ttransition: width .25s ease;\r\n\t}\r\n\r\n\t.progress-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: $brand;\r\n\t\tfont-weight: 600;\r\n\t\tmin-width: 60rpx;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.toolbar-right {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\r\n\t.toolbar-buttons {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t/* 统一按钮体系 */\r\n\t.btn {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t\tpadding: 0 22rpx;\r\n\t\theight: 64rpx;\r\n\t\tborder-radius: $radius;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: 500;\r\n\t\tborder: 1rpx solid transparent;\r\n\t\tbackground: $white;\r\n\t\tcolor: #374151;\r\n\t\ttransition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;\r\n\t}\r\n\t\r\n\t:deep(.uni-button.btn.btn--secondary::after) {\r\n\t  border-radius: $radius;\r\n\t}\r\n\t\r\n\t.btn:active {\r\n\t\ttransform: translateY(1rpx);\r\n\t}\r\n\r\n\t.btn[disabled] {\r\n\t\topacity: .6;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.btn--primary {\r\n\t\tbackground: $brand;\r\n\t\tcolor: $white;\r\n\t\tborder-color: $brand;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(22, 101, 52, .22);\r\n\t}\r\n\r\n\t.btn--secondary {\r\n\t\tbackground: #f8fafc;\r\n\t\tcolor: #155e3b;\r\n\t\tborder-color: #dbe3ea;\r\n\t}\r\n\r\n\t.btn--ghost {\r\n\t\tbackground: $white;\r\n\t\tcolor: $muted;\r\n\t\tborder-color: #e9edf2;\r\n\t}\r\n\r\n\t.btn--danger {\r\n\t\tbackground: $danger;\r\n\t\tcolor: $white;\r\n\t\tborder-color: $danger;\r\n\t}\r\n\r\n\t.btn--danger-ghost {\r\n\t\tbackground: #fef3f2;\r\n\t\tcolor: $danger;\r\n\t\tborder-color: #fde2e1;\r\n\t}\r\n\r\n\t/* 步骤导航 */\r\n\t.acceptance-steps {\r\n\t\tbackground: $white;\r\n\t\tborder-bottom: 1rpx solid #f2f4f7;\r\n\t\tpadding: 18rpx 24rpx;\r\n\t}\r\n\r\n\t.steps-container {\r\n\t\tmax-width: 1200rpx;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.mobile-step-select {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.desktop-steps {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t}\r\n\r\n\t.step-item {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t\tpadding: 14rpx 18rpx;\r\n\t\tborder-radius: $radius;\r\n\t\tborder: 1rpx solid transparent;\r\n\t\ttransition: background .2s ease, border-color .2s ease;\r\n\t}\r\n\r\n\t.step-item--active {\r\n\t\tbackground: #f3faf6;\r\n\t\tborder-color: #def7ec;\r\n\t}\r\n\r\n\t.step-item--completed .step-indicator {\r\n\t\tbackground: #10b981;\r\n\t\tcolor: $white;\r\n\t}\r\n\r\n\t.step-indicator {\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #eef2f6;\r\n\t\tcolor: $muted;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 20rpx;\r\n\t\tfont-weight: 700;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\t.step-label {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #344054;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.step-connector {\r\n\t\twidth: 20rpx;\r\n\t\theight: 2rpx;\r\n\t\tbackground: #e3e8ef;\r\n\t\tmargin-left: 4rpx;\r\n\t\tborder-radius: 1rpx;\r\n\t}\r\n\r\n\t/* 主体 */\r\n\t.acceptance-content {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tmin-height: 0;\r\n\t}\r\n\r\n\t.content-scroll {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.content-section {\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.section-card {\r\n\t\tbackground: $white;\r\n\t\tborder-radius: $radius-lg;\r\n\t\tbox-shadow: $shadow-md;\r\n\t\tborder: 1rpx solid #eef2f6;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.section-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 10rpx;\r\n\t\tpadding: 24rpx 24rpx 0;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: $ink;\r\n\t\tfont-weight: 700;\r\n\t\tletter-spacing: .2rpx;\r\n\t}\r\n\r\n\t.section-body {\r\n\t\tpadding: 0 24rpx 24rpx;\r\n\t}\r\n\r\n\t/* 表单 */\r\n\t.form-group {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 12rpx;\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\r\n\t.form-label {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: $ink;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.form-tip {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: $muted;\r\n\t}\r\n\r\n\t.action-row {\r\n\t\tdisplay: flex;\r\n\t\tgap: 12rpx;\r\n\t\tmargin-top: 16rpx;\r\n\t}\r\n\r\n\t.section-actions {\r\n\t\tdisplay: flex;\r\n\t\tgap: 12rpx;\r\n\t\tmargin: 12rpx 0 18rpx;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t/* 子块标题 */\r\n\t.subsection {\r\n\t\tmargin-top: 24rpx;\r\n\t\tpadding-top: 24rpx;\r\n\t\tborder-top: 1rpx solid #f1f5f9;\r\n\t}\r\n\r\n\t.subsection-head {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 10rpx;\r\n\t\tmargin-bottom: 14rpx;\r\n\t}\r\n\r\n\t.subsection-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: $ink;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t/* 表格（桌面网格、移动卡片化） */\r\n\t.data-table {\r\n\t\tborder: 1rpx solid #e6ebf1;\r\n\t\tborder-radius: $radius;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.table-header {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 160rpx 1fr 140rpx 120rpx 100rpx;\r\n\t\tbackground: #f8fafc;\r\n\t\tborder-bottom: 1rpx solid #e6ebf1;\r\n\t}\r\n\r\n\t.table-header--dense {\r\n\t\tgrid-template-columns: 160rpx 1fr 140rpx 120rpx 100rpx;\r\n\t}\r\n\r\n\t.table-th {\r\n\t\tpadding: 18rpx 14rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #475569;\r\n\t\tfont-weight: 700;\r\n\t\tborder-right: 1rpx solid #e6ebf1;\r\n\t}\r\n\r\n\t.table-th:last-child {\r\n\t\tborder-right: none;\r\n\t}\r\n\r\n\t.table-body {\r\n\t\tbackground: $white;\r\n\t}\r\n\r\n\t.table-row {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 160rpx 1fr 140rpx 120rpx 100rpx;\r\n\t\tborder-bottom: 1rpx solid #f2f4f7;\r\n\t}\r\n\r\n\t.table-row:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t.table-row--simple {\r\n\t\tgrid-template-columns: 1fr 100rpx;\r\n\t}\r\n\r\n\t.table-td {\r\n\t\tpadding: 16rpx 14rpx;\r\n\t\tborder-right: 1rpx solid #f7f8fa;\r\n\t\tmin-height: 76rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.table-td:last-child {\r\n\t\tborder-right: none;\r\n\t}\r\n\r\n\t.table-td--section {\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #0f172a;\r\n\t}\r\n\r\n\t/* 图标按钮（表格内） */\r\n\t.icon-btn {\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tborder: 1rpx solid #edf1f5;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground: $white;\r\n\t}\r\n\r\n\t.icon-btn:active {\r\n\t\tbackground: #f3f6fa;\r\n\t}\r\n\r\n\t/* 基本信息表：响应式行 */\r\n\t.form-grid--base {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 1fr 1fr;\r\n\t\tgap: 12rpx 16rpx;\r\n\t}\r\n\r\n\t.form-item__row {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 10rpx;\r\n\t\tbackground: $white;\r\n\t\tborder: 1rpx solid #e7ecf2;\r\n\t\tborder-radius: $radius;\r\n\t\tpadding: 14rpx;\r\n\t}\r\n\r\n\t.form-item__label {\r\n\t\tmin-width: 180rpx;\r\n\t\tcolor: #334155;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t/* 标识牌：左侧标题输入，固定宽度以避免与值重叠 */\r\n\t.form-item__title {\r\n\t\twidth: 180rpx;\r\n\t}\r\n\r\n\t.form-item__input {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.form-item__select {\r\n\t\twidth: 56rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t/* 空状态 */\r\n\t.empty-state {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t\tpadding: 50rpx 24rpx;\r\n\t\tcolor: #cbd5e1;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.empty-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #64748b;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.empty-tip {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #9aa8b6;\r\n\t}\r\n\r\n\t/* 底部导航 */\r\n\t.acceptance-navigation {\r\n\t\tbackground: $white;\r\n\t\tborder-top: 1rpx solid $line;\r\n\t\tpadding: 18rpx 24rpx;\r\n\t\tbox-shadow: 0 -2rpx 10rpx rgba(16, 24, 40, .06);\r\n\t}\r\n\r\n\t.nav-buttons {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmax-width: 1200rpx;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t/* 弹窗 */\r\n\t.modal {\r\n\t\tbackground: $white;\r\n\t\tborder-radius: 20rpx;\r\n\t\twidth: 86vw;\r\n\t\tmax-width: 620rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 18rpx 52rpx rgba(15, 23, 42, .18);\r\n\t}\r\n\r\n\t.modal-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 24rpx;\r\n\t\tborder-bottom: 1rpx solid #eff3f7;\r\n\t}\r\n\r\n\t.modal-title {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: $ink;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\r\n\t.modal-close {\r\n\t\twidth: 44rpx;\r\n\t\theight: 44rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbackground: transparent;\r\n\t\tborder: 1rpx solid #eef2f6;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.modal-body {\r\n\t\tpadding: 24rpx;\r\n\t}\r\n\r\n\t.modal-description {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: $muted;\r\n\t\tmargin-bottom: 14rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.draft-textarea {\r\n\t\twidth: 100%;\r\n\t\tmin-height: 360rpx;\r\n\t\tpadding: 16rpx;\r\n\t\tborder: 1rpx solid #e6ebf1;\r\n\t\tborder-radius: $radius;\r\n\t\tfont-size: 26rpx;\r\n\t\tline-height: 1.5;\r\n\t\tbackground: #fafafa;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.modal-actions {\r\n\t\tdisplay: flex;\r\n\t\tgap: 12rpx;\r\n\t\tpadding: 0 24rpx 24rpx;\r\n\t\tjustify-content: flex-end;\r\n\t}\r\n\r\n\t/* 宽度工具类 */\r\n\t.w80 {\r\n\t\t// min-width: 120rpx;\r\n\t\t// max-width: 120rpx;\r\n\t}\r\n\r\n\t.w100 {\r\n\t\tmin-width: 140rpx;\r\n\t\tmax-width: 140rpx;\r\n\t}\r\n\r\n\t.w120 {\r\n\t\tmin-width: 160rpx;\r\n\t\tmax-width: 160rpx;\r\n\t}\r\n\r\n\t.w140 {\r\n\t\tmin-width: 200rpx;\r\n\t\tmax-width: 200rpx;\r\n\t}\r\n\r\n\t.w160 {\r\n\t\tmin-width: 260rpx;\r\n\t\tmax-width: 260rpx;\r\n\t}\r\n\r\n\t.w200 {\r\n\t\tmin-width: 320rpx;\r\n\t\tmax-width: 320rpx;\r\n\t}\r\n\r\n\t/* 响应式（小屏） */\r\n\t@media (max-width: 768px) {\r\n\t\t.toolbar-content {\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 16rpx;\r\n\t\t}\r\n\r\n\t\t.toolbar-left,\r\n\t\t.toolbar-right {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.toolbar-buttons {\r\n\t\t\twidth: 100%;\r\n\t\t\toverflow-x: auto;\r\n\t\t\tpadding-bottom: 6rpx;\r\n\t\t}\r\n\r\n\t\t.acceptance-content {\r\n\t\t\tpadding: 16rpx;\r\n\t\t}\r\n\r\n\t\t.section-header {\r\n\t\t\tpadding: 20rpx 20rpx 0;\r\n\t\t}\r\n\r\n\t\t.section-body {\r\n\t\t\tpadding: 0 20rpx 20rpx;\r\n\t\t}\r\n\r\n\t\t.form-grid--base {\r\n\t\t\tgrid-template-columns: 1fr;\r\n\t\t\tgap: 10rpx;\r\n\t\t}\r\n\r\n\t\t.form-item__label {\r\n\t\t\twidth: 160rpx;\r\n\t\t\tmin-width: 140rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t}\r\n\r\n\t\t.form-item__title {\r\n\t\t\twidth: 160rpx;\r\n\t\t\tmin-width: 140rpx;\r\n\t\t}\r\n\r\n\t\t/* 表格卡片化：自动加标签（无须改模板） */\r\n\t\t.table-header {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.table-row {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: 1fr;\r\n\t\t\tborder-bottom: 1rpx solid #f1f5f9;\r\n\t\t\tpadding: 10rpx 8rpx;\r\n\t\t\tgap: 0;\r\n\t\t}\r\n\r\n\t\t.table-td {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 14rpx 14rpx 14rpx 120rpx;\r\n\t\t\tborder-right: none;\r\n\t\t\tborder-bottom: 1rpx solid #f7f8fa;\r\n\t\t\tmin-height: 64rpx;\r\n\t\t}\r\n\r\n\t\t.table-td:last-child {\r\n\t\t\tborder-bottom: none;\r\n\t\t}\r\n\r\n\t\t/* 用 nth-child 给出列标题（与 header 顺序一致） */\r\n\t\t.table-row .table-td:nth-child(1)::before {\r\n\t\t\tcontent: '字段';\r\n\t\t}\r\n\r\n\t\t.table-row .table-td:nth-child(2)::before {\r\n\t\t\tcontent: '当前值';\r\n\t\t}\r\n\r\n\t\t.table-row .table-td:nth-child(3)::before {\r\n\t\t\tcontent: '类型';\r\n\t\t}\r\n\r\n\t\t.table-row .table-td:nth-child(4)::before {\r\n\t\t\tcontent: '状态';\r\n\t\t}\r\n\r\n\t\t.table-row .table-td:nth-child(5)::before {\r\n\t\t\tcontent: '操作';\r\n\t\t}\r\n\r\n\t\t.table-td::before {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 14rpx;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #6b7a8a;\r\n\t\t\tfont-weight: 600;\r\n\t\t\twidth: 96rpx;\r\n\t\t\ttext-align-last: justify;\r\n\t\t}\r\n\r\n\t\t/* 简化型行（标识牌）不需要五列标签 */\r\n\t\t.table-row--simple .table-td {\r\n\t\t\tpadding: 14rpx;\r\n\t\t}\r\n\r\n\t\t.table-row--simple .table-td::before {\r\n\t\t\tcontent: '';\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\r\n\t\t.acceptance-navigation {\r\n\t\t\tpadding: 16rpx;\r\n\t\t}\r\n\r\n\t\t.modal {\r\n\t\t\twidth: 92vw;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 桌面端：移除突兀 hover 色，保持轻影与对比 */\r\n\t@media (min-width: 769px) {\r\n\t\t.btn--primary:hover {\r\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(22, 101, 52, .28);\r\n\t\t}\r\n\r\n\t\t.btn--secondary:hover {\r\n\t\t\tbackground: #eef6f2;\r\n\t\t\tborder-color: #d7efe4;\r\n\t\t}\r\n\r\n\t\t.btn--ghost:hover {\r\n\t\t\tbackground: #f7f9fb;\r\n\t\t}\r\n\r\n\t\t.btn--danger:hover {\r\n\t\t\tbox-shadow: 0 6rpx 16rpx rgba(217, 45, 32, .25);\r\n\t\t}\r\n\r\n\t\t.step-item:hover {\r\n\t\t\tbackground: #f7fafc;\r\n\t\t}\r\n\r\n\t\t.icon-btn:hover {\r\n\t\t\tbackground: #f3f6fa;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/reports/acceptance/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","usePlatformInfo","ref","computed","uni","reactive","onLoad"],"mappings":"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"}