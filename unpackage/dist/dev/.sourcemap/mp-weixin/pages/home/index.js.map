{"version":3,"file":"index.js","sources":["pages/home/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9pbmRleC52dWU"],"sourcesContent":["<!-- 首页：功能入口卡片网格（UTF-8, 中文注释） -->\n<template>\n  <AppLayout current=\"pages/home/index\">\n    <view class=\"home\">\n      <!-- 头部标题与搜索 -->\n      <view class=\"home__header\">\n        <view class=\"home__title-section\">\n          <text class=\"home__title\">环保 AI 工作台</text>\n          <text class=\"home__subtitle\">智能环保助手，提升工作效率</text>\n        </view>\n        <view class=\"home__search\">\n          <uni-icons type=\"search\" size=\"18\" color=\"#94a3b8\" />\n          <input \n            v-model=\"keyword\" \n            class=\"home__search-input\" \n            placeholder=\"搜索功能或关键字\" \n            placeholder-style=\"color: #94a3b8;\"\n          />\n        </view>\n      </view>\n\n      <!-- 功能卡片网格 -->\n      <view class=\"home__grid\">\n        <view\n          v-for=\"item in filteredCards\"\n          :key=\"item.id\"\n          class=\"home__card\"\n          :class=\"{\n            'home__card--disabled': item.status === 'comingSoon' || item.status === 'disabled',\n            'home__card--beta': item.status === 'beta'\n          }\"\n          @tap=\"onCardTap(item)\"\n        >\n          <view class=\"home__card-icon\" :style=\"{ backgroundColor: getIconBgColor(item.color) }\">\n            <uni-icons :type=\"item.icon\" size=\"28\" :color=\"getIconColor(item.color)\" />\n          </view>\n          <view class=\"home__card-body\">\n            <text class=\"home__card-title\">{{ item.title }}</text>\n            <text class=\"home__card-subtitle\">{{ item.subtitle }}</text>\n          </view>\n          <view v-if=\"item.status === 'beta'\" class=\"home__card-badge\">Beta</view>\n          <view v-if=\"item.status === 'comingSoon'\" class=\"home__card-soon\">即将上线</view>\n        </view>\n      </view>\n      \n      <!-- 空状态 -->\n      <view v-if=\"filteredCards.length === 0\" class=\"home__empty\">\n        <uni-icons type=\"search\" size=\"60\" color=\"#cbd5e1\" />\n        <text class=\"home__empty-text\">未找到相关功能</text>\n      </view>\n      \n     <!-- #ifndef MP-WEIXIN -->\n     <view class=\"home__safe-bottom\"></view>\n     <!-- #endif -->\n    </view>\n  </AppLayout>\n</template>\n\n<script setup>\n// UTF-8 编码；中文注释\nimport { computed, ref } from 'vue'\nimport AppLayout from '@/components/layout/AppLayout.vue'\nimport { onShow } from '@dcloudio/uni-app'\nimport { navTitleStore } from '@/stores/navTitle.js'\n\n// 设置头部导航标题\nconst navTitle = navTitleStore()\nonShow(() => navTitle.setTitle('环保 AI 工作台'))\n\n// Tab 页集合：用于判断是否使用 switchTab\nconst TAB_PAGES = new Set([\n  '/pages/home/index',\n  '/pages/knowledge/index',\n  '/pages/profile/index',\n])\n\n// 功能卡片配置（可后续服务端下发）\nconst cards = ref([\n  {\n    id: 'chat',\n    title: 'AI问答',\n    subtitle: '环保领域智能问答',\n    icon: 'chat',\n    path: '/pages/chat/index',\n    isTab: false,\n    color: '#10b981'\n  },\n  {\n    id: 'doc',\n    title: '报告生成',\n    subtitle: '模板+资料智能生成',\n    icon: 'compose',\n    path: '/pages/doc-generator/index',\n    isTab: false,\n    color: '#3b82f6'\n  },\n  {\n    id: 'review',\n    title: '合规审查',\n    subtitle: '文档合规性智能审查',\n    icon: 'calendar',\n    path: '/pages/compliance/index',\n    isTab: false,\n    color: '#f59e0b'\n  },\n  {\n    id: 'acceptance',\n    title: '环评竣工验收',\n    subtitle: '环评竣工验收全流程，包含验收报告生成',\n    icon: 'flag',\n    path: '/pages/reports/acceptance/index',\n    isTab: false,\n    status: 'beta',\n    color: '#8b5cf6'\n  },\n  {\n    id: 'eia',\n    title: '环评报告',\n    subtitle: '环评行业报告辅助',\n    icon: 'paperplane',\n    path: '/pages/reports/eia/index',\n    isTab: false,\n    status: 'beta',\n    color: '#ef4444'\n  },\n  {\n    id: 'kb',\n    title: '知识库',\n    subtitle: '资料管理与检索',\n    icon: 'folder-add',\n    path: '/pages/knowledge/index',\n    isTab: true,\n    color: '#06b6d4'\n  },\n  {\n    id: 'reconnoitre',\n    title: '现场踏查',\n    subtitle: '根据建设项目情况及业务要求，生成现场踏勘指引。',\n    icon: 'map-pin-ellipse',\n    path: '/pages/reconnoitre/index',\n    isTab: true,\n    color: '#aa55ff',\n\tstatus: 'beta',\n  },\r\n  {\r\n    id: 'ledger',\r\n    title: '环保台账',\r\n    subtitle: '企业环境管理的基础，也是环保部门执法检查的重点内容',\r\n    icon: 'calendar',\r\n    path: '/pages/ledger/index',\r\n    isTab: true,\r\n    color: '#00007f',\r\n  \tstatus: 'beta',\r\n  },\r\n  {\r\n    id: 'project',\r\n    title: '项目管理',\r\n    subtitle: '企业项目管理，包含项目新建、修改等',\r\n    icon: 'calendar',\r\n    path: '/pages/project/index',\r\n    isTab: true,\r\n    color: '#aaaa00',\r\n  \tstatus: 'beta',\r\n  },\n])\n\nconst keyword = ref('')\nconst filteredCards = computed(() => {\n  const kw = keyword.value.trim()\n  if (!kw) return cards.value\n  return cards.value.filter((c) =>\n    [c.title, c.subtitle, c.id].some((t) => String(t).toLowerCase().includes(kw.toLowerCase()))\n  )\n})\n\nfunction onCardTap(item) {\n  if (!item?.path) return\n  const url = item.path.startsWith('/') ? item.path : `/${item.path}`\n  // Tab 页使用 switchTab，否则 navigateTo\n  if (TAB_PAGES.has(url)) {\n    uni.switchTab({ url })\n  } else {\n    uni.navigateTo({ url })\n  }\n}\n\n// 获取图标背景颜色\nfunction getIconBgColor(color) {\n  if (!color) return '#f0fdf4'\n  return `${color}15` // 添加透明度\n}\n\n// 获取图标颜色\nfunction getIconColor(color) {\n  return color || '#276019'\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.home {\n  display: flex;\n  flex-direction: column;\n  gap: 32rpx;\n  background-color: #F2F3F6;\r\n  padding: 32rpx;\n}\n\n.home__header {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n}\n\n.home__title-section {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n}\n\n.home__title {\n  font-size: 48rpx;\n  font-weight: 700;\n  color: #0f172a;\n  line-height: 1.2;\n}\n\n.home__subtitle {\n  font-size: 28rpx;\n  color: #64748b;\n  line-height: 1.4;\n}\n\n.home__search {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  height: 88rpx;\n  border-radius: 20rpx;\n  padding: 0 28rpx;\n  background: #ffffff;\n  box-shadow: 0 4rpx 20rpx rgba(15, 23, 42, 0.08);\n  border: 1rpx solid #e2e8f0;\n  transition: all 0.2s ease;\n}\n\n.home__search:focus-within {\n  box-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.12);\n  border-color: #3b82f6;\n}\n\n.home__search-input {\n  flex: 1;\n  height: 100%;\n  font-size: 28rpx;\n  color: #0f172a;\n}\n\n.home__grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 24rpx;\n\n  // 桌面端更高密度\n  @media (min-width: 1024px) {\n    grid-template-columns: repeat(3, 1fr);\n    gap: 32rpx;\n  }\n}\n\n.home__card {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n  padding: 32rpx;\n  border-radius: 24rpx;\n  background: #ffffff;\n  box-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.08);\n  border: 1rpx solid #f1f5f9;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  overflow: hidden;\n}\n\n.home__card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4rpx;\n  background: linear-gradient(90deg, #10b981, #3b82f6);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.home__card:active {\n  transform: translateY(2rpx);\n  box-shadow: 0 2rpx 12rpx rgba(15, 23, 42, 0.12);\n}\n\n.home__card--disabled {\n  opacity: 0.5;\n}\n\n.home__card--beta::before {\n  opacity: 1;\n}\n\n.home__card-icon {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 20rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n}\n\n.home__card:active .home__card-icon {\n  transform: scale(0.95);\n}\n\n.home__card-body {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n  flex: 1;\n}\n\n.home__card-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #0f172a;\n  line-height: 1.3;\n}\n\n.home__card-subtitle {\n  font-size: 26rpx;\n  color: #64748b;\n  line-height: 1.4;\n}\n\n.home__card-badge {\n  position: absolute;\n  top: 20rpx;\n  right: 20rpx;\n  font-size: 20rpx;\n  font-weight: 600;\n  padding: 6rpx 12rpx;\n  border-radius: 8rpx;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: #ffffff;\n}\n\n.home__card-soon {\n  position: absolute;\n  right: 20rpx;\n  bottom: 20rpx;\n  font-size: 22rpx;\n  color: #94a3b8;\n  font-weight: 500;\n}\n\n.home__empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24rpx;\n  padding: 120rpx 0;\n  color: #94a3b8;\n}\n\n.home__empty-text {\n  font-size: 28rpx;\n  color: #64748b;\n}\n\n.home__safe-bottom {\n  height: env(safe-area-inset-bottom);\n}\n\n/* 桌面端悬停效果 */\n@media (min-width: 768px) {\n  .home__card:hover {\n    transform: translateY(-4rpx);\n    box-shadow: 0 12rpx 40rpx rgba(15, 23, 42, 0.15);\n    border-color: #e2e8f0;\n  }\n  \n  .home__card:hover::before {\n    opacity: 1;\n  }\n  \n  .home__card:hover .home__card-icon {\n    transform: scale(1.05);\n  }\n}\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/home/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","ref","computed","uni"],"mappings":"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"}