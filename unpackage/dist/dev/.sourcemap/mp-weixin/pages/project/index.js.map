{"version":3,"file":"index.js","sources":["pages/project/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvamVjdC9pbmRleC52dWU"],"sourcesContent":["<template>\n  <AppLayout current=\"pages/projects/index\">\n    <view class=\"projects\">\n      <!-- 页面头部 -->\n      <view class=\"projects__header\">\n        <view class=\"projects__title-section\">\n          <text class=\"projects__title\">项目管理</text>\n          <text class=\"projects__subtitle\">统筹环保项目执行，确保按时高质量完成</text>\n        </view>\n        <view class=\"projects__header-actions\">\n          \n          \n        </view>\n      </view>\n\n      <!-- 主要内容区域 -->\n      <view class=\"projects__content\">\n        <!-- 左侧项目列表 -->\n        <view class=\"projects__list-panel\">\n          <view class=\"projects__panel-header\">\n            <text class=\"projects__panel-title\">项目列表</text>\n\t\t\t<button class=\"projects__button projects__button--primary\" @tap=\"createProject\">\n\t\t\t  <uni-icons type=\"plus\" size=\"16\" color=\"#ffffff\" />\n\t\t\t  <text>新建项目</text>\n\t\t\t</button>\n          </view>\n          \n          <scroll-view scroll-y class=\"projects__scroll\">\n            <view\n              v-for=\"project in filteredProjects\"\n              :key=\"project.id\"\n              class=\"projects__item\"\n              :class=\"{ \n                'projects__item--active': project.id === activeProjectId,\n                'projects__item--delayed': project.status === 'delayed'\n              }\"\n              @tap=\"() => switchProject(project.id)\"\n            >\n              <view class=\"projects__item-icon\">\n                <uni-icons :type=\"getProjectIcon(project.type)\" size=\"20\" :color=\"getProjectColor(project.status)\" />\n              </view>\n              <view class=\"projects__item-content\">\n                <view class=\"projects__item-header\">\n                  <text class=\"projects__item-name\">{{ project.name }}</text>\n                </view>\n                <text class=\"projects__item-desc\">{{ project.description }}</text>\n                \n                <view class=\"projects__item-meta\">\n                  <view class=\"projects__item-meta-item\">\n                    <uni-icons type=\"person\" size=\"14\" color=\"#94a3b8\" />\n                    <text class=\"projects__item-meta-text\">{{ project.manager }}</text>\n                  </view>\n                  <view class=\"projects__item-meta-item\">\n                    <uni-icons type=\"calendar\" size=\"14\" color=\"#94a3b8\" />\n                    <text class=\"projects__item-meta-text\">{{ project.deadline }}</text>\n                  </view>\n                </view>\n              </view>\n              <view class=\"projects__item-actions\">\n                <!-- 新增编辑按钮 -->\n                <view class=\"projects__item-action\" @tap.stop=\"() => editProject(project.id)\">\n                  <uni-icons type=\"compose\" size=\"16\" color=\"#64748b\" />\n                </view>\n                <!-- 新增删除按钮 -->\n                <view class=\"projects__item-action\" @tap.stop=\"() => deleteProject(project.id)\">\n                  <uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\n                </view>\n              </view>\n            </view>\n            \n            <!-- 空状态 -->\n            <view v-if=\"filteredProjects.length === 0\" class=\"projects__empty\">\n              <uni-icons type=\"folder\" size=\"60\" color=\"#cbd5e1\" />\n              <text class=\"projects__empty-text\">暂无项目</text>\n              <text class=\"projects__empty-subtext\">点击上方按钮创建第一个项目</text>\n            </view>\n          </scroll-view>\n        </view>\n\n        <!-- 右侧项目详情 -->\n        <view class=\"projects__detail-panel\">\n          <view class=\"projects__panel-header\">\n            <view class=\"projects__detail-header\">\n              <text class=\"projects__panel-title\">项目详情</text>\n            </view>\n            <view class=\"projects__detail-actions\">\n              <button class=\"projects__button projects__button--primary\" @tap=\"uploadFile\" :disabled=\"!activeProject\">\n                <uni-icons type=\"cloud-upload\" size=\"16\" color=\"#ffffff\" />\n                <text>上传项目文件</text>\n              </button>\n            </view>\n          </view>\n\n          <scroll-view scroll-y class=\"projects__detail-scroll\">\n            <view v-if=\"activeProject\" class=\"projects__detail-content\">\n              <!-- 项目概览 -->\n              <view class=\"projects__section\">\n                <view class=\"projects__section-header\">\n                  <uni-icons type=\"info\" size=\"18\" color=\"#3b82f6\" />\n                  <text class=\"projects__section-title\">项目概览</text>\n                </view>\n                <view class=\"projects__overview-grid\">\n                  <view class=\"projects__overview-item\">\n                    <text class=\"projects__overview-label\">负责人</text>\n                    <text class=\"projects__overview-value\">{{ activeProject.manager }}</text>\n                  </view>\n                  <view class=\"projects__overview-item\">\n                    <text class=\"projects__overview-label\">项目预算</text>\n                    <text class=\"projects__overview-value\">{{ activeProject.budget }}</text>\n                  </view>\n                  <view class=\"projects__overview-item\">\n                    <text class=\"projects__overview-label\">项目类型</text>\n                    <text class=\"projects__overview-value\">{{ getProjectTypeText(activeProject.type) }}</text>\n                  </view>\n                </view>\n              </view>\n\n              <!-- 项目文档 -->\n              <view class=\"projects__section\">\n                <view class=\"projects__section-header\">\n                  <uni-icons type=\"document\" size=\"18\" color=\"#8b5cf6\" />\n                  <text class=\"projects__section-title\">项目文档</text>\n                  <text class=\"projects__section-count\">{{ activeProject.documents?.length || 0 }} 个文档</text>\n                </view>\n                <view v-if=\"activeProject.documents && activeProject.documents.length > 0\" class=\"projects__documents-list\">\n                  <view \n                    v-for=\"document in activeProject.documents\" \n                    :key=\"document.id\"\n                    class=\"projects__document-item\"\n                  >\n                    <view class=\"projects__document-icon\">\n                      <uni-icons :type=\"getDocumentIcon(document.type)\" size=\"20\" color=\"#3b82f6\" />\n                    </view>\n                    <view class=\"projects__document-content\">\n                      <text class=\"projects__document-name\">{{ document.name }}</text>\n                      <text class=\"projects__document-meta\">{{ document.size }} • {{ document.uploadDate }}</text>\n                    </view>\n                    <view class=\"projects__document-actions\">\n                      <!-- 新增下载按钮 -->\n                      <view class=\"projects__document-action\" @tap.stop=\"() => downloadDocument(document)\">\n                        <uni-icons type=\"download\" size=\"16\" color=\"#64748b\" />\n                      </view>\n                      <!-- 新增删除按钮 -->\n                      <view class=\"projects__document-action\" @tap.stop=\"() => deleteDocument(document.id)\">\n                        <uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\n                      </view>\n                    </view>\n                  </view>\n                </view>\n                <view v-else class=\"projects__empty-section\">\n                  <uni-icons type=\"document\" size=\"32\" color=\"#cbd5e1\" />\n                  <text class=\"projects__empty-section-text\">暂无文档</text>\n                </view>\n              </view>\n            </view>\n            \n            <!-- 空状态 -->\n            <view v-else class=\"projects__empty-detail\">\n              <uni-icons type=\"folder\" size=\"60\" color=\"#cbd5e1\" />\n              <text class=\"projects__empty-text\">请选择项目</text>\n              <text class=\"projects__empty-subtext\">点击左侧项目查看详情</text>\n            </view>\n          </scroll-view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 新增项目模态框 -->\n    <view v-if=\"showAddProjectModal\" class=\"modal-overlay\">\n      <view class=\"modal-container\">\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">新建项目</text>\n          <uni-icons type=\"close\" size=\"20\" color=\"#64748b\" @tap=\"closeAddProjectModal\" />\n        </view>\n        <view class=\"modal-content\">\n          <view class=\"form-group\">\n            <text class=\"form-label\">项目名称</text>\n            <input \n              v-model=\"newProjectForm.name\" \n              class=\"form-input\" \n              placeholder=\"请输入项目名称\" \n              type=\"text\"\n            />\n          </view>\n          <view class=\"form-group\">\n            <text class=\"form-label\">项目备注</text>\n            <textarea \n              v-model=\"newProjectForm.description\" \n              class=\"form-textarea\" \n              placeholder=\"请输入项目备注\" \n              maxlength=\"200\"\n            />\n          </view>\n          <view class=\"form-group\">\n            <text class=\"form-label\">项目背景</text>\n            <textarea \n              v-model=\"newProjectForm.fullDescription\" \n              class=\"form-textarea\" \n              placeholder=\"请输入项目背景信息\" \n              maxlength=\"500\"\n            />\n          </view>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"modal-button modal-button--cancel\" @tap=\"closeAddProjectModal\">取消</button>\n          <button class=\"modal-button modal-button--confirm\" @tap=\"confirmAddProject\">确认</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 编辑项目模态框 -->\n    <view v-if=\"showEditProjectModal\" class=\"modal-overlay\">\n      <view class=\"modal-container\">\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">编辑项目</text>\n          <uni-icons type=\"close\" size=\"20\" color=\"#64748b\" @tap=\"closeEditProjectModal\" />\n        </view>\n        <view class=\"modal-content\">\n          <view class=\"form-group\">\n            <text class=\"form-label\">项目名称</text>\n            <input \n              v-model=\"editProjectForm.name\" \n              class=\"form-input\" \n              placeholder=\"请输入项目名称\" \n              type=\"text\"\n            />\n          </view>\n          <view class=\"form-group\">\n            <text class=\"form-label\">项目备注</text>\n            <textarea \n              v-model=\"editProjectForm.description\" \n              class=\"form-textarea\" \n              placeholder=\"请输入项目备注\" \n              maxlength=\"200\"\n            />\n          </view>\n          <view class=\"form-group\">\n            <text class=\"form-label\">项目背景</text>\n            <textarea \n              v-model=\"editProjectForm.fullDescription\" \n              class=\"form-textarea\" \n              placeholder=\"请输入项目背景信息\" \n              maxlength=\"500\"\n            />\n          </view>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"modal-button modal-button--cancel\" @tap=\"closeEditProjectModal\">取消</button>\n          <button class=\"modal-button modal-button--confirm\" @tap=\"confirmEditProject\">确认</button>\n        </view>\n      </view>\n    </view>\n\n    <!-- 文件上传模态框 -->\n    <view v-if=\"showUploadModal\" class=\"modal-overlay\">\n      <view class=\"modal-container\">\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">上传文件</text>\n          <uni-icons type=\"close\" size=\"20\" color=\"#64748b\" @tap=\"closeUploadModal\" />\n        </view>\n        <view class=\"modal-content\">\n          <view class=\"upload-area\" @tap=\"chooseFile\">\n            <uni-icons type=\"plus\" size=\"48\" color=\"#3b82f6\" />\n            <text class=\"upload-text\">点击选择文件</text>\n            <text class=\"upload-subtext\">支持图片、文档、压缩包等格式</text>\n          </view>\n          <view v-if=\"selectedFile\" class=\"selected-file\">\n            <uni-icons type=\"document\" size=\"20\" color=\"#3b82f6\" />\n            <text class=\"file-name\">{{ selectedFile.name }}</text>\n            <text class=\"file-size\">{{ formatFileSize(selectedFile.size) }}</text>\n          </view>\n        </view>\n        <view class=\"modal-actions\">\n          <button class=\"modal-button modal-button--cancel\" @tap=\"closeUploadModal\">取消</button>\n          <button class=\"modal-button modal-button--confirm\" @tap=\"confirmUpload\" :disabled=\"!selectedFile\">\n            上传\n          </button>\n        </view>\n      </view>\n    </view>\n  </AppLayout>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue'\nimport AppLayout from '@/components/layout/AppLayout.vue'\n\nimport { onShow } from '@dcloudio/uni-app'\nimport { navTitleStore } from '@/stores/navTitle.js'\n\n// 设置头部导航栏title\nconst navTitle = navTitleStore()\nonShow(() => navTitle.setTitle('项目管理'))\n\n// 统计数据\nconst stats = ref({\n  totalProjects: 18,\n  completedProjects: 6,\n  inProgressProjects: 8,\n  delayedProjects: 4\n})\n\n\nconst activeFilter = ref('all')\n\n// 项目数据\nconst projects = ref([\n  {\n    id: 'project-1',\n    name: '废水处理设施升级',\n    code: 'EP-2024-001',\n    description: '升级厂区废水处理系统，提高处理效率',\n    fullDescription: '本项目旨在对现有废水处理设施进行技术升级，包括更换老旧设备、优化处理工艺、安装在线监测系统等，确保废水排放达标。',\n    type: 'water',\n    status: 'in-progress',\n    progress: 65,\n    manager: '张三',\n    startDate: '2024-01-10',\n    deadline: '2024-03-31',\n    budget: '¥1,200,000',\n    totalTasks: 12,\n    completedTasks: 8,\n    inProgressTasks: 3,\n    pendingTasks: 1,\n    tasks: [\n      {\n        id: 'task-1',\n        title: '设备采购',\n        description: '采购新型废水处理设备',\n        status: 'completed',\n        priority: 'high',\n        assignee: '李四',\n        dueDate: '2024-01-31'\n      },\n      {\n        id: 'task-2',\n        title: '设备安装',\n        description: '安装并调试新设备',\n        status: 'in-progress',\n        priority: 'high',\n        assignee: '王五',\n        dueDate: '2024-02-28'\n      },\n      {\n        id: 'task-3',\n        title: '员工培训',\n        description: '培训操作人员使用新设备',\n        status: 'pending',\n        priority: 'medium',\n        assignee: '赵六',\n        dueDate: '2024-03-15'\n      }\n    ],\n    documents: [\n      {\n        id: 'doc-1',\n        name: '项目方案书.pdf',\n        type: 'pdf',\n        size: '2.3 MB',\n        uploadDate: '2024-01-08'\n      },\n      {\n        id: 'doc-2',\n        name: '设备采购清单.xlsx',\n        type: 'excel',\n        size: '856 KB',\n        uploadDate: '2024-01-15'\n      }\n    ]\n  },\n  {\n    id: 'project-2',\n    name: '危废管理规范化',\n    code: 'EP-2024-002',\n    description: '建立规范的危废管理体系',\n    fullDescription: '通过建立完善的危废分类、存储、转移和处理流程，确保企业危废管理符合环保法规要求。',\n    type: 'waste',\n    status: 'completed',\n    progress: 100,\n    manager: '李四',\n    startDate: '2023-11-01',\n    deadline: '2024-01-15',\n    budget: '¥580,000',\n    totalTasks: 8,\n    completedTasks: 8,\n    inProgressTasks: 0,\n    pendingTasks: 0,\n    tasks: [\n      {\n        id: 'task-4',\n        title: '危废仓库改造',\n        description: '按照规范改造危废暂存间',\n        status: 'completed',\n        priority: 'high',\n        assignee: '王五',\n        dueDate: '2023-11-30'\n      }\n    ],\n    documents: [\n      {\n        id: 'doc-3',\n        name: '危废管理方案.docx',\n        type: 'word',\n        size: '1.8 MB',\n        uploadDate: '2023-10-28'\n      }\n    ]\n  },\n  {\n    id: 'project-3',\n    name: '废气治理设施维护',\n    code: 'EP-2024-003',\n    description: '定期维护废气处理设备',\n    fullDescription: '对厂区所有废气处理设施进行定期检查、维护和保养，确保设备正常运行，废气达标排放。',\n    type: 'air',\n    status: 'delayed',\n    progress: 40,\n    manager: '王五',\n    startDate: '2024-01-05',\n    deadline: '2024-02-20',\n    budget: '¥350,000',\n    totalTasks: 6,\n    completedTasks: 2,\n    inProgressTasks: 2,\n    pendingTasks: 2,\n    tasks: [\n      {\n        id: 'task-5',\n        title: '设备检查',\n        description: '全面检查废气处理设备',\n        status: 'completed',\n        priority: 'medium',\n        assignee: '赵六',\n        dueDate: '2024-01-20'\n      }\n    ],\n    documents: []\n  },\n  {\n    id: 'project-4',\n    name: '环保培训体系建设',\n    code: 'EP-2024-004',\n    description: '建立全员环保培训体系',\n    fullDescription: '制定年度环保培训计划，建立培训课程体系，提高全体员工环保意识和操作技能。',\n    type: 'training',\n    status: 'in-progress',\n    progress: 30,\n    manager: '赵六',\n    startDate: '2024-02-01',\n    deadline: '2024-06-30',\n    budget: '¥250,000',\n    totalTasks: 10,\n    completedTasks: 3,\n    inProgressTasks: 2,\n    pendingTasks: 5,\n    tasks: [\n      {\n        id: 'task-6',\n        title: '培训需求调研',\n        description: '调研各部门培训需求',\n        status: 'completed',\n        priority: 'medium',\n        assignee: '张三',\n        dueDate: '2024-02-15'\n      }\n    ],\n    documents: []\n  }\n])\n\nconst activeProjectId = ref('project-1')\n\nconst activeProject = computed(() => \n  projects.value.find(project => project.id === activeProjectId.value)\n)\n\nconst filteredProjects = computed(() => {\n  if (activeFilter.value === 'all') {\n    return projects.value\n  }\n  return projects.value.filter(project => project.status === activeFilter.value)\n})\n\n// 新增：模态框状态\nconst showAddProjectModal = ref(false)\nconst showEditProjectModal = ref(false)\nconst showUploadModal = ref(false)\n\n// 新增：表单数据\nconst newProjectForm = ref({\n  name: '',\n  description: '',\n  fullDescription: ''\n})\n\nconst editProjectForm = ref({\n  id: '',\n  name: '',\n  description: '',\n  fullDescription: ''\n})\n\nconst selectedFile = ref(null)\n\nfunction switchFilter(filterId) {\n  activeFilter.value = filterId\n}\n\nfunction switchProject(projectId) {\n  activeProjectId.value = projectId\n}\n\n// 修改：createProject 函数，改为打开模态框\nfunction createProject() {\n  newProjectForm.value = {\n    name: '',\n    description: '',\n    fullDescription: ''\n  }\n  showAddProjectModal.value = true\n}\n\n// 修改：editProject 函数，改为打开编辑模态框\nfunction editProject(projectId) {\n  const project = projects.value.find(p => p.id === projectId)\n  if (project) {\n    editProjectForm.value = {\n      id: project.id,\n      name: project.name,\n      description: project.description,\n      fullDescription: project.fullDescription\n    }\n    showEditProjectModal.value = true\n  }\n}\n\n// 新增：删除项目函数\nfunction deleteProject(projectId) {\n  uni.showModal({\n    title: '确认删除',\n    content: '确定要删除这个项目吗？项目相关的所有文件和任务也将被删除，此操作不可恢复。',\n    confirmColor: '#ef4444',\n    success: (res) => {\n      if (res.confirm) {\n        const index = projects.value.findIndex(p => p.id === projectId)\n        if (index !== -1) {\n          projects.value.splice(index, 1)\n          \n          // 如果删除的是当前激活的项目，切换到第一个项目\n          if (activeProjectId.value === projectId && projects.value.length > 0) {\n            activeProjectId.value = projects.value[0].id\n          } else if (projects.value.length === 0) {\n            activeProjectId.value = null\n          }\n          \n          uni.showToast({\n            title: '项目删除成功',\n            icon: 'success'\n          })\n        }\n      }\n    }\n  })\n}\n\n// 新增：确认添加项目\nfunction confirmAddProject() {\n  if (!newProjectForm.value.name.trim()) {\n    uni.showToast({\n      title: '请输入项目名称',\n      icon: 'none'\n    })\n    return\n  }\n\n  const newProject = {\n    id: 'project-' + Date.now(),\n    name: newProjectForm.value.name,\n    code: 'EP-2024-' + (projects.value.length + 1).toString().padStart(3, '0'),\n    description: newProjectForm.value.description || '请描述项目内容',\n    fullDescription: newProjectForm.value.fullDescription || '请详细描述项目目标、范围和要求',\n    type: 'general',\n    status: 'planning',\n    progress: 0,\n    manager: '当前用户',\n    startDate: new Date().toLocaleDateString('zh-CN'),\n    deadline: '待设定',\n    budget: '待预算',\n    totalTasks: 0,\n    completedTasks: 0,\n    inProgressTasks: 0,\n    pendingTasks: 0,\n    tasks: [],\n    documents: []\n  }\n  \n  projects.value.unshift(newProject)\n  activeProjectId.value = newProject.id\n  closeAddProjectModal()\n  \n  uni.showToast({\n    title: '项目创建成功',\n    icon: 'success'\n  })\n}\n\n// 新增：确认编辑项目\nfunction confirmEditProject() {\n  if (!editProjectForm.value.name.trim()) {\n    uni.showToast({\n      title: '请输入项目名称',\n      icon: 'none'\n    })\n    return\n  }\n\n  const projectIndex = projects.value.findIndex(p => p.id === editProjectForm.value.id)\n  if (projectIndex !== -1) {\n    projects.value[projectIndex].name = editProjectForm.value.name\n    projects.value[projectIndex].description = editProjectForm.value.description\n    projects.value[projectIndex].fullDescription = editProjectForm.value.fullDescription\n    \n    closeEditProjectModal()\n    \n    uni.showToast({\n      title: '项目更新成功',\n      icon: 'success'\n    })\n  }\n}\n\n// 新增：关闭模态框函数\nfunction closeAddProjectModal() {\n  showAddProjectModal.value = false\n}\n\nfunction closeEditProjectModal() {\n  showEditProjectModal.value = false\n}\n\n// 修改：uploadFile 函数\nfunction uploadFile() {\n  if (!activeProject.value) {\n    uni.showToast({\n      title: '请先选择项目',\n      icon: 'none'\n    })\n    return\n  }\n  \n  selectedFile.value = null\n  showUploadModal.value = true\n}\n\n// 新增：选择文件\nfunction chooseFile() {\n  uni.chooseFile({\n    count: 1,\n    type: 'all',\n    success: (res) => {\n      selectedFile.value = res.tempFiles[0]\n    }\n  })\n}\n\n// 新增：确认上传文件\nfunction confirmUpload() {\n  if (!selectedFile.value) {\n    uni.showToast({\n      title: '请选择文件',\n      icon: 'none'\n    })\n    return\n  }\n\n  // 模拟文件上传\n  const newDocument = {\n    id: 'doc-' + Date.now(),\n    name: selectedFile.value.name,\n    type: getFileType(selectedFile.value.name),\n    size: formatFileSize(selectedFile.value.size),\n    uploadDate: new Date().toLocaleDateString('zh-CN')\n  }\n\n  if (!activeProject.value.documents) {\n    activeProject.value.documents = []\n  }\n  \n  activeProject.value.documents.push(newDocument)\n  closeUploadModal()\n  \n  uni.showToast({\n    title: '文件上传成功',\n    icon: 'success'\n  })\n}\n\n// 新增：关闭上传模态框\nfunction closeUploadModal() {\n  showUploadModal.value = false\n  selectedFile.value = null\n}\n\n// 新增：删除文档\nfunction deleteDocument(documentId) {\n  uni.showModal({\n    title: '确认删除',\n    content: '确定要删除这个文件吗？此操作不可恢复。',\n    confirmColor: '#ef4444',\n    success: (res) => {\n      if (res.confirm && activeProject.value && activeProject.value.documents) {\n        const docIndex = activeProject.value.documents.findIndex(d => d.id === documentId)\n        if (docIndex !== -1) {\n          activeProject.value.documents.splice(docIndex, 1)\n          uni.showToast({\n            title: '文件删除成功',\n            icon: 'success'\n          })\n        }\n      }\n    }\n  })\n}\n\n// 新增：文件类型判断\nfunction getFileType(filename) {\n  const ext = filename.split('.').pop().toLowerCase()\n  if (['pdf'].includes(ext)) return 'pdf'\n  if (['doc', 'docx'].includes(ext)) return 'word'\n  if (['xls', 'xlsx'].includes(ext)) return 'excel'\n  if (['jpg', 'jpeg', 'png', 'gif', 'bmp'].includes(ext)) return 'image'\n  return 'document'\n}\n\n// 新增：文件大小格式化\nfunction formatFileSize(bytes) {\n  if (bytes === 0) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n\nfunction editTask(taskId) {\n  uni.showToast({\n    title: '编辑任务功能开发中',\n    icon: 'none'\n  })\n}\n\nfunction toggleTask(taskId) {\n  const task = activeProject.value.tasks.find(t => t.id === taskId)\n  if (task) {\n    const oldStatus = task.status\n    task.status = task.status === 'completed' ? 'pending' : 'completed'\n    \n    // 更新项目统计\n    if (oldStatus === 'completed') {\n      activeProject.value.completedTasks -= 1\n      if (task.status === 'pending') {\n        activeProject.value.pendingTasks += 1\n      }\n    } else {\n      activeProject.value.completedTasks += 1\n      if (oldStatus === 'pending') {\n        activeProject.value.pendingTasks -= 1\n      } else if (oldStatus === 'in-progress') {\n        activeProject.value.inProgressTasks -= 1\n      }\n    }\n    \n    // 更新项目进度\n    updateProjectProgress()\n  }\n}\n\nfunction updateProjectProgress() {\n  if (!activeProject.value || !activeProject.value.tasks.length) return\n  \n  const completedTasks = activeProject.value.tasks.filter(task => task.status === 'completed').length\n  const progress = Math.round((completedTasks / activeProject.value.tasks.length) * 100)\n  activeProject.value.progress = progress\n}\n\nfunction updateProgress() {\n  uni.showToast({\n    title: '更新进度功能开发中',\n    icon: 'none'\n  })\n}\n\nfunction previewDocument(document) {\n  uni.showToast({\n    title: `预览文档: ${document.name}`,\n    icon: 'none'\n  })\n}\n\nfunction downloadDocument(document) {\n  uni.showToast({\n    title: `下载文档: ${document.name}`,\n    icon: 'none'\n  })\n}\n\n\n\nfunction getProjectIcon(type) {\n  const iconMap = {\n    water: 'water',\n    waste: 'trash',\n    air: 'cloudy',\n    training: 'person',\n    general: 'folder'\n  }\n  return iconMap[type] || 'folder'\n}\n\nfunction getProjectColor(status) {\n  const colorMap = {\n    planning: '#64748b',\n    'in-progress': '#3b82f6',\n    completed: '#10b981',\n    delayed: '#ef4444'\n  }\n  return colorMap[status] || '#64748b'\n}\n\n\nfunction getProjectTypeText(type) {\n  const typeMap = {\n    water: '水处理',\n    waste: '固废管理',\n    air: '废气治理',\n    training: '环保培训',\n    general: '综合项目'\n  }\n  return typeMap[type] || '其他'\n}\n\nfunction getTaskPriorityText(priority) {\n  const priorityMap = {\n    low: '低',\n    medium: '中',\n    high: '高'\n  }\n  return priorityMap[priority] || '中'\n}\n\nfunction getDocumentIcon(type) {\n  const iconMap = {\n    pdf: 'pdf',\n    word: 'document',\n    excel: 'stats-bars',\n    image: 'image'\n  }\n  return iconMap[type] || 'document'\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.projects {\n  display: flex;\n  flex-direction: column;\n  gap: 32rpx;\n  min-height: 100vh;\n  padding: 32rpx;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n}\n\n.projects__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 24rpx;\n}\n\n.projects__title-section {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n  flex: 1;\n}\n\n.projects__title {\n  font-size: 48rpx;\n  font-weight: 700;\n  color: #0f172a;\n  line-height: 1.2;\n}\n\n.projects__subtitle {\n  font-size: 28rpx;\n  color: #64748b;\n  line-height: 1.4;\n}\n\n.projects__header-actions {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n}\n\n/* 主要内容区域 */\n.projects__content {\n  display: flex;\n  gap: 32rpx;\n  flex: 1;\n}\n\n/* 面板通用样式 */\n.projects__list-panel {\n  width: 480rpx;\n  min-width: 400rpx;\n  background: #ffffff;\n  border-radius: 20rpx;\n  padding: 24rpx;\n  box-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.08);\n  border: 1rpx solid #f1f5f9;\n  display: flex;\n  flex-direction: column;\n}\n\n.projects__detail-panel {\n  flex: 1;\n  background: #ffffff;\n  border-radius: 20rpx;\n  padding: 24rpx;\n  box-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.08);\n  border: 1rpx solid #f1f5f9;\n  display: flex;\n  flex-direction: column;\n}\n\n.projects__panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 24rpx;\n  gap: 16rpx;\n}\n\n.projects__panel-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.projects__detail-header {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n}\n\n.projects__detail-status {\n  font-size: 24rpx;\n  padding: 6rpx 12rpx;\n  border-radius: 6rpx;\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n  font-weight: 500;\n}\n\n.projects__detail-actions {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n}\n\n\n\n/* 按钮样式 */\n.projects__button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8rpx;\n  padding: 0 20rpx;\n  height: 64rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  font-weight: 500;\n  border: none;\n  transition: all 0.3s ease;\n  white-space: nowrap;\n}\n\n.projects__button:active {\n  transform: translateY(2rpx);\n}\n\n.projects__button--primary {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: #ffffff;\n  box-shadow: 0 4rpx 16rpx rgba(59, 130, 246, 0.3);\n}\n\n.projects__button--primary:active {\n  box-shadow: 0 2rpx 8rpx rgba(59, 130, 246, 0.4);\n}\n\n.projects__button--primary:disabled {\n  background: #cbd5e1;\n  box-shadow: none;\n  transform: none;\n}\n\n.projects__button--secondary {\n  background: transparent;\n  color: #3b82f6;\n  border: 2rpx solid #3b82f6;\n}\n\n.projects__button--secondary:active {\n  background: rgba(59, 130, 246, 0.1);\n}\n\n.projects__button--outline {\n  background: transparent;\n  color: #64748b;\n  border: 2rpx solid #e2e8f0;\n}\n\n.projects__button--outline:active {\n  background: #f8fafc;\n}\n\n.projects__button--outline:disabled {\n  color: #cbd5e1;\n  border-color: #cbd5e1;\n  transform: none;\n}\n\n/* 项目列表样式 */\n.projects__scroll {\n  flex: 1;\n}\n\n.projects__item {\n  display: flex;\n  align-items: flex-start;\n  gap: 16rpx;\n  padding: 24rpx;\n  border-radius: 16rpx;\n  background: #f8fafc;\n  border: 2rpx solid transparent;\n  margin-bottom: 16rpx;\n  transition: all 0.3s ease;\n  position: relative;\r\n  margin-top: 10rpx;\n}\n\n.projects__item:active {\n  transform: translateY(2rpx);\n  background: #f1f5f9;\n}\n\n.projects__item--active {\n  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(59, 130, 246, 0.04));\n  border-color: #3b82f6;\n  box-shadow: 0 4rpx 16rpx rgba(59, 130, 246, 0.12);\n}\n\n.projects__item--delayed {\n  border-left: 4rpx solid #ef4444;\n}\n\n.projects__item-icon {\n  width: 40rpx;\n  height: 40rpx;\n  border-radius: 8rpx;\n  background: rgba(59, 130, 246, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  margin-top: 4rpx;\n}\n\n.projects__item--active .projects__item-icon {\n  background: rgba(59, 130, 246, 0.2);\n}\n\n.projects__item-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n}\n\n.projects__item-header {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 8rpx;\n}\n\n.projects__item-name {\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #0f172a;\n  line-height: 1.3;\n  flex: 1;\n}\n\n.projects__item-badge {\n  font-size: 20rpx;\n  padding: 6rpx 12rpx;\n  border-radius: 6rpx;\n  font-weight: 500;\n  white-space: nowrap;\n}\n\n.projects__item-badge--planning {\n  background: rgba(100, 116, 139, 0.1);\n  color: #64748b;\n}\n\n.projects__item-badge--in-progress {\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n}\n\n.projects__item-badge--completed {\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n}\n\n.projects__item-badge--delayed {\n  background: rgba(239, 68, 68, 0.1);\n  color: #dc2626;\n}\n\n.projects__item-desc {\n  font-size: 24rpx;\n  color: #64748b;\n  line-height: 1.4;\n}\n\n/* 进度条样式 */\n.projects__progress {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n}\n\n.projects__progress-info {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.projects__progress-text {\n  font-size: 22rpx;\n  color: #64748b;\n}\n\n.projects__progress-percent {\n  font-size: 22rpx;\n  color: #0f172a;\n  font-weight: 600;\n}\n\n.projects__progress-bar {\n  height: 8rpx;\n  background: #e2e8f0;\n  border-radius: 4rpx;\n  overflow: hidden;\n}\n\n.projects__progress-fill {\n  height: 100%;\n  border-radius: 4rpx;\n  transition: width 0.3s ease;\n}\n\n.projects__progress-fill--planning {\n  background: #64748b;\n}\n\n.projects__progress-fill--in-progress {\n  background: #3b82f6;\n}\n\n.projects__progress-fill--completed {\n  background: #10b981;\n}\n\n.projects__progress-fill--delayed {\n  background: #ef4444;\n}\n\n.projects__item-meta {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n}\n\n.projects__item-meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4rpx;\n}\n\n.projects__item-meta-text {\n  font-size: 22rpx;\n  color: #94a3b8;\n}\n\n.projects__item-actions {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.projects__item:active .projects__item-actions {\n  opacity: 1;\n}\n\n.projects__item-action {\n  padding: 8rpx;\n  border-radius: 6rpx;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.projects__item-action:active {\n  background: #f1f5f9;\n}\n\n/* 详情内容样式 */\n.projects__detail-scroll {\n  flex: 1;\n}\n\n.projects__detail-content {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n}\n\n.projects__section {\n  background: #f8fafc;\n  border-radius: 12rpx;\n  padding: 20rpx;\n  border: 1rpx solid #e2e8f0;\n}\n\n.projects__section-header {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  margin-bottom: 16rpx;\n}\n\n.projects__section-title {\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.projects__section-count {\n  font-size: 22rpx;\n  color: #64748b;\n  margin-left: auto;\n}\n\n/* 项目概览网格 */\n.projects__overview-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250rpx, 1fr));\n  gap: 16rpx;\n  margin-bottom: 16rpx;\n}\n\n.projects__overview-item {\n  display: flex;\n  flex-direction: column;\n  gap: 4rpx;\n}\n\n.projects__overview-label {\n  font-size: 24rpx;\n  color: #64748b;\n  font-weight: 500;\n}\n\n.projects__overview-value {\n  font-size: 26rpx;\n  color: #0f172a;\n  font-weight: 600;\n}\n\n.projects__overview-desc {\n  font-size: 24rpx;\n  color: #64748b;\n  line-height: 1.5;\n}\n\n/* 进度详情 */\n.projects__progress-detail {\n  display: flex;\n  align-items: center;\n  gap: 32rpx;\n}\n\n.projects__progress-visual {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.projects__progress-circle {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 50%;\n  background: conic-gradient(#3b82f6 0% var(--progress), #e2e8f0 var(--progress) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.projects__progress-circle::before {\n  content: '';\n  position: absolute;\n  width: 100rpx;\n  height: 100rpx;\n  background: #ffffff;\n  border-radius: 50%;\n}\n\n.projects__progress-circle-text {\n  font-size: 24rpx;\n  font-weight: 700;\n  color: #0f172a;\n  position: relative;\n  z-index: 1;\n}\n\n.projects__progress-stats {\n  flex: 1;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16rpx;\n}\n\n.projects__progress-stat {\n  display: flex;\n  flex-direction: column;\n  gap: 4rpx;\n}\n\n.projects__progress-stat-label {\n  font-size: 22rpx;\n  color: #64748b;\n}\n\n.projects__progress-stat-value {\n  font-size: 28rpx;\n  font-weight: 700;\n  color: #0f172a;\n}\n\n/* 任务列表 */\n.projects__tasks-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n}\n\n.projects__task-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12rpx;\n  padding: 16rpx;\n  background: #ffffff;\n  border-radius: 8rpx;\n  border: 1rpx solid #e2e8f0;\n  transition: all 0.2s ease;\n}\n\n.projects__task-item:active {\n  background: #f1f5f9;\n}\n\n.projects__task-item--completed {\n  opacity: 0.7;\n}\n\n.projects__task-checkbox {\n  padding: 4rpx;\n  border-radius: 6rpx;\n  transition: all 0.2s ease;\n  margin-top: 4rpx;\n}\n\n.projects__task-checkbox:active {\n  background: #f1f5f9;\n}\n\n.projects__task-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 6rpx;\n}\n\n.projects__task-header {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 8rpx;\n}\n\n.projects__task-title {\n  font-size: 26rpx;\n  font-weight: 600;\n  color: #0f172a;\n  flex: 1;\n  text-decoration: var(--text-decoration, none);\n}\n\n.projects__task-item--completed .projects__task-title {\n  --text-decoration: line-through;\n  color: #94a3b8;\n}\n\n.projects__task-badge {\n  font-size: 20rpx;\n  padding: 4rpx 8rpx;\n  border-radius: 4rpx;\n  font-weight: 500;\n  white-space: nowrap;\n}\n\n.projects__task-badge--low {\n  background: rgba(16, 185, 129, 0.1);\n  color: #059669;\n}\n\n.projects__task-badge--medium {\n  background: rgba(245, 158, 11, 0.1);\n  color: #d97706;\n}\n\n.projects__task-badge--high {\n  background: rgba(239, 68, 68, 0.1);\n  color: #dc2626;\n}\n\n.projects__task-desc {\n  font-size: 24rpx;\n  color: #64748b;\n  line-height: 1.4;\n}\n\n.projects__task-item--completed .projects__task-desc {\n  color: #cbd5e1;\n}\n\n.projects__task-meta {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n}\n\n.projects__task-meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4rpx;\n}\n\n.projects__task-meta-text {\n  font-size: 22rpx;\n  color: #94a3b8;\n}\n\n.projects__task-actions {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.projects__task-item:active .projects__task-actions {\n  opacity: 1;\n}\n\n.projects__task-action {\n  padding: 8rpx;\n  border-radius: 6rpx;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.projects__task-action:active {\n  background: #f1f5f9;\n}\n\n/* 文档列表 */\n.projects__documents-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12rpx;\n}\n\n.projects__document-item {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  padding: 16rpx;\n  background: #ffffff;\n  border-radius: 8rpx;\n  border: 1rpx solid #e2e8f0;\n  transition: all 0.2s ease;\n}\n\n.projects__document-item:active {\n  background: #f1f5f9;\n}\n\n.projects__document-icon {\n  width: 40rpx;\n  height: 40rpx;\n  border-radius: 6rpx;\n  background: rgba(59, 130, 246, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.projects__document-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 4rpx;\n}\n\n.projects__document-name {\n  font-size: 26rpx;\n  color: #0f172a;\n  font-weight: 500;\n}\n\n.projects__document-meta {\n  font-size: 22rpx;\n  color: #94a3b8;\n}\n\n.projects__document-actions {\n  display: flex;\n  align-items: center;\n  gap: 8rpx;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.projects__document-item:active .projects__document-actions {\n  opacity: 1;\n}\n\n.projects__document-action {\n  padding: 8rpx;\n  border-radius: 6rpx;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.projects__document-action:active {\n  background: #f1f5f9;\n}\n\n/* 空状态样式 */\n.projects__empty,\n.projects__empty-detail,\n.projects__empty-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 16rpx;\n  padding: 80rpx 32rpx;\n  color: #cbd5e1;\n  text-align: center;\n}\n\n.projects__empty-section {\n  padding: 40rpx 32rpx;\n}\n\n.projects__empty-text {\n  font-size: 28rpx;\n  color: #64748b;\n  font-weight: 600;\n}\n\n.projects__empty-subtext {\n  font-size: 24rpx;\n  color: #94a3b8;\n  line-height: 1.4;\n}\n\n.projects__empty-section-text {\n  font-size: 24rpx;\n  color: #94a3b8;\n}\n\n/* 新增模态框样式 */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(15, 23, 42, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 32rpx;\n}\n\n.modal-container {\n  background: #ffffff;\n  border-radius: 20rpx;\n  width: 100%;\n  max-width: 1000rpx;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 20rpx 60rpx rgba(15, 23, 42, 0.2);\n  animation: modalSlideIn 0.3s ease;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-40rpx) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 32rpx 32rpx 0;\n  margin-bottom: 24rpx;\n}\n\n.modal-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #0f172a;\n}\n\n.modal-content {\n  padding: 0 32rpx;\n  max-height: 60vh;\n  overflow-y: auto;\n}\n\n.form-group {\n  margin-bottom: 24rpx;\n}\n\n.form-label {\n  display: block;\n  font-size: 26rpx;\n  font-weight: 500;\n  color: #0f172a;\n  margin-bottom: 8rpx;\n}\n\n.form-input {\n  width: 95%;\n  height: 80rpx;\n  padding: 0 20rpx;\n  border: 2rpx solid #e2e8f0;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  color: #0f172a;\n  background: #ffffff;\n  transition: all 0.2s ease;\n}\n\n.form-input:focus {\n  border-color: #3b82f6;\n  outline: none;\n}\n\n.form-textarea {\n  width: 95%;\n  min-height: 160rpx;\n  padding: 20rpx;\n  border: 2rpx solid #e2e8f0;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  color: #0f172a;\n  background: #ffffff;\n  transition: all 0.2s ease;\n  resize: none;\n}\n\n.form-textarea:focus {\n  border-color: #3b82f6;\n  outline: none;\n}\n\n.upload-area {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 80rpx 32rpx;\n  border: 2rpx dashed #cbd5e1;\n  border-radius: 12rpx;\n  background: #f8fafc;\n  transition: all 0.3s ease;\n  text-align: center;\n}\n\n.upload-area:active {\n  border-color: #3b82f6;\n  background: rgba(59, 130, 246, 0.05);\n}\n\n.upload-text {\n  font-size: 28rpx;\n  color: #0f172a;\n  font-weight: 500;\n  margin-top: 16rpx;\n}\n\n.upload-subtext {\n  font-size: 24rpx;\n  color: #64748b;\n  margin-top: 8rpx;\n}\n\n.selected-file {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  padding: 20rpx;\n  background: #f1f5f9;\n  border-radius: 12rpx;\n  margin-top: 16rpx;\n}\n\n.file-name {\n  flex: 1;\n  font-size: 26rpx;\n  color: #0f172a;\n  font-weight: 500;\n}\n\n.file-size {\n  font-size: 22rpx;\n  color: #64748b;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 16rpx;\n  padding: 24rpx 32rpx;\n  border-top: 1rpx solid #e2e8f0;\n  margin-top: 24rpx;\n}\n\n.modal-button {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 12rpx;\n  font-size: 26rpx;\n  font-weight: 500;\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.modal-button--cancel {\n  background: transparent;\n  color: #64748b;\n  border: 2rpx solid #e2e8f0;\n}\n\n.modal-button--cancel:active {\n  background: #f8fafc;\n}\n\n.modal-button--confirm {\n  background: linear-gradient(135deg, #3b82f6, #2563eb);\n  color: #ffffff;\n  box-shadow: 0 4rpx 16rpx rgba(59, 130, 246, 0.3);\n}\n\n.modal-button--confirm:active {\n  box-shadow: 0 2rpx 8rpx rgba(59, 130, 246, 0.4);\n  transform: translateY(2rpx);\n}\n\n.modal-button--confirm:disabled {\n  background: #cbd5e1;\n  box-shadow: none;\n  transform: none;\n}\n\n/* 响应式设计 */\n@media (max-width: 1023px) {\n  .projects {\n    padding: 24rpx;\n    gap: 24rpx;\n  }\n  \n  .projects__content {\n    flex-direction: column;\n  }\n  \n  .projects__list-panel {\n    width: 93%;\n    min-width: auto;\n  }\n  \n  .projects__header {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 16rpx;\n  }\n  \n  .projects__header-actions {\n    justify-content: flex-start;\n  }\n  \n  \n  .projects__panel-header {\n    // flex-direction: column;\n    align-items: stretch;\n    gap: 16rpx;\n  }\n  \n  .projects__detail-actions {\n    justify-content: flex-start;\n  }\n  \n  .projects__progress-detail {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 24rpx;\n  }\n  \n  .projects__progress-stats {\n    grid-template-columns: repeat(4, 1fr);\n  }\n}\n\n@media (max-width: 768px) {\n  .projects__header-actions {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .projects__overview-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .projects__progress-stats {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  \n  \n}\n\n/* 桌面端悬停效果 */\n@media (min-width: 768px) {\n  .projects__item:hover {\n    transform: translateY(-2rpx);\n    box-shadow: 0 8rpx 24rpx rgba(15, 23, 42, 0.12);\n  }\n  \n  .projects__item:hover .projects__item-actions {\n    opacity: 1;\n  }\n  \n  .projects__task-item:hover {\n    background: #f1f5f9;\n    transform: translateY(-1rpx);\n  }\n  \n  .projects__task-item:hover .projects__task-actions {\n    opacity: 1;\n  }\n  \n  .projects__document-item:hover {\n    background: #f1f5f9;\n    transform: translateY(-1rpx);\n  }\n  \n  .projects__document-item:hover .projects__document-actions {\n    opacity: 1;\n  }\n  \n  .projects__button--primary:hover {\n    box-shadow: 0 6rpx 20rpx rgba(59, 130, 246, 0.4);\n  }\n  \n  .projects__button--secondary:hover {\n    background: rgba(59, 130, 246, 0.1);\n  }\n  \n  .projects__button--outline:hover {\n    background: #f8fafc;\n  }\n  \n  .projects__filter-tab:hover {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  \n  .projects__item-action:hover {\n    background: #f1f5f9;\n  }\n  \n  .projects__task-action:hover {\n    background: #f1f5f9;\n  }\n  \n  .projects__document-action:hover {\n    background: #f1f5f9;\n  }\n}\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/project/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","ref","computed","uni"],"mappings":"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"}