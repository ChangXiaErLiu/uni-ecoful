{"version":3,"file":"index.js","sources":["pages/project/index.vue","../../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvamVjdC9pbmRleC52dWU"],"sourcesContent":["<template>\r\n\t<AppLayout current=\"pages/projects/index\">\r\n\t\t<view class=\"projects\">\r\n\t\t\t<!-- 页面头部 -->\r\n\t\t\t<view class=\"projects__header\">\r\n\t\t\t\t<view class=\"projects__title-section\">\r\n\t\t\t\t\t<text class=\"projects__title\">项目管理</text>\r\n\t\t\t\t\t<text class=\"projects__subtitle\">统筹环保项目执行，确保按时高质量完成</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 主要内容区域 -->\r\n\t\t\t<view class=\"projects__content\">\r\n\t\t\t\t<!-- 左侧项目列表 -->\r\n\t\t\t\t<view class=\"projects__list-panel\">\r\n\t\t\t\t\t<view class=\"projects__panel-header\">\r\n\t\t\t\t\t\t<text class=\"projects__panel-title\">项目列表</text>\r\n\t\t\t\t\t\t<button class=\"projects__button projects__button--primary\" @tap=\"addProject\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t<text>新建项目</text>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<scroll-view class=\"projects__scroll\"> <!-- scroll-y -->\r\n\t\t\t\t\t\t<view v-for=\"project in filteredProjects\" :key=\"project.id\" class=\"projects__item\" :class=\"{ \r\n\t\t\t\t\t\t\t'projects__item--active': project.id === activeProjectId\r\n\t\t\t\t\t\t\t}\" @tap=\"() => switchProject(project.id)\">\r\n\t\t\t\t\t\t\t<view class=\"projects__item-icon\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"list\" size=\"20\" color=\"#43A761\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"projects__item-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"projects__item-header\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"projects__item-name\">{{ project.name }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"projects__item-desc\">{{ project.description }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"projects__item-desc\">{{ project.notes }}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"projects__item-meta\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"projects__item-meta-item\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"person\" size=\"14\" color=\"#94a3b8\" />\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"projects__item-meta-text\">{{ project.owner.username }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"projects__item-meta-item\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"14\" color=\"#94a3b8\" />\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"projects__item-meta-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ project.created_at.slice(0, 10) }}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"projects__item-actions\">\r\n\t\t\t\t\t\t\t\t<!-- 编辑按钮 -->\r\n\t\t\t\t\t\t\t\t<view class=\"projects__item-action\" @tap.stop=\"() => editProject(project.id)\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"compose\" size=\"16\" color=\"#64748b\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 删除按钮 -->\r\n\t\t\t\t\t\t\t\t<view class=\"projects__item-action\" @tap.stop=\"() => delProject(project.id)\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 空状态 -->\r\n\t\t\t\t\t\t<view v-if=\"filteredProjects.length === 0\" class=\"projects__empty\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"folder\" size=\"60\" color=\"#cbd5e1\" />\r\n\t\t\t\t\t\t\t<text class=\"projects__empty-text\">暂无项目</text>\r\n\t\t\t\t\t\t\t<text class=\"projects__empty-subtext\">点击上方按钮创建第一个项目</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 右侧项目详情 -->\r\n\t\t\t\t<view class=\"projects__detail-panel\">\r\n\t\t\t\t\t<view class=\"projects__panel-header\">\r\n\t\t\t\t\t\t<view class=\"projects__detail-header\">\r\n\t\t\t\t\t\t\t<text class=\"projects__panel-title\">文档列表</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"projects__detail-actions\">\r\n\t\t\t\t\t\t\t<button class=\"projects__button projects__button--primary\" @tap=\"uploadFile\"\r\n\t\t\t\t\t\t\t\t:disabled=\"!activeProject\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"cloud-upload\" size=\"16\" color=\"#ffffff\" />\r\n\t\t\t\t\t\t\t\t<text>上传项目文件</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<scroll-view scroll-y class=\"projects__detail-scroll\">\r\n\t\t\t\t\t\t<view v-if=\"activeProject\" class=\"projects__detail-content\">\r\n\t\t\t\t\t\t\t<!-- 项目文档 -->\r\n\t\t\t\t\t\t\t<view class=\"projects__section\">\r\n\t\t\t\t\t\t\t\t<view class=\"projects__section-header\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"document\" size=\"18\" color=\"#8b5cf6\" />\r\n\t\t\t\t\t\t\t\t\t<text class=\"projects__section-title\">项目文档</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"projects__section-count\">{{ activeProject.documents?.length || 0 }}\r\n\t\t\t\t\t\t\t\t\t\t个文档</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"activeProject.documents && activeProject.documents.length > 0\"\r\n\t\t\t\t\t\t\t\t\tclass=\"projects__documents-list\">\r\n\t\t\t\t\t\t\t\t\t<view v-for=\"document in activeProject.documents\" :key=\"document.id\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"projects__document-item\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"projects__document-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image :src=\"getDocumentIcon(document.file_extension)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"width:20px;height:20px;\" />\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"projects__document-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"projects__document-name\">{{ document.filename }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"projects__document-meta\">{{ fmtSize(document.size_bytes) }} ·\r\n\t\t\t\t\t\t\t\t\t\t\t\t上传时间: {{ document.updated_at.slice(0, 10) }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"projects__document-actions\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 下载按钮 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"projects__document-action\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"() => downloadDocument(document)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"download\" size=\"16\" color=\"#64748b\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 删除按钮 -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"projects__document-action\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"() => deleteDocument(document.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"16\" color=\"#ef4444\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 空项目状态 -->\r\n\t\t\t\t\t\t\t\t<view v-else class=\"projects__empty-section\">\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"document\" size=\"32\" color=\"#cbd5e1\" />\r\n\t\t\t\t\t\t\t\t\t<text class=\"projects__empty-section-text\">暂无文档</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 未选择项目状态 -->\r\n\t\t\t\t\t\t<view v-else class=\"projects__empty-detail\">\r\n\t\t\t\t\t\t\t<uni-icons type=\"folder\" size=\"60\" color=\"#cbd5e1\" />\r\n\t\t\t\t\t\t\t<text class=\"projects__empty-text\">请选择项目</text>\r\n\t\t\t\t\t\t\t<text class=\"projects__empty-subtext\">点击对应项目查看详情</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 新增项目模态框 -->\r\n\t\t<view v-if=\"showAddProjectModal\" class=\"modal-overlay\">\r\n\t\t\t<view class=\"modal-container\">\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<text class=\"modal-title\">新建项目</text>\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"30\" color=\"#64748b\" @tap=\"closeAddProjectModal\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"modal-content\">\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目名称</text>\r\n\t\t\t\t\t\t<input v-model=\"newProjectForm.name\" class=\"form-input\" placeholder=\"请输入项目名称\" type=\"text\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目背景</text>\r\n\t\t\t\t\t\t<textarea v-model=\"newProjectForm.description\" class=\"form-textarea\" placeholder=\"请输入项目背景\"\r\n\t\t\t\t\t\t\tmaxlength=\"1000\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目备注</text>\r\n\t\t\t\t\t\t<textarea v-model=\"newProjectForm.notes\" class=\"form-textarea\" placeholder=\"请输入项目项目备注\"\r\n\t\t\t\t\t\t\tmaxlength=\"1000\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目成员</text>\r\n\t\t\t\t\t\t<input v-model=\"newProjectForm.name\" class=\"form-input\" placeholder=\"请输入项目名称\" type=\"text\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"modal-actions\">\r\n\t\t\t\t\t<button class=\"modal-button modal-button--cancel\" @tap=\"closeAddProjectModal\">取消</button>\r\n\t\t\t\t\t<button class=\"modal-button modal-button--confirm\" @tap=\"confirmAddProject\">确认</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 编辑项目模态框 -->\r\n\t\t<view v-if=\"showEditProjectModal\" class=\"modal-overlay\">\r\n\t\t\t<view class=\"modal-container\">\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<text class=\"modal-title\">编辑项目</text>\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"30\" color=\"#64748b\" @tap=\"closeEditProjectModal\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"modal-content\">\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目名称</text>\r\n\t\t\t\t\t\t<input v-model=\"editProjectForm.name\" class=\"form-input\" placeholder=\"请输入项目名称\" type=\"text\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目背景</text>\r\n\t\t\t\t\t\t<textarea v-model=\"editProjectForm.description\" class=\"form-textarea\" placeholder=\"请输入项目项目背景\"\r\n\t\t\t\t\t\t\tmaxlength=\"200\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">项目备注</text>\r\n\t\t\t\t\t\t<textarea v-model=\"editProjectForm.notes\" class=\"form-textarea\" placeholder=\"请输入项目项目备注\"\r\n\t\t\t\t\t\t\tmaxlength=\"500\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"modal-actions\">\r\n\t\t\t\t\t<button class=\"modal-button modal-button--cancel\" @tap=\"closeEditProjectModal\">取消</button>\r\n\t\t\t\t\t<button class=\"modal-button modal-button--confirm\" @tap=\"confirmEditProject\">确认</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 文件上传模态框 -->\r\n\t\t<view v-if=\"showUploadModal\" class=\"modal-overlay\">\r\n\t\t\t<view class=\"modal-container\">\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<text class=\"modal-title\">上传文件</text>\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"30\" color=\"#64748b\" @tap=\"closeUploadModal\" />\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-content\">\r\n\t\t\t\t\t<!-- 选文件 -->\r\n\t\t\t\t\t<view class=\"upload-area\" @tap=\"chooseFile\">\r\n\t\t\t\t\t\t<uni-icons type=\"cloud-upload\" size=\"48\" color=\"#3b82f6\" />\r\n\t\t\t\t\t\t<text class=\"upload-text\">点击选择文件</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 选图片 -->\r\n\t\t\t\t\t<view class=\"upload-area\" @tap=\"chooseImage\" style=\"margin-top: 20rpx;\">\r\n\t\t\t\t\t\t<uni-icons type=\"image\" size=\"48\" color=\"#10b981\" />\r\n\t\t\t\t\t\t<text class=\"upload-text\">点击选择图片</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<text class=\"upload-subtext\">支持图片、文档等格式，最大 500 MB</text>\r\n\r\n\t\t\t\t\t<!-- 已选文件 -->\r\n\t\t\t\t\t<view v-if=\"selectedFile\" class=\"selected-file\">\r\n\t\t\t\t\t\t<uni-icons type=\"document\" size=\"20\" color=\"#3b82f6\" />\r\n\t\t\t\t\t\t<text class=\"file-name\">{{ selectedFile.name }}</text>\r\n\t\t\t\t\t\t<text class=\"file-size\">{{ fmtSize(selectedFile.size) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-actions\">\r\n\t\t\t\t\t<button class=\"modal-button modal-button--cancel\" @tap=\"closeUploadModal\">取消</button>\r\n\t\t\t\t\t<button class=\"modal-button modal-button--confirm\" @tap=\"confirmUpload\"\r\n\t\t\t\t\t\t:disabled=\"!selectedFile\">上传</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</AppLayout>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\treactive,\r\n\t\tonMounted,\r\n\t\tcomputed\r\n\t} from 'vue'\r\n\timport AppLayout from '@/components/layout/AppLayout.vue'\r\n\r\n\timport {\r\n\t\tonShow\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tnavTitleStore\r\n\t} from '@/stores/navTitle.js'\r\n\timport {\r\n\t\tcreateProjects,\r\n\t\tgetProjects,\r\n\t\tgetProjectDetail,\r\n\t\tupdateProject,\r\n\t\tdeleteProject,\r\n\t\tgetProjectDocuments,\r\n\t\tpickProjectFile,\r\n\t\tpickProjectImage,\r\n\t\tuploadProjectFile,\r\n\t\tdownloadProjectFile,\r\n\t\tremoveProjectFile\r\n\t} from '@/api/project.js'\r\n\r\n\t// 设置头部导航栏title\r\n\tconst navTitle = navTitleStore()\r\n\tonShow(() => navTitle.setTitle('项目管理'))\r\n\r\n\r\n\t// 数据状态\r\n\tconst projects = ref([])\r\n\tconst activeProjectId = ref(null)\r\n\tconst activeProject = ref(null)\r\n\tconst documents = ref([])\r\n\r\n\t// 模态框状态\r\n\tconst showAddProjectModal = ref(false) // 增加项目\r\n\tconst showEditProjectModal = ref(false) // 修改项目\r\n\tconst showUploadModal = ref(false) // 文件上传\r\n\r\n\t// 表单数据\r\n\tconst newProjectForm = reactive({\r\n\t\tname: '',\r\n\t\tdescription: '',\r\n\t\tnotes: '',\r\n\t\tmember_ids: []\r\n\t})\r\n\r\n\tconst editProjectForm = reactive({\r\n\t\tid: null,\r\n\t\tname: '',\r\n\t\tdescription: '',\r\n\t\tnotes: '',\r\n\t\tmember_ids: []\r\n\t})\r\n\r\n\t// 文件上传相关\r\n\tconst selectedFile = ref(null)\r\n\tconst uploadProgress = ref(0)\r\n\r\n\t// 计算属性：过滤项目列表\r\n\tconst filteredProjects = computed(() => {\r\n\t\treturn projects.value.filter(project => !project.is_deleted)\r\n\t})\r\n\r\n\t// 初始化加载数据\r\n\tconst loadProjects = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await getProjects()\r\n\t\t\tprojects.value = response\r\n\t\t\t// console.log(\"项目：\", response)\r\n\r\n\t\t\t// 如果有项目，默认选中第一个\r\n\t\t\tif (response.length > 0 && !activeProjectId.value) {\r\n\t\t\t\tawait switchProject(response[0].id)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('加载项目列表失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '加载项目列表失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 加载项目详情\r\n\tconst loadProjectDetail = async (projectId) => {\r\n\t\ttry {\r\n\t\t\tconst response = await getProjectDetail(projectId)\r\n\t\t\tactiveProject.value = response\r\n\r\n\t\t\t// 加载项目文档\r\n\t\t\tawait loadProjectDocuments(projectId)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('加载项目详情失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '加载项目详情失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 加载项目文档\r\n\tconst loadProjectDocuments = async (projectId) => {\r\n\t\ttry {\r\n\t\t\tconst response = await getProjectDocuments(projectId)\r\n\t\t\tdocuments.value = response.documents || []\r\n\r\n\t\t\t// 将文档数据添加到项目对象中\r\n\t\t\tif (activeProject.value) {\r\n\t\t\t\tactiveProject.value.documents = documents.value\r\n\t\t\t\t// console.log(\"文档：\", documents.value)\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('加载项目文档失败:', error)\r\n\t\t}\r\n\t}\r\n\r\n\t// 切换项目\r\n\tconst switchProject = async (projectId) => {\r\n\t\tactiveProjectId.value = projectId\r\n\t\tawait loadProjectDetail(projectId)\r\n\t}\r\n\r\n\t// 新增项目\r\n\tconst addProject = () => {\r\n\t\t// 重置表单\r\n\t\tObject.assign(newProjectForm, {\r\n\t\t\tname: '',\r\n\t\t\tdescription: '',\r\n\t\t\tnotes: '',\r\n\t\t\tmember_ids: []\r\n\t\t})\r\n\t\tshowAddProjectModal.value = true\r\n\t}\r\n\r\n\t// 确认新建项目\r\n\tconst confirmAddProject = async () => {\r\n\t\ttry {\r\n\t\t\t// 表单验证\r\n\t\t\tif (!newProjectForm.name.trim()) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入项目名称',\r\n\t\t\t\t\ticon: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst projectData = {\r\n\t\t\t\tname: newProjectForm.name.trim(),\r\n\t\t\t\tdescription: newProjectForm.description.trim(),\r\n\t\t\t\tnotes: newProjectForm.notes.trim(),\r\n\t\t\t\tmember_ids: newProjectForm.member_ids\r\n\t\t\t}\r\n\r\n\t\t\t// 调用创建项目接口\r\n\t\t\tconst response = await createProjects(projectData)\r\n\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '项目创建成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\r\n\t\t\t// 关闭模态框并刷新列表\r\n\t\t\tcloseAddProjectModal()\r\n\t\t\tawait loadProjects()\r\n\r\n\t\t\t// 切换到新创建的项目\r\n\t\t\tawait switchProject(response.id)\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('创建项目失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '创建项目失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 关闭新建项目窗口\r\n\tconst closeAddProjectModal = () => {\r\n\t\tshowAddProjectModal.value = false\r\n\t}\r\n\r\n\t// 编辑项目\r\n\tconst editProject = async (projectId) => {\r\n\t\ttry {\r\n\t\t\tconst project = projects.value.find(p => p.id === projectId)\r\n\t\t\tif (!project) return\r\n\r\n\t\t\tObject.assign(editProjectForm, {\r\n\t\t\t\tid: project.id,\r\n\t\t\t\tname: project.name,\r\n\t\t\t\tdescription: project.description || '',\r\n\t\t\t\tnotes: project.notes || '',\r\n\t\t\t\tmember_ids: []\r\n\t\t\t})\r\n\r\n\t\t\tshowEditProjectModal.value = true\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('编辑项目失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '编辑项目失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 确认编辑项目\r\n\tconst confirmEditProject = async () => {\r\n\t\ttry {\r\n\t\t\tif (!editProjectForm.name.trim()) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请输入项目名称',\r\n\t\t\t\t\ticon: 'error'\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst updateData = {\r\n\t\t\t\tname: editProjectForm.name.trim(),\r\n\t\t\t\tdescription: editProjectForm.description.trim(),\r\n\t\t\t\tnotes: editProjectForm.notes.trim()\r\n\t\t\t}\r\n\r\n\t\t\t// 调用更新项目接口\r\n\t\t\tawait updateProject(editProjectForm.id, updateData)\r\n\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '项目更新成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\r\n\t\t\t// 关闭模态框并刷新数据\r\n\t\t\tcloseEditProjectModal()\r\n\t\t\tawait loadProjects()\r\n\t\t\tawait loadProjectDetail(editProjectForm.id)\r\n\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('更新项目失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '更新项目失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 关闭编辑项目窗口\r\n\tconst closeEditProjectModal = () => {\r\n\t\tshowEditProjectModal.value = false\r\n\t}\r\n\r\n\t// 删除项目\r\n\tconst delProject = async (projectId) => {\r\n\t\ttry {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '确认删除',\r\n\t\t\t\tcontent: '确定要删除这个项目吗？删除后30天内可以恢复。',\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tawait deleteProject(projectId)\r\n\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '项目删除成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t// 重新加载项目列表\r\n\t\t\t\t\t\tawait loadProjects()\r\n\r\n\t\t\t\t\t\t// 如果删除的是当前选中的项目，清空选中状态\r\n\t\t\t\t\t\tif (activeProjectId.value === projectId) {\r\n\t\t\t\t\t\t\tactiveProjectId.value = null\r\n\t\t\t\t\t\t\tactiveProject.value = null\r\n\t\t\t\t\t\t\tdocuments.value = []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('删除项目失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '删除项目失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 文件上传相关\r\n\tconst uploadFile = () => {\r\n\t\tif (!activeProjectId.value) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请先选择项目',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\tselectedFile.value = null\r\n\t\tuploadProgress.value = 0\r\n\t\tshowUploadModal.value = true\r\n\t}\r\n\r\n\t// 获取文件扩展名\r\n\tconst getFileExtension = (filename) => {\r\n\t\tif (!filename) return ''\r\n\t\tconst parts = filename.split('.')\r\n\t\treturn parts.length > 1 ? '.' + parts.pop().toLowerCase() : ''\r\n\t}\r\n\r\n\t// 选择文件\r\n\tconst chooseFile = () => {\r\n\t\tpickProjectFile()\r\n\t\t\t.then(file => {\r\n\t\t\t\tif (file) selectedFile.value = file\r\n\t\t\t})\r\n\t\t\t.catch(() => {})\r\n\t}\r\n\r\n\t// 选图片\r\n\tconst chooseImage = () => {\r\n\t\tpickProjectImage().then(file => {\r\n\t\t\tif (file) selectedFile.value = file\r\n\t\t}).catch(() => {})\r\n\t}\r\n\r\n\t// 确认上传文件\r\n\tconst confirmUpload = async () => {\r\n\t\tif (!selectedFile.value) return\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '上传中...',\r\n\t\t\tmask: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tawait uploadProjectFile(activeProjectId.value, selectedFile.value)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '上传成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\t\t\tcloseUploadModal()\r\n\t\t\tawait loadProjectDocuments(activeProjectId.value) // 刷新列表\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: e.message || '上传失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tuni.hideLoading()\r\n\t\t}\r\n\t}\r\n\r\n\t// 关闭上传窗口\r\n\tconst closeUploadModal = () => {\r\n\t\tshowUploadModal.value = false\r\n\t\tselectedFile.value = null\r\n\t\tuploadProgress.value = 0\r\n\t}\r\n\r\n\t// 下载项目文档\r\n\tconst downloadDocument = async (doc) => {\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '准备下载...',\r\n\t\t\tmask: true\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tconst blob = await downloadProjectFile(activeProjectId.value, doc.document_id)\r\n\t\t\t// 保存并打开（H5 示例，小程序用 uni.saveFile + uni.openDocument）\r\n\t\t\tconst url = URL.createObjectURL(blob)\r\n\t\t\tconst link = document.createElement('a')\r\n\t\t\tlink.href = url\r\n\t\t\tlink.download = doc.name\r\n\t\t\tlink.click()\r\n\t\t\tURL.revokeObjectURL(url)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '下载成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\t\t} catch (e) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '下载失败',\r\n\t\t\t\ticon: 'error'\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tuni.hideLoading()\r\n\t\t}\r\n\t}\r\n\r\n\t// 删除项目文档\r\n\tconst deleteDocument = async (documentId) => {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '确认删除',\r\n\t\t\tcontent: '删除后 30 天内可恢复',\r\n\t\t\tsuccess: async (res) => {\r\n\t\t\t\tif (!res.confirm) return\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait removeProjectFile(activeProjectId.value, documentId)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '已删除',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tawait loadProjectDocuments(activeProjectId.value)\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '删除失败',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 辅助函数\r\n\tconst getDocumentIcon = (ext) => {\r\n\t\tconst map = {\r\n\t\t\t'.pdf': '/static/fileType/pdf.png',\r\n\t\t\t'.doc': '/static/fileType/word.png',\r\n\t\t\t'.docx': '/static/fileType/word.png',\r\n\t\t\t'.xls': '/static/fileType/excel.png',\r\n\t\t\t'.xlsx': '/static/fileType/excel.png',\r\n\t\t\t'.png': '/static/fileType/picture.png',\r\n\t\t\t'.jpg': '/static/fileType/image.png',\r\n\t\t\t'.jpeg': '/static/fileType/image.png',\r\n\t\t\t'.md': '/static/fileType/md.png',\r\n\t\t\t'.txt': '/static/fileType/txt.png',\r\n\t\t}\r\n\t\treturn map[ext.toLowerCase()] || '/static/fileType/file.png'\r\n\t}\r\n\r\n\t// 比特 → B/KB/MB/GB\r\n\tconst fmtSize = b => {\r\n\t\tif (!b) return '0 B'\r\n\t\tconst k = 1024\r\n\t\tconst units = ['B', 'KB', 'MB', 'GB']\r\n\t\tlet i = 0\r\n\t\twhile (b >= k && i < units.length - 1) {\r\n\t\t\tb /= k;\r\n\t\t\ti++\r\n\t\t}\r\n\t\treturn `${b.toFixed(i ? 1 : 0)} ${units[i]}`\r\n\t}\r\n\r\n\r\n\t// 组件挂载时加载数据\r\n\tonMounted(() => {\r\n\t\tloadProjects()\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.projects {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 32rpx;\r\n\t\tmin-height: 100vh;\r\n\t\tpadding: 32rpx;\r\n\t\tbackground: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\r\n\t}\r\n\r\n\t.projects__header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 24rpx;\r\n\t}\r\n\r\n\t.projects__title-section {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 8rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.projects__title {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #0f172a;\r\n\t\tline-height: 1.2;\r\n\t}\r\n\r\n\t.projects__subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #64748b;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\r\n\t.projects__header-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\r\n\t/* 主要内容区域 */\r\n\t.projects__content {\r\n\t\tdisplay: flex;\r\n\t\tgap: 32rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t/* 面板通用样式 */\r\n\t.projects__list-panel {\r\n\t\twidth: 510rpx;\r\n\t\tmin-width: 400rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tbox-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.08);\r\n\t\tborder: 1rpx solid #f1f5f9;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.projects__detail-panel {\r\n\t\tflex: 1;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tbox-shadow: 0 4rpx 24rpx rgba(15, 23, 42, 0.08);\r\n\t\tborder: 1rpx solid #f1f5f9;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.projects__panel-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-start;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\r\n\t.projects__panel-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #0f172a;\r\n\t}\r\n\r\n\t.projects__detail-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.projects__detail-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\r\n\r\n\t/* 按钮样式 */\r\n\t.projects__button {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 8rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t\theight: 64rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tborder: none;\r\n\t\ttransition: all 0.3s ease;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.projects__button:active {\r\n\t\ttransform: translateY(2rpx);\r\n\t}\r\n\r\n\t.projects__button--primary {\r\n\t\tbackground: linear-gradient(135deg, #3b82f6, #2563eb);\r\n\t\tcolor: #ffffff;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(59, 130, 246, 0.3);\r\n\t}\r\n\r\n\t.projects__button--primary:active {\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(59, 130, 246, 0.4);\r\n\t}\r\n\r\n\t.projects__button--primary:disabled {\r\n\t\tbackground: #cbd5e1;\r\n\t\tbox-shadow: none;\r\n\t\ttransform: none;\r\n\t}\r\n\r\n\t.projects__button--secondary {\r\n\t\tbackground: transparent;\r\n\t\tcolor: #3b82f6;\r\n\t\tborder: 2rpx solid #3b82f6;\r\n\t}\r\n\r\n\t.projects__button--secondary:active {\r\n\t\tbackground: rgba(59, 130, 246, 0.1);\r\n\t}\r\n\r\n\t.projects__button--outline {\r\n\t\tbackground: transparent;\r\n\t\tcolor: #64748b;\r\n\t\tborder: 2rpx solid #e2e8f0;\r\n\t}\r\n\r\n\t.projects__button--outline:active {\r\n\t\tbackground: #f8fafc;\r\n\t}\r\n\r\n\t.projects__button--outline:disabled {\r\n\t\tcolor: #cbd5e1;\r\n\t\tborder-color: #cbd5e1;\r\n\t\ttransform: none;\r\n\t}\r\n\r\n\t/* 项目列表样式 */\r\n\t.projects__scroll {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.projects__item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbackground: #f8fafc;\r\n\t\tborder: 2rpx solid transparent;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\ttransition: all 0.3s ease;\r\n\t\tposition: relative;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.projects__item:active {\r\n\t\ttransform: translateY(2rpx);\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t.projects__item--active {\r\n\t\tbackground: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(59, 130, 246, 0.04));\r\n\t\tborder-color: #3b82f6;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(59, 130, 246, 0.12);\r\n\t}\r\n\r\n\t.projects__item--delayed {\r\n\t\tborder-left: 4rpx solid #ef4444;\r\n\t}\r\n\r\n\t.projects__item-icon {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tbackground: rgba(59, 130, 246, 0.1);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-shrink: 0;\r\n\t\tmargin-top: 4rpx;\r\n\t}\r\n\r\n\t.projects__item--active .projects__item-icon {\r\n\t\tbackground: rgba(59, 130, 246, 0.2);\r\n\t}\r\n\r\n\t.projects__item-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.projects__item-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: space-between;\r\n\t\tgap: 8rpx;\r\n\t}\r\n\r\n\t.projects__item-name {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #0f172a;\r\n\t\tline-height: 1.3;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.projects__item-badge {\r\n\t\tfont-size: 20rpx;\r\n\t\tpadding: 6rpx 12rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tfont-weight: 500;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.projects__item-badge--planning {\r\n\t\tbackground: rgba(100, 116, 139, 0.1);\r\n\t\tcolor: #64748b;\r\n\t}\r\n\r\n\t.projects__item-badge--in-progress {\r\n\t\tbackground: rgba(59, 130, 246, 0.1);\r\n\t\tcolor: #3b82f6;\r\n\t}\r\n\r\n\t.projects__item-badge--completed {\r\n\t\tbackground: rgba(16, 185, 129, 0.1);\r\n\t\tcolor: #059669;\r\n\t}\r\n\r\n\t.projects__item-badge--delayed {\r\n\t\tbackground: rgba(239, 68, 68, 0.1);\r\n\t\tcolor: #dc2626;\r\n\t}\r\n\r\n\t.projects__item-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #64748b;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\r\n\t/* 进度条样式 */\r\n\t.projects__progress {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 8rpx;\r\n\t}\r\n\r\n\t.projects__progress-info {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.projects__progress-text {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #64748b;\r\n\t}\r\n\r\n\t.projects__progress-percent {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.projects__progress-bar {\r\n\t\theight: 8rpx;\r\n\t\tbackground: #e2e8f0;\r\n\t\tborder-radius: 4rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.projects__progress-fill {\r\n\t\theight: 100%;\r\n\t\tborder-radius: 4rpx;\r\n\t\ttransition: width 0.3s ease;\r\n\t}\r\n\r\n\t.projects__progress-fill--planning {\r\n\t\tbackground: #64748b;\r\n\t}\r\n\r\n\t.projects__progress-fill--in-progress {\r\n\t\tbackground: #3b82f6;\r\n\t}\r\n\r\n\t.projects__progress-fill--completed {\r\n\t\tbackground: #10b981;\r\n\t}\r\n\r\n\t.projects__progress-fill--delayed {\r\n\t\tbackground: #ef4444;\r\n\t}\r\n\r\n\t.projects__item-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\r\n\t.projects__item-meta-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 4rpx;\r\n\t}\r\n\r\n\t.projects__item-meta-text {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #94a3b8;\r\n\t}\r\n\r\n\t.projects__item-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t\t// opacity: 0;\r\n\t\ttransition: opacity 0.3s ease;\r\n\t}\r\n\r\n\t.projects__item:active .projects__item-actions {\r\n\t\t// opacity: 1;\r\n\t}\r\n\r\n\t.projects__item-action {\r\n\t\tpadding: 8rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.projects__item-action:active {\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t/* 详情内容样式 */\r\n\t.projects__detail-scroll {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.projects__detail-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 24rpx;\r\n\t}\r\n\r\n\t.projects__section {\r\n\t\tbackground: #f8fafc;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 1rpx solid #e2e8f0;\r\n\t}\r\n\r\n\t.projects__section-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.projects__section-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #0f172a;\r\n\t}\r\n\r\n\t.projects__section-count {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #64748b;\r\n\t\tmargin-left: auto;\r\n\t}\r\n\r\n\t/* 项目概览网格 */\r\n\t.projects__overview-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(auto-fit, minmax(250rpx, 1fr));\r\n\t\tgap: 16rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.projects__overview-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 4rpx;\r\n\t}\r\n\r\n\t.projects__overview-label {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #64748b;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.projects__overview-value {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.projects__overview-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #64748b;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\r\n\t/* 进度详情 */\r\n\t.projects__progress-detail {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 32rpx;\r\n\t}\r\n\r\n\t.projects__progress-visual {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.projects__progress-circle {\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: conic-gradient(#3b82f6 0% var(--progress), #e2e8f0 var(--progress) 100%);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.projects__progress-circle::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.projects__progress-circle-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #0f172a;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.projects__progress-stats {\r\n\t\tflex: 1;\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(2, 1fr);\r\n\t\tgap: 16rpx;\r\n\t}\r\n\r\n\t.projects__progress-stat {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 4rpx;\r\n\t}\r\n\r\n\t.projects__progress-stat-label {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #64748b;\r\n\t}\r\n\r\n\t.projects__progress-stat-value {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: #0f172a;\r\n\t}\r\n\r\n\t/* 任务列表 */\r\n\t.projects__tasks-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.projects__task-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 12rpx;\r\n\t\tpadding: 16rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 8rpx;\r\n\t\tborder: 1rpx solid #e2e8f0;\r\n\t\ttransition: all 0.2s ease;\r\n\t}\r\n\r\n\t.projects__task-item:active {\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t.projects__task-item--completed {\r\n\t\topacity: 0.7;\r\n\t}\r\n\r\n\t.projects__task-checkbox {\r\n\t\tpadding: 4rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tmargin-top: 4rpx;\r\n\t}\r\n\r\n\t.projects__task-checkbox:active {\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t.projects__task-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 6rpx;\r\n\t}\r\n\r\n\t.projects__task-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tjustify-content: space-between;\r\n\t\tgap: 8rpx;\r\n\t}\r\n\r\n\t.projects__task-title {\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #0f172a;\r\n\t\tflex: 1;\r\n\t\ttext-decoration: var(--text-decoration, none);\r\n\t}\r\n\r\n\t.projects__task-item--completed .projects__task-title {\r\n\t\t--text-decoration: line-through;\r\n\t\tcolor: #94a3b8;\r\n\t}\r\n\r\n\t.projects__task-badge {\r\n\t\tfont-size: 20rpx;\r\n\t\tpadding: 4rpx 8rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tfont-weight: 500;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.projects__task-badge--low {\r\n\t\tbackground: rgba(16, 185, 129, 0.1);\r\n\t\tcolor: #059669;\r\n\t}\r\n\r\n\t.projects__task-badge--medium {\r\n\t\tbackground: rgba(245, 158, 11, 0.1);\r\n\t\tcolor: #d97706;\r\n\t}\r\n\r\n\t.projects__task-badge--high {\r\n\t\tbackground: rgba(239, 68, 68, 0.1);\r\n\t\tcolor: #dc2626;\r\n\t}\r\n\r\n\t.projects__task-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #64748b;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\r\n\t.projects__task-item--completed .projects__task-desc {\r\n\t\tcolor: #cbd5e1;\r\n\t}\r\n\r\n\t.projects__task-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.projects__task-meta-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 4rpx;\r\n\t}\r\n\r\n\t.projects__task-meta-text {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #94a3b8;\r\n\t}\r\n\r\n\t.projects__task-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t\topacity: 0;\r\n\t\ttransition: opacity 0.3s ease;\r\n\t}\r\n\r\n\t.projects__task-item:active .projects__task-actions {\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.projects__task-action {\r\n\t\tpadding: 8rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.projects__task-action:active {\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t/* 文档列表 */\r\n\t.projects__documents-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.projects__document-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t\tpadding: 16rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 8rpx;\r\n\t\tborder: 1rpx solid #e2e8f0;\r\n\t\ttransition: all 0.2s ease;\r\n\t}\r\n\r\n\t.projects__document-item:active {\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t.projects__document-icon {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tbackground: rgba(238, 238, 246, 0.1);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\r\n\t.projects__document-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 4rpx;\r\n\t}\r\n\r\n\t.projects__document-name {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.projects__document-meta {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #94a3b8;\r\n\t}\r\n\r\n\t.projects__document-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\t\t// opacity: 0;\r\n\t\ttransition: opacity 0.3s ease;\r\n\t}\r\n\r\n\t.projects__document-item:active .projects__document-actions {\r\n\t\t// opacity: 1;\r\n\t}\r\n\r\n\t.projects__document-action {\r\n\t\tpadding: 8rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.projects__document-action:active {\r\n\t\tbackground: #f1f5f9;\r\n\t}\r\n\r\n\t/* 空状态样式 */\r\n\t.projects__empty,\r\n\t.projects__empty-detail,\r\n\t.projects__empty-section {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 16rpx;\r\n\t\tpadding: 80rpx 32rpx;\r\n\t\tcolor: #cbd5e1;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.projects__empty-section {\r\n\t\tpadding: 40rpx 32rpx;\r\n\t}\r\n\r\n\t.projects__empty-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #64748b;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.projects__empty-subtext {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #94a3b8;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\r\n\t.projects__empty-section-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #94a3b8;\r\n\t}\r\n\r\n\t/* 新增模态框样式 */\r\n\t.modal-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(15, 23, 42, 0.6);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 1000;\r\n\t\tpadding: 32rpx;\r\n\t}\r\n\r\n\t.modal-container {\r\n\t\tbackground: #ffffff;\r\n\t\tborder-radius: 20rpx;\r\n\t\twidth: 100%;\r\n\t\tmax-width: 1000rpx;\r\n\t\tmax-height: 80vh;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 20rpx 60rpx rgba(15, 23, 42, 0.2);\r\n\t\tanimation: modalSlideIn 0.3s ease;\r\n\t}\r\n\r\n\t@keyframes modalSlideIn {\r\n\t\tfrom {\r\n\t\t\topacity: 0;\r\n\t\t\ttransform: translateY(-40rpx) scale(0.95);\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\topacity: 1;\r\n\t\t\ttransform: translateY(0) scale(1);\r\n\t\t}\r\n\t}\r\n\r\n\t.modal-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 32rpx 32rpx 0;\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\r\n\t.modal-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #0f172a;\r\n\t}\r\n\r\n\t.modal-content {\r\n\t\tpadding: 0 32rpx;\r\n\t\tmax-height: 60vh;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.form-group {\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\r\n\t.form-label {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #0f172a;\r\n\t\tmargin-bottom: 8rpx;\r\n\t}\r\n\r\n\t.form-input {\r\n\t\twidth: 95%;\r\n\t\theight: 80rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t\tborder: 2rpx solid #e2e8f0;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tbackground: #ffffff;\r\n\t\ttransition: all 0.2s ease;\r\n\t}\r\n\r\n\t.form-input:focus {\r\n\t\tborder-color: #3b82f6;\r\n\t\toutline: none;\r\n\t}\r\n\r\n\t.form-textarea {\r\n\t\twidth: 95%;\r\n\t\tmin-height: 160rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 2rpx solid #e2e8f0;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tbackground: #ffffff;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tresize: none;\r\n\t}\r\n\r\n\t.form-textarea:focus {\r\n\t\tborder-color: #3b82f6;\r\n\t\toutline: none;\r\n\t}\r\n\r\n\t.upload-area {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 80rpx 32rpx;\r\n\t\tborder: 2rpx dashed #cbd5e1;\r\n\t\tborder-radius: 12rpx;\r\n\t\tbackground: #f8fafc;\r\n\t\ttransition: all 0.3s ease;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.upload-area:active {\r\n\t\tborder-color: #3b82f6;\r\n\t\tbackground: rgba(59, 130, 246, 0.05);\r\n\t}\r\n\r\n\t.upload-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-top: 16rpx;\r\n\t}\r\n\r\n\t.upload-subtext {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #64748b;\r\n\t\tmargin-top: 8rpx;\r\n\t}\r\n\r\n\t.selected-file {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground: #f1f5f9;\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-top: 16rpx;\r\n\t}\r\n\r\n\t.file-name {\r\n\t\tflex: 1;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #0f172a;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.file-size {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #64748b;\r\n\t}\r\n\r\n\t.modal-actions {\r\n\t\tdisplay: flex;\r\n\t\tgap: 16rpx;\r\n\t\tpadding: 24rpx 32rpx;\r\n\t\tborder-top: 1rpx solid #e2e8f0;\r\n\t\tmargin-top: 24rpx;\r\n\t}\r\n\r\n\t.modal-button {\r\n\t\tflex: 1;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tborder: none;\r\n\t\ttransition: all 0.3s ease;\r\n\t}\r\n\r\n\t.modal-button--cancel {\r\n\t\tbackground: transparent;\r\n\t\tcolor: #64748b;\r\n\t\tborder: 2rpx solid #e2e8f0;\r\n\t}\r\n\r\n\t.modal-button--cancel:active {\r\n\t\tbackground: #f8fafc;\r\n\t}\r\n\r\n\t.modal-button--confirm {\r\n\t\tbackground: linear-gradient(135deg, #3b82f6, #2563eb);\r\n\t\tcolor: #ffffff;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(59, 130, 246, 0.3);\r\n\t}\r\n\r\n\t.modal-button--confirm:active {\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(59, 130, 246, 0.4);\r\n\t\ttransform: translateY(2rpx);\r\n\t}\r\n\r\n\t.modal-button--confirm:disabled {\r\n\t\tbackground: #cbd5e1;\r\n\t\tbox-shadow: none;\r\n\t\ttransform: none;\r\n\t}\r\n\r\n\t/* 响应式设计 */\r\n\t@media (max-width: 1023px) {\r\n\t\t.projects {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tgap: 24rpx;\r\n\t\t}\r\n\r\n\t\t.projects__content {\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\r\n\t\t.projects__list-panel {\r\n\t\t\twidth: 93%;\r\n\t\t\tmin-width: auto;\r\n\t\t}\r\n\r\n\t\t.projects__header {\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: stretch;\r\n\t\t\tgap: 16rpx;\r\n\t\t}\r\n\r\n\t\t.projects__header-actions {\r\n\t\t\tjustify-content: flex-start;\r\n\t\t}\r\n\r\n\r\n\t\t.projects__panel-header {\r\n\t\t\t// flex-direction: column;\r\n\t\t\talign-items: stretch;\r\n\t\t\tgap: 16rpx;\r\n\t\t}\r\n\r\n\t\t.projects__detail-actions {\r\n\t\t\tjustify-content: flex-start;\r\n\t\t}\r\n\r\n\t\t.projects__progress-detail {\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: stretch;\r\n\t\t\tgap: 24rpx;\r\n\t\t}\r\n\r\n\t\t.projects__progress-stats {\r\n\t\t\tgrid-template-columns: repeat(4, 1fr);\r\n\t\t}\r\n\t}\r\n\r\n\t@media (max-width: 768px) {\r\n\t\t.projects__header-actions {\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: stretch;\r\n\t\t}\r\n\r\n\t\t.projects__overview-grid {\r\n\t\t\tgrid-template-columns: 1fr;\r\n\t\t}\r\n\r\n\t\t.projects__progress-stats {\r\n\t\t\tgrid-template-columns: repeat(2, 1fr);\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t/* 桌面端悬停效果 */\r\n\t@media (min-width: 768px) {\r\n\t\t.projects__item:hover {\r\n\t\t\ttransform: translateY(-2rpx);\r\n\t\t\tbox-shadow: 0 8rpx 24rpx rgba(15, 23, 42, 0.12);\r\n\t\t}\r\n\r\n\t\t.projects__item:hover .projects__item-actions {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t.projects__task-item:hover {\r\n\t\t\tbackground: #f1f5f9;\r\n\t\t\ttransform: translateY(-1rpx);\r\n\t\t}\r\n\r\n\t\t.projects__task-item:hover .projects__task-actions {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t.projects__document-item:hover {\r\n\t\t\tbackground: #f1f5f9;\r\n\t\t\ttransform: translateY(-1rpx);\r\n\t\t}\r\n\r\n\t\t.projects__document-item:hover .projects__document-actions {\r\n\t\t\t// opacity: 1;\r\n\t\t}\r\n\r\n\t\t.projects__button--primary:hover {\r\n\t\t\tbox-shadow: 0 6rpx 20rpx rgba(59, 130, 246, 0.4);\r\n\t\t}\r\n\r\n\t\t.projects__button--secondary:hover {\r\n\t\t\tbackground: rgba(59, 130, 246, 0.1);\r\n\t\t}\r\n\r\n\t\t.projects__button--outline:hover {\r\n\t\t\tbackground: #f8fafc;\r\n\t\t}\r\n\r\n\t\t.projects__filter-tab:hover {\r\n\t\t\tbackground: rgba(255, 255, 255, 0.5);\r\n\t\t}\r\n\r\n\t\t.projects__item-action:hover {\r\n\t\t\tbackground: #f1f5f9;\r\n\t\t}\r\n\r\n\t\t.projects__task-action:hover {\r\n\t\t\tbackground: #f1f5f9;\r\n\t\t}\r\n\r\n\t\t.projects__document-action:hover {\r\n\t\t\tbackground: #f1f5f9;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/97247/Desktop/uni-ecoful/pages/project/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["navTitleStore","onShow","ref","reactive","computed","getProjects","uni","getProjectDetail","getProjectDocuments","createProjects","updateProject","deleteProject","pickProjectFile","pickProjectImage","uploadProjectFile","downloadProjectFile","removeProjectFile","onMounted"],"mappings":"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"}