{"version":3,"file":"config.js","sources":["utils/config.js"],"sourcesContent":["// 配置中心（UTF-8，中文注释）\n// 目标：导出 BASE_URL 和 WS_URL，供请求与流式模块使用；允许按端/环境覆盖\n\nlet BASE_URL = 'http://localhost:6039'\n\n// 统一运行时覆盖（H5/小程序/App 都可在启动时注入）：\n// 例如在 App.vue onLaunch 中：globalThis.__UNI_API_BASE__ = 'https://api.example.com'\ntry {\n  if (typeof globalThis !== 'undefined' && globalThis.__UNI_API_BASE__) {\n    BASE_URL = String(globalThis.__UNI_API_BASE__)\n  }\n} catch (e) {}\n\n// 计算 WS_URL：http -> ws，https -> wss\nlet WS_URL = BASE_URL\ntry {\n  WS_URL = /^https:\\/\\//i.test(BASE_URL)\n    ? BASE_URL.replace(/^https/i, 'wss')\n    : BASE_URL.replace(/^http/i, 'ws')\n} catch (e) {\n  WS_URL = BASE_URL.replace(/^http/i, 'ws')\n}\nWS_URL = WS_URL + '/chat/stream'\n\nexport { BASE_URL, WS_URL }\n\n"],"names":["BASE_URL","WS_URL"],"mappings":";AAGIA,QAAAA,WAAW;AAIf,IAAI;AACF,MAAI,OAAO,eAAe,eAAe,WAAW,kBAAkB;AACpEA,uBAAW,OAAO,WAAW,gBAAgB;AAAA,EAC9C;AACH,SAAS,GAAG;AAAE;AAGVC,QAAAA,SAASD,QAAQ;AACrB,IAAI;AACFC,mBAAS,eAAe,KAAKD,gBAAQ,IACjCA,iBAAS,QAAQ,WAAW,KAAK,IACjCA,iBAAS,QAAQ,UAAU,IAAI;AACrC,SAAS,GAAG;AACVC,UAAAA,SAASD,QAAQ,SAAC,QAAQ,UAAU,IAAI;AAC1C;AACAC,QAAM,SAAGA,iBAAS;"}