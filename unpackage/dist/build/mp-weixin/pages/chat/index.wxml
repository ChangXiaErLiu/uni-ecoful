<app-layout wx:if="{{T}}" class="data-v-992afeca" u-s="{{['d']}}" u-i="992afeca-0" bind:__l="__l" u-p="{{T}}"><view class="{{['chat-page', 'data-v-992afeca', Q]}}"><block wx:if="{{a}}"><chat-sidebar wx:if="{{g}}" class="data-v-992afeca" bindcreateChat="{{b}}" bindselectConversation="{{c}}" bindeditConversation="{{d}}" binddeleteConversation="{{e}}" bindtoggleCollapse="{{f}}" u-i="992afeca-1,992afeca-0" bind:__l="__l" u-p="{{g}}"/><view class="chat-main data-v-992afeca"><chat-header wx:if="{{i}}" class="data-v-992afeca" bindtoggleSidebar="{{h}}" u-i="992afeca-2,992afeca-0" bind:__l="__l" u-p="{{i}}"/><view class="message-list-container data-v-992afeca" ref="h5MessageListRef"><chat-message wx:for="{{j}}" wx:for-item="msg" wx:key="a" class="data-v-992afeca" bindfeedback="{{msg.b}}" bindedit="{{msg.c}}" bindrequestEdit="{{msg.d}}" u-i="{{msg.e}}" bind:__l="__l" u-p="{{msg.f}}"/><view class="data-v-992afeca" id="{{k}}" style="height:1px;width:100%"></view></view><chat-input wx:if="{{q}}" class="r data-v-992afeca" u-r="chatInputRef" bindsendMessage="{{m}}" bindstopGenerating="{{n}}" bindclearConversation="{{o}}" bindaddAttachment="{{p}}" u-i="992afeca-4,992afeca-0" bind:__l="__l" u-p="{{q}}"/></view></block><block wx:else><chat-header wx:if="{{s}}" class="data-v-992afeca" bindtoggleSidebar="{{r}}" u-i="992afeca-5,992afeca-0" bind:__l="__l" u-p="{{s}}"/><view class="mobile-chat-container data-v-992afeca"><uni-popup wx:if="{{D}}" class="r data-v-992afeca" u-s="{{['d']}}" u-r="sidebarPopup" bindchange="{{C}}" u-i="992afeca-6,992afeca-0" bind:__l="__l" u-p="{{D}}"><view class="popup-drawer data-v-992afeca" style="{{A}}"><chat-sidebar wx:if="{{z}}" class="data-v-992afeca" bindcreateChat="{{t}}" bindselectConversation="{{v}}" bindeditConversation="{{w}}" binddeleteConversation="{{x}}" bindtoggleCollapse="{{y}}" u-i="992afeca-7,992afeca-6" bind:__l="__l" u-p="{{z}}"/></view></uni-popup><view class="mobile-chat-main data-v-992afeca"><scroll-view class="message-list-container data-v-992afeca" scroll-y enable-flex scroll-into-view="{{G}}" scroll-top="{{H}}" lower-threshold="{{80}}" bindscroll="{{I}}" bindscrolltolower="{{J}}"><chat-message wx:for="{{E}}" wx:for-item="msg" wx:key="a" class="data-v-992afeca" bindfeedback="{{msg.b}}" bindedit="{{msg.c}}" bindrequestEdit="{{msg.d}}" u-i="{{msg.e}}" bind:__l="__l" u-p="{{msg.f}}"/><view class="data-v-992afeca" id="{{F}}" style="height:1px;width:100%"></view></scroll-view><chat-input wx:if="{{P}}" class="r data-v-992afeca" u-r="chatInputRef" bindsendMessage="{{L}}" bindstopGenerating="{{M}}" bindclearConversation="{{N}}" bindaddAttachment="{{O}}" u-i="992afeca-9,992afeca-0" bind:__l="__l" u-p="{{P}}"/></view></view></block></view><view wx:if="{{false}}" class="debug-info data-v-992afeca" style="position:fixed;top:10px;left:10px;background:rgba(0,0,0,0.8);color:white;padding:10px;z-index:9999"><text class="data-v-992afeca">当前消息数: {{R}}</text><text wx:for="{{S}}" wx:for-item="msg" wx:key="d" class="data-v-992afeca">{{msg.a}}: {{msg.b}} - {{msg.c}}</text></view></app-layout>