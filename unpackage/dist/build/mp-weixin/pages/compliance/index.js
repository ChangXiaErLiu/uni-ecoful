"use strict";const e=require("../../common/vendor.js"),t=require("../../stores/navTitle.js");if(!Array){e.resolveComponent("uni-icons")()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+s)();const s=()=>"../../components/layout/AppLayout.js",o={__name:"index",setup(s){const o=t.navTitleStore();e.onShow((()=>o.setTitle("文档合规性审查")));const a=e.ref(null),n=e.ref([{id:"analysis",name:"语义理解",status:"pending",statusLabel:"待开始"},{id:"policy",name:"政策引用检查",status:"pending",statusLabel:"待开始"},{id:"data",name:"数据一致性",status:"pending",statusLabel:"待开始"},{id:"summary",name:"报告生成",status:"pending",statusLabel:"待开始"}]),i=e.ref([{id:"issue-1",type:"logic",severity:"high",location:"第3章 结论部分",description:"结论部分与前文数据分析结果存在不一致",suggestion:"建议重新核对数据并调整结论表述"},{id:"issue-2",type:"policy",severity:"medium",location:"第2章 政策引用",description:"引用的《环境保护法》条文版本已过期",suggestion:"更新为最新版本的环境保护法相关条文"},{id:"issue-3",type:"format",severity:"low",location:"全文格式",description:"部分图表编号格式不符合规范要求",suggestion:"按照规范要求统一图表编号格式"}]),l=e.computed((()=>{const e=n.value.filter((e=>"completed"===e.status)).length;return 0===e?"idle":e===n.value.length?"completed":"processing"})),u=e.computed((()=>{switch(l.value){case"idle":default:return"待开始";case"processing":return"审查中";case"completed":return"审查完成"}})),c=e.computed((()=>"completed"===l.value));function p(){console.log("选择需要审查的报告"),a.value={name:"环境影响评估报告.pdf",size:"2.8 MB",type:"PDF文档"}}function r(){a.value=null,m()}function d(){console.log("启动合规审查流程"),n.value.forEach(((e,t)=>{setTimeout((()=>{e.status="active",e.statusLabel="进行中",setTimeout((()=>{e.status="completed",e.statusLabel="已完成"}),1500)}),2e3*t)}))}function m(){n.value.forEach((e=>{e.status="pending",e.statusLabel="待开始"}))}function f(){console.log("下载审查报告"),e.index.showToast({title:"报告下载中",icon:"success"})}return(t,s)=>e.e({a:e.p({type:"cloud-upload",size:"48",color:"#3b82f6"}),b:e.o(p),c:a.value},a.value?{d:e.p({type:"document",size:"24",color:"#3b82f6"}),e:e.t(a.value.name),f:e.t(a.value.size),g:e.t(a.value.type),h:e.p({type:"trash",size:"18",color:"#ef4444"}),i:e.o(r)}:{},{j:e.t(u.value),k:e.n(`compliance__status-indicator--${l.value}`),l:e.f(n.value,((t,s,o)=>e.e({a:"completed"===t.status},"completed"===t.status?{b:"98e7f70c-4-"+o+",98e7f70c-0",c:e.p({type:"checkmarkempty",size:"14",color:"#ffffff"})}:{},{d:s<n.value.length-1},(n.value.length,{}),{e:e.t(t.name),f:e.t(t.statusLabel),g:t.id,h:e.n(`compliance__progress-item--${t.status}`)}))),m:e.p({type:"refresh",size:"16",color:"#64748b"}),n:e.o(m),o:e.p({type:"search",size:"16",color:"#ffffff"}),p:e.o(d),q:!a.value,r:i.value.length>0},i.value.length>0?{s:e.t(i.value.length)}:{},{t:i.value.length>0},i.value.length>0?{v:e.f(i.value,((t,s,o)=>{return e.e({a:e.t((a=t.type,{logic:"逻辑",policy:"政策",data:"数据",format:"格式",semantic:"语义"}[a]||"其他")),b:e.n(`compliance__issue-type-badge--${t.type}`),c:e.t(t.location),d:e.t(t.description),e:t.suggestion},t.suggestion?{f:e.t(t.suggestion)}:{},{g:t.id,h:e.n(`compliance__issue-item--${t.severity}`)});var a}))}:{w:e.p({type:"checkmarkcircle",size:"48",color:"#cbd5e1"})},{x:i.value.length>0?"400rpx":"auto",y:c.value},c.value?{z:e.p({type:"download",size:"20",color:"#3b82f6"}),A:e.o(f)}:{},{B:e.p({current:"pages/compliance/index"})})}},a=e._export_sfc(o,[["__scopeId","data-v-98e7f70c"]]);wx.createPage(a);
